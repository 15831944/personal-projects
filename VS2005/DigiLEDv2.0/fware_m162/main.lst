
AVRASM ver. 2.1.9  main.asm Tue Jul 31 17:27:04 2007

main.asm(990): Including file 'main.vec'
main.asm(991): Including file 'main.inc'
main.inc(2): warning: Register r4 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(3): warning: Register r6 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(12): warning: Register r8 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(13): warning: Register r9 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(14): warning: Register r11 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(29): warning: Register r13 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(30): warning: Register r14 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
                 
                 
                 ;CodeVisionAVR C Compiler V1.25.2 Standard
                 ;(C) Copyright 1998-2006 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 
                 ;Chip type              : ATmega162
                 ;Program type           : Application
                 ;Clock frequency        : 16.000000 MHz
                 ;Memory model           : Small
                 ;Optimize for           : Speed
                 ;(s)printf features     : int, width
                 ;(s)scanf features      : int, width
                 ;External SRAM size     : 0
                 ;Data Stack size        : 160 byte(s)
                 ;Heap size              : 0 byte(s)
                 ;Promote char to int    : No
                 ;char is unsigned       : Yes
                 ;8 bit enums            : Yes
                 ;Word align FLASH struct: No
                 ;Enhanced core instructions    : On
                 ;Automatic register allocation : On
                 
                 	#pragma AVRPART ADMIN PART_NAME ATmega162
                 	#pragma AVRPART MEMORY PROG_FLASH 16384
                 	#pragma AVRPART MEMORY EEPROM 512
                 	#pragma AVRPART MEMORY INT_SRAM SIZE 1024
                 	#pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                 
                 	.EQU UDRE=0x5
                 	.EQU RXC=0x7
                 	.EQU USR=0xB
                 	.EQU UDR=0xC
                 	.EQU SPSR=0xE
                 	.EQU SPDR=0xF
                 	.EQU EERE=0x0
                 	.EQU EEWE=0x1
                 	.EQU EEMWE=0x2
                 	.EQU EECR=0x1C
                 	.EQU EEDR=0x1D
                 	.EQU EEARL=0x1E
                 	.EQU EEARH=0x1F
                 	.EQU WDTCR=0x21
                 	.EQU MCUCSR=0x34
                 	.EQU MCUCR=0x35
                 	.EQU EMCUCR=0x36
                 	.EQU GICR=0x3B
                 	.EQU SPL=0x3D
                 	.EQU SPH=0x3E
                 	.EQU SREG=0x3F
                 
                 	.DEF R0X0=R0
                 	.DEF R0X1=R1
                 	.DEF R0X2=R2
                 	.DEF R0X3=R3
                 	.DEF R0X4=R4
                 	.DEF R0X5=R5
                 	.DEF R0X6=R6
                 	.DEF R0X7=R7
                 	.DEF R0X8=R8
                 	.DEF R0X9=R9
                 	.DEF R0XA=R10
                 	.DEF R0XB=R11
                 	.DEF R0XC=R12
                 	.DEF R0XD=R13
                 	.DEF R0XE=R14
                 	.DEF R0XF=R15
                 	.DEF R0X10=R16
                 	.DEF R0X11=R17
                 	.DEF R0X12=R18
                 	.DEF R0X13=R19
                 	.DEF R0X14=R20
                 	.DEF R0X15=R21
                 	.DEF R0X16=R22
                 	.DEF R0X17=R23
                 	.DEF R0X18=R24
                 	.DEF R0X19=R25
                 	.DEF R0X1A=R26
                 	.DEF R0X1B=R27
                 	.DEF R0X1C=R28
                 	.DEF R0X1D=R29
                 	.DEF R0X1E=R30
                 	.DEF R0X1F=R31
                 
                 	.EQU __se_bit=0x20
                 
                 	.MACRO __CPD1N
                 	CPI  R30,LOW(@0)
                 	LDI  R26,HIGH(@0)
                 	CPC  R31,R26
                 	LDI  R26,BYTE3(@0)
                 	CPC  R22,R26
                 	LDI  R26,BYTE4(@0)
                 	CPC  R23,R26
                 	.ENDM
                 
                 	.MACRO __CPD2N
                 	CPI  R26,LOW(@0)
                 	LDI  R30,HIGH(@0)
                 	CPC  R27,R30
                 	LDI  R30,BYTE3(@0)
                 	CPC  R24,R30
                 	LDI  R30,BYTE4(@0)
                 	CPC  R25,R30
                 	.ENDM
                 
                 	.MACRO __CPWRR
                 	CP   R@0,R@2
                 	CPC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __CPWRN
                 	CPI  R@0,LOW(@2)
                 	LDI  R30,HIGH(@2)
                 	CPC  R@1,R30
                 	.ENDM
                 
                 	.MACRO __ADDB1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDB2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	SBCI R31,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	SBCI R27,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	SBCI R22,BYTE3(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1N
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	SBCI R22,BYTE3(-@0)
                 	SBCI R23,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __ADDD2N
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	SBCI R24,BYTE3(-@0)
                 	SBCI R25,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __SUBD1N
                 	SUBI R30,LOW(@0)
                 	SBCI R31,HIGH(@0)
                 	SBCI R22,BYTE3(@0)
                 	SBCI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __SUBD2N
                 	SUBI R26,LOW(@0)
                 	SBCI R27,HIGH(@0)
                 	SBCI R24,BYTE3(@0)
                 	SBCI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDBMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ANDWMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ANDI R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ANDD1N
                 	ANDI R30,LOW(@0)
                 	ANDI R31,HIGH(@0)
                 	ANDI R22,BYTE3(@0)
                 	ANDI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORBMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ORWMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ORI  R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ORD1N
                 	ORI  R30,LOW(@0)
                 	ORI  R31,HIGH(@0)
                 	ORI  R22,BYTE3(@0)
                 	ORI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __DELAY_USB
                 	LDI  R24,LOW(@0)
                 __DELAY_USB_LOOP:
                 	DEC  R24
                 	BRNE __DELAY_USB_LOOP
                 	.ENDM
                 
                 	.MACRO __DELAY_USW
                 	LDI  R24,LOW(@0)
                 	LDI  R25,HIGH(@0)
                 __DELAY_USW_LOOP:
                 	SBIW R24,1
                 	BRNE __DELAY_USW_LOOP
                 	.ENDM
                 
                 	.MACRO __CLRD1S
                 	LDI  R30,0
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R30
                 	STD  Y+@0+2,R30
                 	STD  Y+@0+3,R30
                 	.ENDM
                 
                 	.MACRO __GETD1S
                 	LDD  R30,Y+@0
                 	LDD  R31,Y+@0+1
                 	LDD  R22,Y+@0+2
                 	LDD  R23,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __PUTD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R31
                 	STD  Y+@0+2,R22
                 	STD  Y+@0+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTD2S
                 	STD  Y+@0,R26
                 	STD  Y+@0+1,R27
                 	STD  Y+@0+2,R24
                 	STD  Y+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __POINTB1MN
                 	LDI  R30,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW1MN
                 	LDI  R30,LOW(@0+@1)
                 	LDI  R31,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1M
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	.ENDM
                 
                 	.MACRO __POINTW1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	LDI  R22,BYTE3(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTB2MN
                 	LDI  R26,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW2MN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTBRM
                 	LDI  R@0,LOW(@1)
                 	.ENDM
                 
                 	.MACRO __POINTWRM
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __POINTBRMN
                 	LDI  R@0,LOW(@1+@2)
                 	.ENDM
                 
                 	.MACRO __POINTWRMN
                 	LDI  R@0,LOW(@2+@3)
                 	LDI  R@1,HIGH(@2+@3)
                 	.ENDM
                 
                 	.MACRO __POINTWRFN
                 	LDI  R@0,LOW(@2*2+@3)
                 	LDI  R@1,HIGH(@2*2+@3)
                 	.ENDM
                 
                 	.MACRO __GETD1N
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2N
                 	LDI  R26,LOW(@0)
                 	LDI  R27,HIGH(@0)
                 	LDI  R24,BYTE3(@0)
                 	LDI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2S
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	LDD  R24,Y+@0+2
                 	LDD  R25,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB1MN
                 	LDS  R30,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETB1HMN
                 	LDS  R31,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	LDS  R22,@0+@1+2
                 	LDS  R23,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __GETBRMN
                 	LDS  R@0,@1+@2
                 	.ENDM
                 
                 	.MACRO __GETWRMN
                 	LDS  R@0,@2+@3
                 	LDS  R@1,@2+@3+1
                 	.ENDM
                 
                 	.MACRO __GETWRZ
                 	LDD  R@0,Z+@2
                 	LDD  R@1,Z+@2+1
                 	.ENDM
                 
                 	.MACRO __GETD2Z
                 	LDD  R26,Z+@0
                 	LDD  R27,Z+@0+1
                 	LDD  R24,Z+@0+2
                 	LDD  R25,Z+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB2MN
                 	LDS  R26,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	LDS  R24,@0+@1+2
                 	LDS  R25,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __PUTB1MN
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	STS  @0+@1+2,R22
                 	STS  @0+@1+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTBR0MN
                 	STS  @0+@1,R0
                 	.ENDM
                 
                 	.MACRO __PUTDZ2
                 	STD  Z+@0,R26
                 	STD  Z+@0+1,R27
                 	STD  Z+@0+2,R24
                 	STD  Z+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __PUTBMRN
                 	STS  @0+@1,R@2
                 	.ENDM
                 
                 	.MACRO __PUTWMRN
                 	STS  @0+@1,R@2
                 	STS  @0+@1+1,R@3
                 	.ENDM
                 
                 	.MACRO __PUTBZR
                 	STD  Z+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWZR
                 	STD  Z+@2,R@0
                 	STD  Z+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __GETW1R
                 	MOV  R30,R@0
                 	MOV  R31,R@1
                 	.ENDM
                 
                 	.MACRO __GETW2R
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	.ENDM
                 
                 	.MACRO __GETWRN
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __PUTW1R
                 	MOV  R@0,R30
                 	MOV  R@1,R31
                 	.ENDM
                 
                 	.MACRO __PUTW2R
                 	MOV  R@0,R26
                 	MOV  R@1,R27
                 	.ENDM
                 
                 	.MACRO __ADDWRN
                 	SUBI R@0,LOW(-@2)
                 	SBCI R@1,HIGH(-@2)
                 	.ENDM
                 
                 	.MACRO __ADDWRR
                 	ADD  R@0,R@2
                 	ADC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __SUBWRN
                 	SUBI R@0,LOW(@2)
                 	SBCI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __SUBWRR
                 	SUB  R@0,R@2
                 	SBC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ANDWRN
                 	ANDI R@0,LOW(@2)
                 	ANDI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ANDWRR
                 	AND  R@0,R@2
                 	AND  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ORWRN
                 	ORI  R@0,LOW(@2)
                 	ORI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ORWRR
                 	OR   R@0,R@2
                 	OR   R@1,R@3
                 	.ENDM
                 
                 	.MACRO __EORWRR
                 	EOR  R@0,R@2
                 	EOR  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __GETWRS
                 	LDD  R@0,Y+@2
                 	LDD  R@1,Y+@2+1
                 	.ENDM
                 
                 	.MACRO __PUTWSR
                 	STD  Y+@2,R@0
                 	STD  Y+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __MOVEWRR
                 	MOV  R@0,R@2
                 	MOV  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __INWR
                 	IN   R@0,@2
                 	IN   R@1,@2+1
                 	.ENDM
                 
                 	.MACRO __OUTWR
                 	OUT  @2+1,R@1
                 	OUT  @2,R@0
                 	.ENDM
                 
                 	.MACRO __CALL1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	CALL __GETW1PF
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	CALL __EEPROMRDW
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __GETW1STACK
                 	IN   R26,SPL
                 	IN   R27,SPH
                 	ADIW R26,@0+1
                 	LD   R30,X+
                 	LD   R31,X
                 	.ENDM
                 
                 	.MACRO __NBST
                 	BST  R@0,@1
                 	IN   R30,SREG
                 	LDI  R31,0x40
                 	EOR  R30,R31
                 	OUT  SREG,R30
                 	.ENDM
                 
                 
                 	.MACRO __PUTB1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	CALL __PUTDP1
                 	.ENDM
                 
                 
                 	.MACRO __GETB1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R30,Z
                 	.ENDM
                 
                 	.MACRO __GETB1HSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	.ENDM
                 
                 	.MACRO __GETW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z+
                 	LD   R23,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __GETB2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R26,X
                 	.ENDM
                 
                 	.MACRO __GETW2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	.ENDM
                 
                 	.MACRO __GETD2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R1,X+
                 	LD   R24,X+
                 	LD   R25,X
                 	MOVW R26,R0
                 	.ENDM
                 
                 	.MACRO __GETBRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	LD   R@0,Z
                 	.ENDM
                 
                 	.MACRO __GETWRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	LD   R@0,Z+
                 	LD   R@1,Z
                 	.ENDM
                 
                 	.MACRO __LSLW8SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	CLR  R30
                 	.ENDM
                 
                 	.MACRO __PUTB1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __CLRW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __CLRD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __PUTB2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R26
                 	.ENDM
                 
                 	.MACRO __PUTW2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z,R27
                 	.ENDM
                 
                 	.MACRO __PUTD2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z+,R27
                 	ST   Z+,R24
                 	ST   Z,R25
                 	.ENDM
                 
                 	.MACRO __PUTBSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTWSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	ST   Z+,R@0
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __MULBRR
                 	MULS R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRRU
                 	MUL  R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRR0
                 	MULS R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBRRU0
                 	MUL  R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBNWRU
                 	LDI  R26,@2
                 	MUL  R26,R@0
                 	MOVW R30,R0
                 	MUL  R26,R@1
                 	ADD  R31,R0
                 	.ENDM
                 
                 	.CSEG
                 	.ORG 0
                 
                 	.INCLUDE "main.vec"
                 
                 ;INTERRUPT VECTORS
000000 940c 019c 	JMP  __RESET
000002 940c 0000 	JMP  0x00
000004 940c 0000 	JMP  0x00
000006 940c 0000 	JMP  0x00
000008 940c 0000 	JMP  0x00
00000a 940c 0000 	JMP  0x00
00000c 940c 0000 	JMP  0x00
00000e 940c 0000 	JMP  0x00
000010 940c 0000 	JMP  0x00
000012 940c 0000 	JMP  0x00
000014 940c 0000 	JMP  0x00
000016 940c 0000 	JMP  0x00
000018 940c 0000 	JMP  0x00
00001a 940c 0000 	JMP  0x00
00001c 940c 0000 	JMP  0x00
00001e 940c 0000 	JMP  0x00
000020 940c 0000 	JMP  0x00
000022 940c 01ce 	JMP  _timer0_ovf_isr
000024 940c 0000 	JMP  0x00
000026 940c 089e 	JMP  _usart_rx_isr
000028 940c 0000 	JMP  0x00
00002a 940c 0000 	JMP  0x00
00002c 940c 0000 	JMP  0x00
00002e 940c 0000 	JMP  0x00
000030 940c 0000 	JMP  0x00
000032 940c 0000 	JMP  0x00
000034 940c 0000 	JMP  0x00
000036 940c 0000 	JMP  0x00
                 
                 	.INCLUDE "main.inc"
                 
                 	.DEF _count_row=R4
                 	.DEF _count_col=R6
                 _szText:
000038 2a2a
000039 4320
00003a 6f75
00003b 676e      	.DB  0x2A,0x2A,0x20,0x43,0x75,0x6F,0x6E,0x67
00003c 7551
00003d 7961
00003e 3020
00003f 3139      	.DB  0x51,0x75,0x61,0x79,0x20,0x30,0x39,0x31
000040 3635
000041 3135
000042 3030
000043 2031      	.DB  0x35,0x36,0x35,0x31,0x30,0x30,0x31,0x20
000044 2a2a
main.inc(8): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000045 0000      	.DB  0x2A,0x2A,0x0
                 _3:
000046 9f11
000047 1632
000048 549c
000049 1f50      	.DB  0x11,0x9F,0x32,0x16,0x9C,0x54,0x50,0x1F
00004a 1410
00004b effe
00004c ffff
00004d ffff      	.DB  0x10,0x14,0xFE,0xEF,0xFF,0xFF,0xFF,0xFF
                 	.DEF _rx_message=R8
                 	.DEF _rx_wparam=R9
                 	.DEF _rx_lparam=R11
                 _0x2B:
00004e 0000      	.DB  0x0,0x0
                 _0x51:
00004f 00a0      	.DB  0xA0,0x0
000050 0000      	.DB  0x0,0x0
000051 0000      	.DB  0x0,0x0
000052 0000      	.DB  0x0,0x0
000053 0000      	.DB  0x0,0x0
000054 0000      	.DB  0x0,0x0
000055 0000      	.DB  0x0,0x0
                 _0x6E:
000056 0000      	.DB  0x0,0x0
000057 0000      	.DB  0x0,0x0
000058 0000      	.DB  0x0,0x0
                 	.DEF _rx_wr_index=R13
                 	.DEF _rx_counter=R14
                 _tbl10_G4:
000059 2710
00005a 03e8
00005b 0064
00005c 000a      	.DB  0x10,0x27,0xE8,0x3,0x64,0x0,0xA,0x0
00005d 0001      	.DB  0x1,0x0
                 _tbl16_G4:
00005e 1000
00005f 0100
000060 0010
000061 0001      	.DB  0x0,0x10,0x0,0x1,0x10,0x0,0x1,0x0
                 _conv_delay_G6:
000062 0064
000063 00c8
000064 0190
000065 0320      	.DB  0x64,0x0,0xC8,0x0,0x90,0x1,0x20,0x3
                 _bit_mask_G6:
000066 fff8
000067 fffc
000068 fffe
000069 ffff      	.DB  0xF8,0xFF,0xFC,0xFF,0xFE,0xFF,0xFF,0xFF
                 _0:
00006a 4f54
00006b 4320
00006c 5548
00006d 2043      	.DB  0x54,0x4F,0x20,0x43,0x48,0x55,0x43,0x20
00006e 494b
00006f 484e
000070 5420
000071 2045      	.DB  0x4B,0x49,0x4E,0x48,0x20,0x54,0x45,0x20
000072 2020
000073 0020
000074 4144
000075 204e      	.DB  0x20,0x20,0x20,0x0,0x44,0x41,0x4E,0x20
000076 5543
000077 4720
000078 4955
000079 4720      	.DB  0x43,0x55,0x20,0x47,0x55,0x49,0x20,0x47
00007a 504f
00007b 2020
00007c 2020
00007d 0020      	.DB  0x4F,0x50,0x20,0x20,0x20,0x20,0x20,0x0
00007e 4144
00007f 204e
000080 5543
000081 4220      	.DB  0x44,0x41,0x4E,0x20,0x43,0x55,0x20,0x42
000082 4341
000083 5420
000084 4148
000085 474e      	.DB  0x41,0x43,0x20,0x54,0x48,0x41,0x4E,0x47
000086 2020
000087 0020
000088 4144
000089 204e      	.DB  0x20,0x20,0x20,0x0,0x44,0x41,0x4E,0x20
00008a 5543
00008b 4420
00008c 2055
00008d 4854      	.DB  0x43,0x55,0x20,0x44,0x55,0x20,0x54,0x48
00008e 4f55
00008f 474e
000090 2020
000091 0020      	.DB  0x55,0x4F,0x4E,0x47,0x20,0x20,0x20,0x0
000092 4144
000093 204e
000094 5543
000095 5420      	.DB  0x44,0x41,0x4E,0x20,0x43,0x55,0x20,0x54
000096 4f48
000097 474e
000098 5420
000099 5548      	.DB  0x48,0x4F,0x4E,0x47,0x20,0x54,0x48,0x55
00009a 4e4f
00009b 0047
00009c 3025
00009d 6432      	.DB  0x4F,0x4E,0x47,0x0,0x25,0x30,0x32,0x64
00009e 252d
00009f 3230
0000a0 2d64
0000a1 3425      	.DB  0x2D,0x25,0x30,0x32,0x64,0x2D,0x25,0x34
0000a2 2564
0000a3 3230
0000a4 2564
0000a5 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000a6 2564
0000a7 3230
0000a8 2564
0000a9 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000aa 2564
0000ab 3230
0000ac 2564
0000ad 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000ae 2564
0000af 3230
0000b0 2564
0000b1 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000b2 2564
0000b3 3230
0000b4 2564
0000b5 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000b6 2564
0000b7 3230
0000b8 2564
0000b9 3230      	.DB  0x64,0x25,0x30,0x32,0x64,0x25,0x30,0x32
0000ba 0064
0000bb 2020
0000bc 2020
0000bd 2020      	.DB  0x64,0x0,0x20,0x20,0x20,0x20,0x20,0x20
0000be 2020
0000bf 2020
0000c0 2020
0000c1 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0000c2 2020
0000c3 2020
0000c4 2020
0000c5 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0000c6 2020
0000c7 2020
0000c8 2020
0000c9 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0000ca 2020
0000cb 2020
0000cc 2020
0000cd 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0000ce 2020
0000cf 2020
0000d0 0a0d
0000d1 7c00      	.DB  0x20,0x20,0x20,0x20,0xD,0xA,0x0,0x7C
0000d2 3d3d
0000d3 3d3d
0000d4 3d3d
0000d5 3d3d      	.DB  0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D
0000d6 3d3d
0000d7 3d3d
0000d8 3d3d
0000d9 3d3d      	.DB  0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D
0000da 3d3d
0000db 3d3d
0000dc 3d3d
0000dd 3d3d      	.DB  0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D
0000de 3d3d
0000df 3d3d
0000e0 3d3d
0000e1 3d3d      	.DB  0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D
0000e2 3d3d
0000e3 3d3d
0000e4 3d3d
0000e5 3d3d      	.DB  0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D,0x3D
0000e6 7c3d
0000e7 0a0d
0000e8 7c00
0000e9 2020      	.DB  0x3D,0x7C,0xD,0xA,0x0,0x7C,0x20,0x20
0000ea 2020
0000eb 2020
0000ec 6944
0000ed 6967      	.DB  0x20,0x20,0x20,0x20,0x44,0x69,0x67,0x69
0000ee 454c
0000ef 2044
0000f0 5641
0000f1 2052      	.DB  0x4C,0x45,0x44,0x20,0x41,0x56,0x52,0x20
0000f2 6946
0000f3 6d72
0000f4 6177
0000f5 6572      	.DB  0x46,0x69,0x72,0x6D,0x77,0x61,0x72,0x65
0000f6 7620
0000f7 2e31
0000f8 2e30
0000f9 2030      	.DB  0x20,0x76,0x31,0x2E,0x30,0x2E,0x30,0x20
0000fa 2020
0000fb 2020
0000fc 2020
0000fd 7c20      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x7C
0000fe 0a0d
0000ff 7c00
000100 5f5f
000101 5f5f      	.DB  0xD,0xA,0x0,0x7C,0x5F,0x5F,0x5F,0x5F
000102 5f5f
000103 5f5f
000104 5f5f
000105 5f5f      	.DB  0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F
000106 5f5f
000107 5f5f
000108 5f5f
000109 5f5f      	.DB  0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F
00010a 5f5f
00010b 5f5f
00010c 5f5f
00010d 5f5f      	.DB  0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F
00010e 5f5f
00010f 5f5f
000110 5f5f
000111 5f5f      	.DB  0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F,0x5F
000112 5f5f
000113 5f5f
000114 7c5f
000115 0a0d      	.DB  0x5F,0x5F,0x5F,0x5F,0x5F,0x7C,0xD,0xA
000116 7c00
000117 2020
000118 2020
000119 2020      	.DB  0x0,0x7C,0x20,0x20,0x20,0x20,0x20,0x20
00011a 2020
00011b 6f43
00011c 7970
00011d 6972      	.DB  0x20,0x20,0x43,0x6F,0x70,0x79,0x72,0x69
00011e 6867
00011f 2074
000120 7962
000121 4320      	.DB  0x67,0x68,0x74,0x20,0x62,0x79,0x20,0x43
000122 6f75
000123 676e
000124 7551
000125 7961      	.DB  0x75,0x6F,0x6E,0x67,0x51,0x75,0x61,0x79
000126 2020
000127 2020
000128 2020
000129 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
00012a 2020
00012b 7c20
00012c 0a0d
00012d 7c00      	.DB  0x20,0x20,0x20,0x7C,0xD,0xA,0x0,0x7C
00012e 2020
00012f 2020
000130 7563
000131 6e6f      	.DB  0x20,0x20,0x20,0x20,0x63,0x75,0x6F,0x6E
000132 3367
000133 6869
000134 7475
000135 7940      	.DB  0x67,0x33,0x69,0x68,0x75,0x74,0x40,0x79
000136 6861
000137 6f6f
000138 632e
000139 6d6f      	.DB  0x61,0x68,0x6F,0x6F,0x2E,0x63,0x6F,0x6D
00013a 2d20
00013b 3020
00013c 3139
00013d 3635      	.DB  0x20,0x2D,0x20,0x30,0x39,0x31,0x35,0x36
00013e 3135
00013f 3030
000140 2031
000141 2020      	.DB  0x35,0x31,0x30,0x30,0x31,0x20,0x20,0x20
000142 7c20
000143 0a0d
000144 7c00
000145 2020      	.DB  0x20,0x7C,0xD,0xA,0x0,0x7C,0x20,0x20
000146 2020
000147 2020
000148 5320
000149 6174      	.DB  0x20,0x20,0x20,0x20,0x20,0x53,0x74,0x61
00014a 7472
00014b 6465
00014c 6420
00014d 7461      	.DB  0x72,0x74,0x65,0x64,0x20,0x64,0x61,0x74
00014e 3a65
00014f 3220
000150 2e34
000151 3530      	.DB  0x65,0x3A,0x20,0x32,0x34,0x2E,0x30,0x35
000152 322e
000153 3030
000154 2037
000155 2020      	.DB  0x2E,0x32,0x30,0x30,0x37,0x20,0x20,0x20
000156 2020
000157 2020
000158 2020
000159 7c20      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x7C
00015a 0a0d
00015b 7c00
00015c 2020
00015d 2020      	.DB  0xD,0xA,0x0,0x7C,0x20,0x20,0x20,0x20
00015e 2020
00015f 5220
000160 6c65
000161 6165      	.DB  0x20,0x20,0x20,0x52,0x65,0x6C,0x65,0x61
000162 6573
000163 6420
000164 7461
000165 3a65      	.DB  0x73,0x65,0x20,0x64,0x61,0x74,0x65,0x3A
000166 3220
000167 2e33
000168 3630
000169 322e      	.DB  0x20,0x32,0x33,0x2E,0x30,0x36,0x2E,0x32
00016a 3030
00016b 2037
00016c 2020
00016d 2020      	.DB  0x30,0x30,0x37,0x20,0x20,0x20,0x20,0x20
00016e 2020
00016f 2020
000170 7c20
000171 0a0d      	.DB  0x20,0x20,0x20,0x20,0x20,0x7C,0xD,0xA
000172 4400
000173 3153
000174 3033
000175 2037      	.DB  0x0,0x44,0x53,0x31,0x33,0x30,0x37,0x20
000176 4d47
000177 3a54
000178 2520
000179 3230      	.DB  0x47,0x4D,0x54,0x3A,0x20,0x25,0x30,0x32
00017a 3a64
00017b 3025
00017c 6432
00017d 253a      	.DB  0x64,0x3A,0x25,0x30,0x32,0x64,0x3A,0x25
00017e 3230
00017f 2064
000180 3025
000181 6432      	.DB  0x30,0x32,0x64,0x20,0x25,0x30,0x32,0x64
000182 252d
000183 3230
000184 2d64
000185 3025      	.DB  0x2D,0x25,0x30,0x32,0x64,0x2D,0x25,0x30
000186 6432
000187 0a0d
main.inc(112): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000188 0000      	.DB  0x32,0x64,0xD,0xA,0x0
                 
                 __GLOBAL_INI_TBL:
000189 0014      	.DW  0x14
00018a 03ae      	.DW  _szTitle_G1
00018b 00d4      	.DW  _0*2
                 
00018c 0014      	.DW  0x14
00018d 03c2      	.DW  _szTitle_G1+0x14
00018e 00e8      	.DW  _0*2+0x14
                 
00018f 0014      	.DW  0x14
000190 03d6      	.DW  _szTitle_G1+0x28
000191 00fc      	.DW  _0*2+0x28
                 
000192 0014      	.DW  0x14
000193 03ea      	.DW  _szTitle_G1+0x3C
000194 0110      	.DW  _0*2+0x3C
                 
000195 0014      	.DW  0x14
000196 03fe      	.DW  _szTitle_G1+0x50
000197 0124      	.DW  _0*2+0x50
                 
000198 0010      	.DW  0x10
000199 0412      	.DW  __xtable
00019a 008c      	.DW  _3*2
                 
00019b 0000      	.DW  0
                 _0x114:
                 
                 __RESET:
00019c 94f8      	CLI
00019d 27ee      	CLR  R30
00019e bbec      	OUT  EECR,R30
                 
                 ;INTERRUPT VECTORS ARE PLACED
                 ;AT THE START OF FLASH
00019f e0f1      	LDI  R31,1
0001a0 bffb      	OUT  GICR,R31
0001a1 bfeb      	OUT  GICR,R30
0001a2 bfe5      	OUT  MCUCR,R30
0001a3 bfe6      	OUT  EMCUCR,R30
                 
                 ;DISABLE WATCHDOG
0001a4 e1f8      	LDI  R31,0x18
0001a5 bdf1      	OUT  WDTCR,R31
0001a6 bde1      	OUT  WDTCR,R30
                 
                 ;CLEAR R2-R14
0001a7 e08d      	LDI  R24,13
0001a8 e0a2      	LDI  R26,2
0001a9 27bb      	CLR  R27
                 __CLEAR_REG:
0001aa 93ed      	ST   X+,R30
0001ab 958a      	DEC  R24
0001ac f7e9      	BRNE __CLEAR_REG
                 
                 ;CLEAR SRAM
0001ad e080      	LDI  R24,LOW(0x400)
0001ae e094      	LDI  R25,HIGH(0x400)
0001af e0a0      	LDI  R26,LOW(0x100)
0001b0 e0b1      	LDI  R27,HIGH(0x100)
                 __CLEAR_SRAM:
0001b1 93ed      	ST   X+,R30
0001b2 9701      	SBIW R24,1
0001b3 f7e9      	BRNE __CLEAR_SRAM
                 
                 ;GLOBAL VARIABLES INITIALIZATION
0001b4 e1e2      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
0001b5 e0f3      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
                 __GLOBAL_INI_NEXT:
0001b6 9185      	LPM  R24,Z+
0001b7 9195      	LPM  R25,Z+
0001b8 9700      	SBIW R24,0
0001b9 f061      	BREQ __GLOBAL_INI_END
0001ba 91a5      	LPM  R26,Z+
0001bb 91b5      	LPM  R27,Z+
0001bc 9005      	LPM  R0,Z+
0001bd 9015      	LPM  R1,Z+
0001be 01bf      	MOVW R22,R30
0001bf 01f0      	MOVW R30,R0
                 __GLOBAL_INI_LOOP:
0001c0 9005      	LPM  R0,Z+
0001c1 920d      	ST   X+,R0
0001c2 9701      	SBIW R24,1
0001c3 f7e1      	BRNE __GLOBAL_INI_LOOP
0001c4 01fb      	MOVW R30,R22
0001c5 cff0      	RJMP __GLOBAL_INI_NEXT
                 __GLOBAL_INI_END:
                 
                 ;STACK POINTER INITIALIZATION
0001c6 efef      	LDI  R30,LOW(0x4FF)
0001c7 bfed      	OUT  SPL,R30
0001c8 e0e4      	LDI  R30,HIGH(0x4FF)
0001c9 bfee      	OUT  SPH,R30
                 
                 ;DATA STACK POINTER INITIALIZATION
0001ca eac0      	LDI  R28,LOW(0x1A0)
0001cb e0d1      	LDI  R29,HIGH(0x1A0)
                 
0001cc 940c 0882 	JMP  _main
                 
                 	.ESEG
                 	.ORG 0
                 
                 	.DSEG
                 	.ORG 0x1A0
                 ;       1 /*****************************************************
                 ;       2 This program was produced by the
                 ;       3 CodeWizardAVR V1.24.6 Professional
                 ;       4 Automatic Program Generator
                 ;       5 © Copyright 1998-2005 Pavel Haiduc, HP InfoTech s.r.l.
                 ;       6 http://www.hpinfotech.com
                 ;       7 e-mail:office@hpinfotech.com
                 ;       8 
                 ;       9 Project : 
                 ;      10 Version : 
                 ;      11 Date    : 11/10/2005
                 ;      12 Author  : CUONGDD                            
                 ;      13 Company : 3iGROUP                           
                 ;      14 Comments: 
                 ;      15 
                 ;      16 
                 ;      17 Chip type           : ATmega16/162/8515
                 ;      18 Program type        : Application
                 ;      19 Clock frequency     : 8.000000 MHz
                 ;      20 Memory model        : Small
                 ;      21 External SRAM size  : 0
                 ;      22 Data Stack size     : 256
                 ;      23 *****************************************************/
                 ;      24 
                 ;      25 #include "define.h"      
                 ;      26 
                 ;      27 // 1 Wire Bus functions
                 ;      28 #asm
                 ;      29    .equ __w1_port=0x12 ;PORTD
                    .equ __w1_port=0x12 ;PORTD
                 ;      30    .equ __w1_bit=5
                    .equ __w1_bit=5
                 ;      31 #endasm
                 ;      32 #include <1wire.h>
                 ;      33 // DS1820 Temperature Sensor functions
                 ;      34 #include <ds18b20.h>
                 ;      35 // DS1307 Real Time Clock functions
                 ;      36 #include <ds1307.h>
                 ;      37                                       
                 ;      38 // Declare your global variables here     
                 ;      39 static PBYTE start_mem;
                 _start_mem_G1:
0001a0           	.BYTE 0x2
                 ;      40 static PBYTE end_mem;        
                 _end_mem_G1:
0001a2           	.BYTE 0x2
                 ;      41 static PBYTE buffer; 
                 _buffer_G1:
0001a4           	.BYTE 0x2
                 ;      42 static PBYTE org_mem;
                 _org_mem_G1:
0001a6           	.BYTE 0x2
                 ;      43 
                 ;      44 bit is_power_off         = 0;     
                 ;      45 
                 ;      46 register UINT count_row  = 0;
                 ;      47 register UINT count_col  = 0;     
                 ;      48 
                 ;      49 static BYTE scroll_rate   = 0; 
                 _scroll_rate_G1:
0001a8           	.BYTE 0x1
                 ;      50 static BYTE page_index   = 0;                                 
                 _page_index_G1:
0001a9           	.BYTE 0x1
                 ;      51 
                 ;      52 static UINT  tick_count  = 0;      
                 _tick_count_G1:
0001aa           	.BYTE 0x2
                 ;      53 static UINT  text_length = 0;
                 _text_length_G1:
0001ac           	.BYTE 0x2
                 ;      54 static UINT  char_width[256];    
                 _char_width_G1:
0001ae           	.BYTE 0x200
                 ;      55 
                 ;      56 flash char  szText[] = "** CuongQuay 0915651001 **";    
                 
                 	.CSEG
                 ;      57 static char szTitle[MAX_PAGE][MAX_TITLE]={
                 
                 	.DSEG
                 _szTitle_G1:
                 ;      58 "TO CHUC KINH TE    ",
                 ;      59 "DAN CU GUI GOP     ",
                 ;      60 "DAN CU BAC THANG   ",
                 ;      61 "DAN CU DU THUONG   ",
                 ;      62 "DAN CU THONG THUONG"
                 ;      63 };                               
0003ae           	.BYTE 0x64
                 ;      64 
                 ;      65 BYTE _xtable[]= {
                 __xtable:
                 ;      66                 0x11,0x9F,0x32,0x16,0x9C,0x54,0x50,0x1F,
                 ;      67                 0x10,0x14,0xFE,0xEF,0xFF,0xFF,0xFF,0xFF
                 ;      68                 };                                 
000412           	.BYTE 0x10
                 ;      69 
                 ;      70 // Global variables for message control
                 ;      71 BYTE  rx_message = UNKNOWN_MSG;
                 ;      72 WORD  rx_wparam  = 0;
                 ;      73 WORD  rx_lparam  = 0;
                 ;      74 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;      75                             
                 ;      76 extern void reset_serial();         
                 ;      77 extern void send_echo_msg();    
                 ;      78 extern BYTE eeprom_read(BYTE deviceID, PBYTE address);
                 ;      79 extern void eeprom_write(BYTE deviceID, PBYTE address, BYTE data);
                 ;      80 extern WORD eeprom_read_w(BYTE deviceID, PBYTE address);
                 ;      81 extern void eeprom_write_w(BYTE deviceID, PBYTE address, WORD data);
                 ;      82 extern void eeprom_write_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size);
                 ;      83 extern void eeprom_read_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size);
                 ;      84 
                 ;      85 static void _displayFrame();
                 ;      86 static void _displayLED();
                 ;      87 static void _doPaging(); 
                 ;      88                                                                                  
                 ;      89 void LoadPage();                  
                 ;      90 void GetRTCBuffer();      
                 ;      91 void FormatRTC(PBYTE pBuffer, UINT nBuffSize);
                 ;      92 void BlankRAM(PBYTE start_addr,PBYTE end_addr);
                 ;      93 ///////////////////////////////////////////////////////////////
                 ;      94 // Timer 0 overflow interrupt service routine , 40.5 us per tick                 
                 ;      95 ///////////////////////////////////////////////////////////////
                 ;      96 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
                 ;      97 {       
                 
                 	.CSEG
                 _timer0_ovf_isr:
0001ce 93ea      	ST   -Y,R30
0001cf 93fa      	ST   -Y,R31
0001d0 b7ef      	IN   R30,SREG
0001d1 93ea      	ST   -Y,R30
                 ;      98     TCNT0 = 0x05;       // 1ms = 4*250 = 1000 us
0001d2 e0e5      	LDI  R30,LOW(5)
0001d3 bfe2      	OUT  0x32,R30
                 ;      99     ++tick_count;    
0001d4 91e0 01aa 	LDS  R30,_tick_count_G1
0001d6 91f0 01ab 	LDS  R31,_tick_count_G1+1
0001d8 9631      	ADIW R30,1
0001d9 93e0 01aa 	STS  _tick_count_G1,R30
0001db 93f0 01ab 	STS  _tick_count_G1+1,R31
                 ;     100 }
0001dd 91e9      	LD   R30,Y+
0001de bfef      	OUT  SREG,R30
0001df 91f9      	LD   R31,Y+
0001e0 91e9      	LD   R30,Y+
0001e1 9518      	RETI
                 ;     101 
                 ;     102 #define RESET_WATCHDOG()    #asm("WDR");
                 ;     103 ///////////////////////////////////////////////////////////////
                 ;     104 // static function(s) for led matrix display panel
                 ;     105 ///////////////////////////////////////////////////////////////
                 ;     106 static void _setRow()
                 ;     107 {
                 __setRow_G1:
                 ;     108     BYTE i=0;      
                 ;     109     for (i=0; i<8; i++){            
0001e2 930a      	ST   -Y,R16
                 ;	i -> R16
0001e3 e000      	LDI  R16,0
0001e4 e000      	LDI  R16,LOW(0)
                 _0x5:
0001e5 3008      	CPI  R16,8
0001e6 f480      	BRSH _0x6
                 ;     110         if (i==(7-count_row)) SCAN_DAT = ON;        
0001e7 e0e7      	LDI  R30,LOW(7)
0001e8 e0f0      	LDI  R31,HIGH(7)
0001e9 19e4      	SUB  R30,R4
0001ea 09f5      	SBC  R31,R5
0001eb 2fa0      	MOV  R26,R16
0001ec e0b0      	LDI  R27,0
0001ed 17ea      	CP   R30,R26
0001ee 07fb      	CPC  R31,R27
0001ef f411      	BRNE _0x7
0001f0 9895      	CBI  0x12,5
                 ;     111         else SCAN_DAT = OFF;        
0001f1 c001      	RJMP _0x8
                 _0x7:
0001f2 9a95      	SBI  0x12,5
                 ;     112         SCAN_CLK = 1;
                 _0x8:
0001f3 9a93      	SBI  0x12,3
                 ;     113         SCAN_CLK = 0;            
0001f4 9893      	CBI  0x12,3
                 ;     114     }
0001f5 5f0f      	SUBI R16,-1
0001f6 cfee      	RJMP _0x5
                 _0x6:
                 ;     115 }
0001f7 c00c      	RJMP _0x109
                 ;     116             
                 ;     117 static void _powerOff()
                 ;     118 {
                 __powerOff_G1:
                 ;     119     BYTE i =0;               
                 ;     120     SCAN_DAT = OFF;  // data scan low        
0001f8 930a      	ST   -Y,R16
                 ;	i -> R16
0001f9 e000      	LDI  R16,0
0001fa 9a95      	SBI  0x12,5
                 ;     121     for (i=0; i< 8; i++)    
0001fb e000      	LDI  R16,LOW(0)
                 _0xA:
0001fc 3008      	CPI  R16,8
0001fd f420      	BRSH _0xB
                 ;     122     {                                              
                 ;     123         SCAN_CLK = 1;    // clock scan high
0001fe 9a93      	SBI  0x12,3
                 ;     124         SCAN_CLK = 0;    // clock scan low            
0001ff 9893      	CBI  0x12,3
                 ;     125     }                                         
000200 5f0f      	SUBI R16,-1
000201 cffa      	RJMP _0xA
                 _0xB:
                 ;     126     SCAN_STB = 1;    // strobe scan high
000202 9a94      	SBI  0x12,4
                 ;     127     SCAN_STB = 0;    // strobe scan low                    
000203 9894      	CBI  0x12,4
                 ;     128 }
                 _0x109:
000204 9109      	LD   R16,Y+
000205 9508      	RET
                 ;     129 #define _DELAY_BUS      1
                 ;     130 static void _displayLED()
                 ;     131 {                                  
                 __displayLED_G1:
                 ;     132     UINT i=0;        
                 ;     133     BYTE data[6];
                 ;     134     BYTE mask=0,k=0;       
                 ;     135     PBYTE buffer =(PBYTE)START_RAM+SCREEN_WIDTH;
                 ;     136     CTRL_CLK = 0;
000206 9726      	SBIW R28,6
000207 940e 0dbf 	CALL __SAVELOCR6
                 ;	i -> R16,R17
                 ;	data -> Y+6
                 ;	mask -> R18
                 ;	k -> R19
                 ;	*buffer -> R20,R21
000209 e000      	LDI  R16,0
00020a e010      	LDI  R17,0
00020b e020      	LDI  R18,0
00020c e030      	LDI  R19,0
00020d e648      	LDI  R20,LOW(0x568)
00020e e055      	LDI  R21,HIGH(0x568)
00020f 98c6      	CBI  0x18,6
                 ;     137     CTRL_STB = 0;
000210 98c7      	CBI  0x18,7
                 ;     138     for (i=0; i< 60; i++){      
000211 e000
000212 e010      	__GETWRN 16,17,0
                 _0xD:
000213 330c
000214 e0e0
000215 071e      	__CPWRN 16,17,60
000216 f010      	BRLO PC+3
000217 940c 02bf 	JMP _0xE
                 ;     139         mask = 0x01;
000219 e021      	LDI  R18,LOW(1)
                 ;     140 #ifdef __TEST_LED_        
                 ;     141         data[0] = _xtable[i%(page_index+1)];
                 ;     142         data[1] = data[0];
                 ;     143         data[2] = data[0];
                 ;     144         data[3] = data[0];
                 ;     145         data[4] = data[0];
                 ;     146         data[5] = data[0];
                 ;     147 #else                                     
                 ;     148         data[0] = buffer[60 -i-1];       
00021a e3ec      	LDI  R30,LOW(60)
00021b e0f0      	LDI  R31,HIGH(60)
00021c 1be0      	SUB  R30,R16
00021d 0bf1      	SBC  R31,R17
00021e 9731      	SBIW R30,1
00021f 0fe4      	ADD  R30,R20
000220 1ff5      	ADC  R31,R21
000221 81e0      	LD   R30,Z
000222 83ee      	STD  Y+6,R30
                 ;     149         data[1] = buffer[120-i-1];
000223 e7e8      	LDI  R30,LOW(120)
000224 e0f0      	LDI  R31,HIGH(120)
000225 1be0      	SUB  R30,R16
000226 0bf1      	SBC  R31,R17
000227 9731      	SBIW R30,1
000228 0fe4      	ADD  R30,R20
000229 1ff5      	ADC  R31,R21
00022a 81e0      	LD   R30,Z
00022b 83ef      	STD  Y+7,R30
                 ;     150         data[2] = buffer[180-i-1];
00022c ebe4      	LDI  R30,LOW(180)
00022d e0f0      	LDI  R31,HIGH(180)
00022e 1be0      	SUB  R30,R16
00022f 0bf1      	SBC  R31,R17
000230 9731      	SBIW R30,1
000231 0fe4      	ADD  R30,R20
000232 1ff5      	ADC  R31,R21
000233 81e0      	LD   R30,Z
000234 87e8      	STD  Y+8,R30
                 ;     151         data[3] = buffer[240-i-1];
000235 efe0      	LDI  R30,LOW(240)
000236 e0f0      	LDI  R31,HIGH(240)
000237 1be0      	SUB  R30,R16
000238 0bf1      	SBC  R31,R17
000239 9731      	SBIW R30,1
00023a 0fe4      	ADD  R30,R20
00023b 1ff5      	ADC  R31,R21
00023c 81e0      	LD   R30,Z
00023d 87e9      	STD  Y+9,R30
                 ;     152         data[4] = buffer[300-i-1];
00023e e2ec      	LDI  R30,LOW(300)
00023f e0f1      	LDI  R31,HIGH(300)
000240 1be0      	SUB  R30,R16
000241 0bf1      	SBC  R31,R17
000242 9731      	SBIW R30,1
000243 0fe4      	ADD  R30,R20
000244 1ff5      	ADC  R31,R21
000245 81e0      	LD   R30,Z
000246 87ea      	STD  Y+10,R30
                 ;     153         data[5] = buffer[360-i-1];        
000247 e6e8      	LDI  R30,LOW(360)
000248 e0f1      	LDI  R31,HIGH(360)
000249 1be0      	SUB  R30,R16
00024a 0bf1      	SBC  R31,R17
00024b 9731      	SBIW R30,1
00024c 0fe4      	ADD  R30,R20
00024d 1ff5      	ADC  R31,R21
00024e 81e0      	LD   R30,Z
00024f 87eb      	STD  Y+11,R30
                 ;     154 #endif        
                 ;     155         for (k=0; k< 8; k++){
000250 e030      	LDI  R19,LOW(0)
                 _0x10:
000251 3038      	CPI  R19,8
000252 f010      	BRLO PC+3
000253 940c 02ba 	JMP _0x11
                 ;     156             if ((data[0]&mask)>>(k)){
000255 2fe2      	MOV  R30,R18
000256 81ae      	LDD  R26,Y+6
000257 23ea      	AND  R30,R26
000258 2fae      	MOV  R26,R30
000259 2fe3      	MOV  R30,R19
00025a 940e 0d60 	CALL __LSRB12
00025c 30e0      	CPI  R30,0
00025d f011      	BREQ _0x12
                 ;     157                 DATA_01 = 1;delay_us(_DELAY_BUS);
00025e 9ac0      	SBI  0x18,0
00025f c001      	RJMP _0x10A
                 ;     158             }
                 ;     159             else{
                 _0x12:
                 ;     160                 DATA_01 = 0;delay_us(_DELAY_BUS);
000260 98c0      	CBI  0x18,0
                 _0x10A:
000261 e085
000262 958a
000263 f7f1      	__DELAY_USB 5
                 ;     161             }    
                 ;     162             
                 ;     163             if ((data[1]&mask)>>(k)){
000264 2fe2      	MOV  R30,R18
000265 81af      	LDD  R26,Y+7
000266 23ea      	AND  R30,R26
000267 2fae      	MOV  R26,R30
000268 2fe3      	MOV  R30,R19
000269 940e 0d60 	CALL __LSRB12
00026b 30e0      	CPI  R30,0
00026c f011      	BREQ _0x14
                 ;     164                 DATA_02 = 1;delay_us(_DELAY_BUS);
00026d 9ac1      	SBI  0x18,1
00026e c001      	RJMP _0x10B
                 ;     165             }
                 ;     166             else{
                 _0x14:
                 ;     167                 DATA_02 = 0;delay_us(_DELAY_BUS);
00026f 98c1      	CBI  0x18,1
                 _0x10B:
000270 e085
000271 958a
000272 f7f1      	__DELAY_USB 5
                 ;     168             }
                 ;     169             
                 ;     170             if ((data[2]&mask)>>(k)){
000273 2fe2      	MOV  R30,R18
000274 85a8      	LDD  R26,Y+8
000275 23ea      	AND  R30,R26
000276 2fae      	MOV  R26,R30
000277 2fe3      	MOV  R30,R19
000278 940e 0d60 	CALL __LSRB12
00027a 30e0      	CPI  R30,0
00027b f011      	BREQ _0x16
                 ;     171                 DATA_03 = 1;delay_us(_DELAY_BUS);
00027c 9ac2      	SBI  0x18,2
00027d c001      	RJMP _0x10C
                 ;     172             }
                 ;     173             else{
                 _0x16:
                 ;     174                 DATA_03 = 0;delay_us(_DELAY_BUS);
00027e 98c2      	CBI  0x18,2
                 _0x10C:
00027f e085
000280 958a
000281 f7f1      	__DELAY_USB 5
                 ;     175             }
                 ;     176             
                 ;     177             if ((data[3]&mask)>>(k)){
000282 2fe2      	MOV  R30,R18
000283 85a9      	LDD  R26,Y+9
000284 23ea      	AND  R30,R26
000285 2fae      	MOV  R26,R30
000286 2fe3      	MOV  R30,R19
000287 940e 0d60 	CALL __LSRB12
000289 30e0      	CPI  R30,0
00028a f011      	BREQ _0x18
                 ;     178                 DATA_04 = 1;delay_us(_DELAY_BUS);
00028b 9ac3      	SBI  0x18,3
00028c c001      	RJMP _0x10D
                 ;     179             }
                 ;     180             else{
                 _0x18:
                 ;     181                 DATA_04 = 0;delay_us(_DELAY_BUS);
00028d 98c3      	CBI  0x18,3
                 _0x10D:
00028e e085
00028f 958a
000290 f7f1      	__DELAY_USB 5
                 ;     182             }
                 ;     183             
                 ;     184             if ((data[4]&mask)>>(k)){
000291 2fe2      	MOV  R30,R18
000292 85aa      	LDD  R26,Y+10
000293 23ea      	AND  R30,R26
000294 2fae      	MOV  R26,R30
000295 2fe3      	MOV  R30,R19
000296 940e 0d60 	CALL __LSRB12
000298 30e0      	CPI  R30,0
000299 f011      	BREQ _0x1A
                 ;     185                 DATA_05 = 1;delay_us(_DELAY_BUS);
00029a 9ac4      	SBI  0x18,4
00029b c001      	RJMP _0x10E
                 ;     186             }
                 ;     187             else{
                 _0x1A:
                 ;     188                 DATA_05 = 0;delay_us(_DELAY_BUS);
00029c 98c4      	CBI  0x18,4
                 _0x10E:
00029d e085
00029e 958a
00029f f7f1      	__DELAY_USB 5
                 ;     189             }
                 ;     190                       
                 ;     191             if ((data[5]&mask)>>(k)){
0002a0 2fe2      	MOV  R30,R18
0002a1 85ab      	LDD  R26,Y+11
0002a2 23ea      	AND  R30,R26
0002a3 2fae      	MOV  R26,R30
0002a4 2fe3      	MOV  R30,R19
0002a5 940e 0d60 	CALL __LSRB12
0002a7 30e0      	CPI  R30,0
0002a8 f011      	BREQ _0x1C
                 ;     192                 DATA_06 = 1;delay_us(_DELAY_BUS);
0002a9 9ac5      	SBI  0x18,5
0002aa c001      	RJMP _0x10F
                 ;     193             }
                 ;     194             else{
                 _0x1C:
                 ;     195                 DATA_06 = 0;delay_us(_DELAY_BUS);
0002ab 98c5      	CBI  0x18,5
                 _0x10F:
0002ac e085
0002ad 958a
0002ae f7f1      	__DELAY_USB 5
                 ;     196             }
                 ;     197             
                 ;     198             CTRL_CLK = 1;delay_us(_DELAY_BUS);
0002af 9ac6      	SBI  0x18,6
0002b0 e085
0002b1 958a
0002b2 f7f1      	__DELAY_USB 5
                 ;     199             CTRL_CLK = 0;delay_us(_DELAY_BUS);        
0002b3 98c6      	CBI  0x18,6
0002b4 e085
0002b5 958a
0002b6 f7f1      	__DELAY_USB 5
                 ;     200             mask = mask<<1;  
0002b7 0f22      	LSL  R18
                 ;     201         }                   
0002b8 5f3f      	SUBI R19,-1
0002b9 cf97      	RJMP _0x10
                 _0x11:
                 ;     202         RESET_WATCHDOG();
0002ba 95a8      	WDR
                 ;     203     }	             
0002bb 5f0f
0002bc 4f1f      	__ADDWRN 16,17,1
0002bd 940c 0213 	JMP  _0xD
                 _0xE:
                 ;     204     CTRL_STB = 1;delay_us(_DELAY_BUS);
0002bf 9ac7      	SBI  0x18,7
0002c0 e085
0002c1 958a
0002c2 f7f1      	__DELAY_USB 5
                 ;     205     CTRL_STB = 0;delay_us(_DELAY_BUS);
0002c3 98c7      	CBI  0x18,7
0002c4 e085
0002c5 958a
0002c6 f7f1      	__DELAY_USB 5
                 ;     206 }        
0002c7 940e 0dc6 	CALL __LOADLOCR6
0002c9 962c      	ADIW R28,12
0002ca 9508      	RET
                 ;     207 
                 ;     208 static void _displayFrame()
                 ;     209 {                 
                 __displayFrame_G1:
                 ;     210     BYTE data = 0;  
                 ;     211     count_col = 0;
0002cb 930a      	ST   -Y,R16
                 ;	data -> R16
0002cc e000      	LDI  R16,0
0002cd 2466      	CLR  R6
0002ce 2477      	CLR  R7
                 ;     212     count_row = 0;         
0002cf 2444      	CLR  R4
0002d0 2455      	CLR  R5
                 ;     213 
                 ;     214     if (is_power_off ==1){
0002d1 fe20      	SBRS R2,0
0002d2 c003      	RJMP _0x1E
                 ;     215         _powerOff();
0002d3 940e 01f8 	CALL __powerOff_G1
                 ;     216         return;
0002d5 c04c      	RJMP _0x108
                 ;     217     }
                 ;     218     // display one frame in the screen at the specific time 
                 ;     219     for (buffer = start_mem;buffer < (END_RAM); buffer++)  
                 _0x1E:
0002d6 91e0 01a0 	LDS  R30,_start_mem_G1
0002d8 91f0 01a1 	LDS  R31,_start_mem_G1+1
0002da 93e0 01a4 	STS  _buffer_G1,R30
0002dc 93f0 01a5 	STS  _buffer_G1+1,R31
                 _0x20:
0002de 91a0 01a4 	LDS  R26,_buffer_G1
0002e0 91b0 01a5 	LDS  R27,_buffer_G1+1
0002e2 3faf      	CPI  R26,LOW(0x7FFF)
0002e3 e7ef      	LDI  R30,HIGH(0x7FFF)
0002e4 07be      	CPC  R27,R30
0002e5 f010      	BRLO PC+3
0002e6 940c 0322 	JMP _0x21
                 ;     220     {                     
                 ;     221         data = (*buffer);
0002e8 910c      	LD   R16,X
                 ;     222         #ifdef ENABLE_MASK_ROW  
                 ;     223         data &= ENABLE_MASK_ROW;
0002e9 700f      	ANDI R16,LOW(15)
                 ;     224         #endif //ENABLE_MASK_ROW
                 ;     225         DATA_BIT = (data&0x01);
0002ea fb00      	BST  R16,0
0002eb b3a2      	IN   R26,0x12
0002ec f9a2      	BLD  R26,2
0002ed bba2      	OUT  0x12,R26
                 ;     226         
                 ;     227         DATA_CLK = 1;    // clock high
0002ee 9a3a      	SBI  0x7,2
                 ;     228         DATA_CLK = 0;    // clock low   
0002ef 983a      	CBI  0x7,2
                 ;     229         if ( ++count_col >= SCREEN_WIDTH)
0002f0 01f3      	MOVW R30,R6
0002f1 9631      	ADIW R30,1
0002f2 013f      	MOVW R6,R30
0002f3 36e8      	CPI  R30,LOW(0x68)
0002f4 e0a0      	LDI  R26,HIGH(0x68)
0002f5 07fa      	CPC  R31,R26
0002f6 f108      	BRLO _0x22
                 ;     230         {                                            
                 ;     231             count_col = 0;      // reset for next                                                                                                                       
0002f7 2466      	CLR  R6
0002f8 2477      	CLR  R7
                 ;     232             _powerOff();        // turn all led off            
0002f9 940e 01f8 	CALL __powerOff_G1
                 ;     233                         
                 ;     234             _setRow();          // turn row-led on                                                              
0002fb 940e 01e2 	CALL __setRow_G1
                 ;     235             SCAN_STB = 1;       // strobe high            
0002fd 9a94      	SBI  0x12,4
                 ;     236             SCAN_STB = 0;       // strobe low   
0002fe 9894      	CBI  0x12,4
                 ;     237                  
                 ;     238             DATA_STB = 1;       // strobe high            
0002ff 9a38      	SBI  0x7,0
                 ;     239             DATA_STB = 0;       // strobe low            
000300 9838      	CBI  0x7,0
                 ;     240                         
                 ;     241             if (++count_row >= 8){ 
000301 01f2      	MOVW R30,R4
000302 9631      	ADIW R30,1
000303 012f      	MOVW R4,R30
000304 9738      	SBIW R30,8
000305 f010      	BRLO _0x23
                 ;     242                 count_row = 0;
000306 2444      	CLR  R4
000307 2455      	CLR  R5
                 ;     243             }
                 ;     244             delay_ms(1);                                                                                         
                 _0x23:
000308 e0e1      	LDI  R30,LOW(1)
000309 e0f0      	LDI  R31,HIGH(1)
00030a 93fa      	ST   -Y,R31
00030b 93ea      	ST   -Y,R30
00030c 940e 0cce 	CALL _delay_ms
                 ;     245             buffer += (DATA_LENGTH - SCREEN_WIDTH);                 
00030e 91e0 01a4 	LDS  R30,_buffer_G1
000310 91f0 01a5 	LDS  R31,_buffer_G1+1
000312 57e0      	SUBI R30,LOW(-3728)
000313 4ff1      	SBCI R31,HIGH(-3728)
000314 93e0 01a4 	STS  _buffer_G1,R30
000316 93f0 01a5 	STS  _buffer_G1+1,R31
                 ;     246         }                   
                 ;     247     }                         	
                 _0x22:
000318 91e0 01a4 	LDS  R30,_buffer_G1
00031a 91f0 01a5 	LDS  R31,_buffer_G1+1
00031c 9631      	ADIW R30,1
00031d 93e0 01a4 	STS  _buffer_G1,R30
00031f 93f0 01a5 	STS  _buffer_G1+1,R31
000321 cfbc      	RJMP _0x20
                 _0x21:
                 ;     248 }     
                 _0x108:
000322 9109      	LD   R16,Y+
000323 9508      	RET
                 ;     249                                   
                 ;     250 static void _doPaging()
                 ;     251 {
                 __doPaging_G1:
                 ;     252     // init state                         
                 ;     253     DATA_STB = 0;
000324 9838      	CBI  0x7,0
                 ;     254     DATA_CLK = 0;               
000325 983a      	CBI  0x7,2
                 ;     255     // scroll left with shift_step bit(s)
                 ;     256     if(tick_count >= 1000){   
000326 91a0 01aa 	LDS  R26,_tick_count_G1
000328 91b0 01ab 	LDS  R27,_tick_count_G1+1
00032a 3ea8      	CPI  R26,LOW(0x3E8)
00032b e0e3      	LDI  R30,HIGH(0x3E8)
00032c 07be      	CPC  R27,R30
00032d f080      	BRLO _0x24
                 ;     257         tick_count = 0; 
00032e e0e0      	LDI  R30,0
00032f 93e0 01aa 	STS  _tick_count_G1,R30
000331 93e0 01ab 	STS  _tick_count_G1+1,R30
                 ;     258         if (scroll_rate >0){           
000333 91a0 01a8 	LDS  R26,_scroll_rate_G1
000335 30a1      	CPI  R26,LOW(0x1)
000336 f030      	BRLO _0x25
                 ;     259             scroll_rate--;             
000337 91e0 01a8 	LDS  R30,_scroll_rate_G1
000339 50e1      	SUBI R30,LOW(1)
00033a 93e0 01a8 	STS  _scroll_rate_G1,R30
                 ;     260         }
                 ;     261         else{                                 
00033c c001      	RJMP _0x26
                 _0x25:
                 ;     262             LoadPage();                        
00033d d37f      	RCALL _LoadPage
                 ;     263         }
                 _0x26:
                 ;     264     }        
                 ;     265 }                 
                 _0x24:
00033e 9508      	RET
                 ;     266 
                 ;     267                                           
                 ;     268 ////////////////////////////////////////////////////////////////////
                 ;     269 // General functions
                 ;     270 //////////////////////////////////////////////////////////////////// 
                 ;     271 BYTE GetLocalTime(BYTE hh, int offset)
                 ;     272 {                          
                 _GetLocalTime:
                 ;     273     int lval= 0;
                 ;     274     if (offset){       
00033f 931a      	ST   -Y,R17
000340 930a      	ST   -Y,R16
                 ;	hh -> Y+4
                 ;	offset -> Y+2
                 ;	lval -> R16,R17
000341 e000      	LDI  R16,0
000342 e010      	LDI  R17,0
000343 81ea      	LDD  R30,Y+2
000344 81fb      	LDD  R31,Y+2+1
000345 9730      	SBIW R30,0
000346 f0b9      	BREQ _0x27
                 ;     275         lval = (int)hh+offset;    
000347 81ec      	LDD  R30,Y+4
000348 e0f0      	LDI  R31,0
000349 81aa      	LDD  R26,Y+2
00034a 81bb      	LDD  R27,Y+2+1
00034b 0fea      	ADD  R30,R26
00034c 1ffb      	ADC  R31,R27
00034d 018f      	MOVW R16,R30
                 ;     276         if (lval >= 24){
00034e 3108
00034f e0e0
000350 071e      	__CPWRN 16,17,24
000351 f034      	BRLT _0x28
                 ;     277             lval = lval%24;
000352 01d8      	MOVW R26,R16
000353 e1e8      	LDI  R30,LOW(24)
000354 e0f0      	LDI  R31,HIGH(24)
000355 940e 0d96 	CALL __MODW21
000357 018f      	MOVW R16,R30
                 ;     278         }            
                 ;     279         if (lval <0){
                 _0x28:
000358 5000      	SUBI R16,0
000359 4010      	SBCI R17,0
00035a f414      	BRGE _0x29
                 ;     280             lval = 24 + lval;
00035b 5e08
00035c 4f1f      	__ADDWRN 16,17,24
                 ;     281         }
                 ;     282     }               
                 _0x29:
                 ;     283     else{
00035d c002      	RJMP _0x2A
                 _0x27:
                 ;     284         lval = hh;
00035e 810c      	LDD  R16,Y+4
00035f 2711      	CLR  R17
                 ;     285     }    
                 _0x2A:
                 ;     286     return (BYTE)lval;
000360 2fe0      	MOV  R30,R16
000361 8119      	LDD  R17,Y+1
000362 8108      	LDD  R16,Y+0
000363 9625      	ADIW R28,5
000364 9508      	RET
                 ;     287 }                                    
                 ;     288 
                 ;     289 void GetRTCBuffer()
                 ;     290 {
                 _GetRTCBuffer:
                 ;     291     UINT nBuffSize =34;
                 ;     292     BYTE pBuffer[34];              
                 ;     293     BYTE hh=0,mm=0,ss=0,DD=0,MM=0,YY=0;  
                 ;     294     i2c_init();   
000365 97a4      	SBIW R28,36
000366 e082      	LDI  R24,2
000367 e0a0      	LDI  R26,LOW(0)
000368 e0b0      	LDI  R27,HIGH(0)
000369 e9ec      	LDI  R30,LOW(_0x2B*2)
00036a e0f0      	LDI  R31,HIGH(_0x2B*2)
00036b 940e 0dcd 	CALL __INITLOCB
00036d 940e 0dbf 	CALL __SAVELOCR6
                 ;	nBuffSize -> R16,R17
                 ;	pBuffer -> Y+8
                 ;	hh -> R18
                 ;	mm -> R19
                 ;	ss -> R20
                 ;	DD -> R21
                 ;	MM -> Y+7
                 ;	YY -> Y+6
00036f e202      	LDI  R16,34
000370 e010      	LDI  R17,0
000371 e020      	LDI  R18,0
000372 e030      	LDI  R19,0
000373 e040      	LDI  R20,0
000374 e050      	LDI  R21,0
000375 940e 0c67 	CALL _i2c_init
                 ;     295     rtc_get_date(&DD,&MM,&YY);
000377 b7ed      	IN   R30,SPL
000378 b7fe      	IN   R31,SPH
000379 93fa      	ST   -Y,R31
00037a 93ea      	ST   -Y,R30
00037b 935f      	PUSH R21
00037c 01fe      	MOVW R30,R28
00037d 9639      	ADIW R30,9
00037e 93fa      	ST   -Y,R31
00037f 93ea      	ST   -Y,R30
000380 01fe      	MOVW R30,R28
000381 963a      	ADIW R30,10
000382 93fa      	ST   -Y,R31
000383 93ea      	ST   -Y,R30
000384 940e 0c12 	CALL _rtc_get_date
000386 915f      	POP  R21
                 ;     296     rtc_get_time(&hh,&mm,&ss);                              
000387 b7ed      	IN   R30,SPL
000388 b7fe      	IN   R31,SPH
000389 93fa      	ST   -Y,R31
00038a 93ea      	ST   -Y,R30
00038b 932f      	PUSH R18
00038c b7ed      	IN   R30,SPL
00038d b7fe      	IN   R31,SPH
00038e 93fa      	ST   -Y,R31
00038f 93ea      	ST   -Y,R30
000390 933f      	PUSH R19
000391 b7ed      	IN   R30,SPL
000392 b7fe      	IN   R31,SPH
000393 93fa      	ST   -Y,R31
000394 93ea      	ST   -Y,R30
000395 934f      	PUSH R20
000396 940e 0bbf 	CALL _rtc_get_time
000398 914f      	POP  R20
000399 913f      	POP  R19
00039a 912f      	POP  R18
                 ;     297 #ifdef __DUMP_LED_    
                 ;     298     printf("GMT: %02d:%02d:%02d %02d-%02d-%02d\r\n",hh,mm,ss,DD,MM+1,YY);              
                 ;     299 #endif    
                 ;     300     if (DD> 99) DD =0;if (MM> 99) MM =0;if (YY> 99) YY =0;
00039b 3654      	CPI  R21,100
00039c f008      	BRLO _0x2C
00039d e050      	LDI  R21,LOW(0)
                 _0x2C:
00039e 81af      	LDD  R26,Y+7
00039f 36a4      	CPI  R26,LOW(0x64)
0003a0 f010      	BRLO _0x2D
0003a1 e0e0      	LDI  R30,LOW(0)
0003a2 83ef      	STD  Y+7,R30
                 _0x2D:
0003a3 81ae      	LDD  R26,Y+6
0003a4 36a4      	CPI  R26,LOW(0x64)
0003a5 f010      	BRLO _0x2E
0003a6 e0e0      	LDI  R30,LOW(0)
0003a7 83ee      	STD  Y+6,R30
                 ;     301     if (hh> 99) hh =0;if (mm> 99) mm =0;if (ss> 99) ss =0;                    
                 _0x2E:
0003a8 3624      	CPI  R18,100
0003a9 f008      	BRLO _0x2F
0003aa e020      	LDI  R18,LOW(0)
                 _0x2F:
0003ab 3634      	CPI  R19,100
0003ac f008      	BRLO _0x30
0003ad e030      	LDI  R19,LOW(0)
                 _0x30:
0003ae 3644      	CPI  R20,100
0003af f008      	BRLO _0x31
0003b0 e040      	LDI  R20,LOW(0)
                 ;     302     sprintf(pBuffer,    "%02d-%02d-%4d"\
                 ;     303                         "%02d%02d"\
                 ;     304                         "%02d%02d"\
                 ;     305                         "%02d%02d"\
                 ;     306                         "%02d%02d"\
                 ;     307                         "%02d%02d"\
                 ;     308                         "%02d%02d",              
                 _0x31:
                 ;     309                         DD,MM+1,2000+YY,                                  
                 ;     310                         GetLocalTime(hh,+7),mm,     // HANOI
                 ;     311                         GetLocalTime(hh,-6),mm,     // NEWYORK
                 ;     312                         GetLocalTime(hh,+1),mm,     // PARIS
                 ;     313                         GetLocalTime(hh,+0),mm,     // LONDON
                 ;     314                         GetLocalTime(hh,+3),mm,     // MOSCOW
                 ;     315                         GetLocalTime(hh,+8),mm      // BELJING                        
                 ;     316                         );           
0003b1 01fe      	MOVW R30,R28
0003b2 9638      	ADIW R30,8
0003b3 93fa      	ST   -Y,R31
0003b4 93ea      	ST   -Y,R30
0003b5 e3e8
0003b6 e0f1      	__POINTW1FN _0,100
0003b7 93fa      	ST   -Y,R31
0003b8 93ea      	ST   -Y,R30
0003b9 2fe5      	MOV  R30,R21
0003ba 27ff      	CLR  R31
0003bb 2766      	CLR  R22
0003bc 2777      	CLR  R23
0003bd 940e 0dba 	CALL __PUTPARD1
0003bf 85ef      	LDD  R30,Y+15
0003c0 5fef      	SUBI R30,-LOW(1)
0003c1 27ff      	CLR  R31
0003c2 2766      	CLR  R22
0003c3 2777      	CLR  R23
0003c4 940e 0dba 	CALL __PUTPARD1
0003c6 89ea      	LDD  R30,Y+18
0003c7 eda0      	LDI  R26,LOW(2000)
0003c8 e0b7      	LDI  R27,HIGH(2000)
0003c9 e0f0      	LDI  R31,0
0003ca 0fea      	ADD  R30,R26
0003cb 1ffb      	ADC  R31,R27
0003cc 940e 0d71 	CALL __CWD1
0003ce 940e 0dba 	CALL __PUTPARD1
0003d0 932a      	ST   -Y,R18
0003d1 e0e7      	LDI  R30,LOW(7)
0003d2 e0f0      	LDI  R31,HIGH(7)
0003d3 93fa      	ST   -Y,R31
0003d4 93ea      	ST   -Y,R30
0003d5 940e 033f 	CALL _GetLocalTime
0003d7 27ff      	CLR  R31
0003d8 2766      	CLR  R22
0003d9 2777      	CLR  R23
0003da 940e 0dba 	CALL __PUTPARD1
0003dc 2fe3      	MOV  R30,R19
0003dd 27ff      	CLR  R31
0003de 2766      	CLR  R22
0003df 2777      	CLR  R23
0003e0 940e 0dba 	CALL __PUTPARD1
0003e2 932a      	ST   -Y,R18
0003e3 efea      	LDI  R30,LOW(65530)
0003e4 efff      	LDI  R31,HIGH(65530)
0003e5 93fa      	ST   -Y,R31
0003e6 93ea      	ST   -Y,R30
0003e7 940e 033f 	CALL _GetLocalTime
0003e9 27ff      	CLR  R31
0003ea 2766      	CLR  R22
0003eb 2777      	CLR  R23
0003ec 940e 0dba 	CALL __PUTPARD1
0003ee 2fe3      	MOV  R30,R19
0003ef 27ff      	CLR  R31
0003f0 2766      	CLR  R22
0003f1 2777      	CLR  R23
0003f2 940e 0dba 	CALL __PUTPARD1
0003f4 932a      	ST   -Y,R18
0003f5 e0e1      	LDI  R30,LOW(1)
0003f6 e0f0      	LDI  R31,HIGH(1)
0003f7 93fa      	ST   -Y,R31
0003f8 93ea      	ST   -Y,R30
0003f9 940e 033f 	CALL _GetLocalTime
0003fb 27ff      	CLR  R31
0003fc 2766      	CLR  R22
0003fd 2777      	CLR  R23
0003fe 940e 0dba 	CALL __PUTPARD1
000400 2fe3      	MOV  R30,R19
000401 27ff      	CLR  R31
000402 2766      	CLR  R22
000403 2777      	CLR  R23
000404 940e 0dba 	CALL __PUTPARD1
000406 932a      	ST   -Y,R18
000407 e0e0      	LDI  R30,LOW(0)
000408 e0f0      	LDI  R31,HIGH(0)
000409 93fa      	ST   -Y,R31
00040a 93ea      	ST   -Y,R30
00040b 940e 033f 	CALL _GetLocalTime
00040d 27ff      	CLR  R31
00040e 2766      	CLR  R22
00040f 2777      	CLR  R23
000410 940e 0dba 	CALL __PUTPARD1
000412 2fe3      	MOV  R30,R19
000413 27ff      	CLR  R31
000414 2766      	CLR  R22
000415 2777      	CLR  R23
000416 940e 0dba 	CALL __PUTPARD1
000418 932a      	ST   -Y,R18
000419 e0e3      	LDI  R30,LOW(3)
00041a e0f0      	LDI  R31,HIGH(3)
00041b 93fa      	ST   -Y,R31
00041c 93ea      	ST   -Y,R30
00041d 940e 033f 	CALL _GetLocalTime
00041f 27ff      	CLR  R31
000420 2766      	CLR  R22
000421 2777      	CLR  R23
000422 940e 0dba 	CALL __PUTPARD1
000424 2fe3      	MOV  R30,R19
000425 27ff      	CLR  R31
000426 2766      	CLR  R22
000427 2777      	CLR  R23
000428 940e 0dba 	CALL __PUTPARD1
00042a 932a      	ST   -Y,R18
00042b e0e8      	LDI  R30,LOW(8)
00042c e0f0      	LDI  R31,HIGH(8)
00042d 93fa      	ST   -Y,R31
00042e 93ea      	ST   -Y,R30
00042f 940e 033f 	CALL _GetLocalTime
000431 27ff      	CLR  R31
000432 2766      	CLR  R22
000433 2777      	CLR  R23
000434 940e 0dba 	CALL __PUTPARD1
000436 2fe3      	MOV  R30,R19
000437 27ff      	CLR  R31
000438 2766      	CLR  R22
000439 2777      	CLR  R23
00043a 940e 0dba 	CALL __PUTPARD1
00043c e38c      	LDI  R24,60
00043d 940e 0b5a 	CALL _sprintf
00043f 96ef      	ADIW R28,63
000440 9621      	ADIW R28,1
                 ;     317 #ifdef __DUMP_LED_    
                 ;     318     printf("%s \r\n",pBuffer);
                 ;     319 #endif    
                 ;     320     FormatRTC(pBuffer,nBuffSize);   
000441 01fe      	MOVW R30,R28
000442 9638      	ADIW R30,8
000443 93fa      	ST   -Y,R31
000444 93ea      	ST   -Y,R30
000445 931a      	ST   -Y,R17
000446 930a      	ST   -Y,R16
000447 d008      	RCALL _FormatRTC
                 ;     321     PORTD = 0x00;
000448 e0e0      	LDI  R30,LOW(0)
000449 bbe2      	OUT  0x12,R30
                 ;     322     DDRD = 0x3F;  
00044a e3ef      	LDI  R30,LOW(63)
00044b bbe1      	OUT  0x11,R30
                 ;     323 }
00044c 940e 0dc6 	CALL __LOADLOCR6
00044e 96aa      	ADIW R28,42
00044f 9508      	RET
                 ;     324 
                 ;     325 void FormatRTC(PBYTE pBuffer, UINT nBuffSize)
                 ;     326 {                                                  
                 _FormatRTC:
                 ;     327     UINT i =0;
                 ;     328     BYTE code = 0;                                 
                 ;     329     PBYTE pBuffOut =(PBYTE)START_RAM + SCREEN_WIDTH;                    
                 ;     330 	for (i=0; i< nBuffSize; i++){		
000450 940e 0dc0 	CALL __SAVELOCR5
                 ;	*pBuffer -> Y+7
                 ;	nBuffSize -> Y+5
                 ;	i -> R16,R17
                 ;	code -> R18
                 ;	*pBuffOut -> R19,R20
000452 e000      	LDI  R16,0
000453 e010      	LDI  R17,0
000454 e020      	LDI  R18,0
000455 e638      	LDI  R19,LOW(0x568)
000456 e045      	LDI  R20,HIGH(0x568)
000457 e000
000458 e010      	__GETWRN 16,17,0
                 _0x33:
000459 81ed      	LDD  R30,Y+5
00045a 81fe      	LDD  R31,Y+5+1
00045b 170e      	CP   R16,R30
00045c 071f      	CPC  R17,R31
00045d f538      	BRSH _0x34
                 ;     331 		code = pBuffer[nBuffSize- i-1];		
00045e 1be0      	SUB  R30,R16
00045f 0bf1      	SBC  R31,R17
000460 9731      	SBIW R30,1
000461 81af      	LDD  R26,Y+7
000462 85b8      	LDD  R27,Y+7+1
000463 0fae      	ADD  R26,R30
000464 1fbf      	ADC  R27,R31
000465 912c      	LD   R18,X
                 ;     332 		if (code >='0' && code <='9'){
000466 3320      	CPI  R18,48
000467 f010      	BRLO _0x36
000468 332a      	CPI  R18,58
000469 f008      	BRLO _0x37
                 _0x36:
00046a c002      	RJMP _0x35
                 _0x37:
                 ;     333 			code = code & 0x0F;
00046b 702f      	ANDI R18,LOW(15)
                 ;     334 		}
                 ;     335 		else if (code ==' '){
00046c c00c      	RJMP _0x38
                 _0x35:
00046d 3220      	CPI  R18,32
00046e f409      	BRNE _0x39
                 ;     336 			code = 0x0F;	// blank
00046f c008      	RJMP _0x110
                 ;     337 		}
                 ;     338 		else if (code =='-'){
                 _0x39:
000470 322d      	CPI  R18,45
000471 f411      	BRNE _0x3B
                 ;     339 			code = 0x0A;	// dash
000472 e02a      	LDI  R18,LOW(10)
                 ;     340 		}
                 ;     341 		else if (code =='.'){
000473 c005      	RJMP _0x3C
                 _0x3B:
000474 322e      	CPI  R18,46
000475 f411      	BRNE _0x3D
                 ;     342 			code = 0x0B;	// dot
000476 e02b      	LDI  R18,LOW(11)
                 ;     343 		}
                 ;     344 		else{
000477 c001      	RJMP _0x3E
                 _0x3D:
                 ;     345 			code = 0x0F;	// blank	
                 _0x110:
000478 e02f      	LDI  R18,LOW(15)
                 ;     346 		}
                 _0x3E:
                 _0x3C:
                 _0x38:
                 ;     347 		pBuffOut[i] = _xtable[code];
000479 01d8      	MOVW R26,R16
00047a 0fa3      	ADD  R26,R19
00047b 1fb4      	ADC  R27,R20
00047c 2fe2      	MOV  R30,R18
00047d e0f0      	LDI  R31,0
00047e 5eee      	SUBI R30,LOW(-__xtable)
00047f 4ffb      	SBCI R31,HIGH(-__xtable)
000480 81e0      	LD   R30,Z
000481 93ec      	ST   X,R30
                 ;     348 	}
000482 5f0f
000483 4f1f      	__ADDWRN 16,17,1
000484 cfd4      	RJMP _0x33
                 _0x34:
                 ;     349 }
000485 940e 0dc7 	CALL __LOADLOCR5
000487 9629      	ADIW R28,9
000488 9508      	RET
                 ;     350 
                 ;     351 void SerialToRAM(PBYTE address,WORD length)                                             
                 ;     352 {
                 _SerialToRAM:
                 ;     353     PBYTE temp = 0;          
                 ;     354     UINT i =0;     				
                 ;     355     temp   = (PBYTE)address;    
000489 940e 0dc1 	CALL __SAVELOCR4
                 ;	*address -> Y+6
                 ;	length -> Y+4
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
00048b e000      	LDI  R16,LOW(0x00)
00048c e010      	LDI  R17,HIGH(0x00)
00048d e020      	LDI  R18,0
00048e e030      	LDI  R19,0
00048f 810e
000490 811f      	__GETWRS 16,17,6
                 ;     356     LED_STATUS = 0;
000491 98c4      	CBI  0x18,4
                 ;     357     for (i =0; i< length; i++) {
000492 e020
000493 e030      	__GETWRN 18,19,0
                 _0x40:
000494 81ec      	LDD  R30,Y+4
000495 81fd      	LDD  R31,Y+4+1
000496 172e      	CP   R18,R30
000497 073f      	CPC  R19,R31
000498 f470      	BRSH _0x41
                 ;     358         *temp++ = getchar();
000499 931f      	PUSH R17
00049a 930f      	PUSH R16
00049b 5f0f
00049c 4f1f      	__ADDWRN 16,17,1
00049d 940e 09d4 	CALL _getchar
00049f 91af      	POP  R26
0004a0 91bf      	POP  R27
0004a1 93ec      	ST   X,R30
                 ;     359         RESET_WATCHDOG();
0004a2 95a8      	WDR
                 ;     360     }                               
0004a3 5f2f
0004a4 4f3f      	__ADDWRN 18,19,1
0004a5 940c 0494 	JMP  _0x40
                 _0x41:
                 ;     361     LED_STATUS = 1;
0004a7 9ac4      	SBI  0x18,4
                 ;     362 }
0004a8 940e 0dc8 	CALL __LOADLOCR4
0004aa 9628      	ADIW R28,8
0004ab 9508      	RET
                 ;     363 
                 ;     364 void GetCharWidth(WORD length)
                 ;     365 {                               
                 _GetCharWidth:
                 ;     366     UINT i =0;   
                 ;     367     BYTE devID = EEPROM_DEVICE_FONT;
                 ;     368     PBYTE base  = 0x0A;
                 ;     369     i2c_init();
0004ac 940e 0dc0 	CALL __SAVELOCR5
                 ;	length -> Y+5
                 ;	i -> R16,R17
                 ;	devID -> R18
                 ;	*base -> R19,R20
0004ae e000      	LDI  R16,0
0004af e010      	LDI  R17,0
0004b0 ea20      	LDI  R18,160
0004b1 e03a      	LDI  R19,LOW(0x0A)
0004b2 e040      	LDI  R20,HIGH(0x0A)
0004b3 940e 0c67 	CALL _i2c_init
                 ;     370     LED_STATUS = 0;              
0004b5 98c4      	CBI  0x18,4
                 ;     371 
                 ;     372     for (i =0; i < length; i++)
0004b6 e000
0004b7 e010      	__GETWRN 16,17,0
                 _0x43:
0004b8 81ed      	LDD  R30,Y+5
0004b9 81fe      	LDD  R31,Y+5+1
0004ba 170e      	CP   R16,R30
0004bb 071f      	CPC  R17,R31
0004bc f4e0      	BRSH _0x44
                 ;     373     {                           
                 ;     374         char_width[i] = eeprom_read_w(devID,(PBYTE)base+(i<<1));    
0004bd 01f8      	MOVW R30,R16
0004be eaae      	LDI  R26,LOW(_char_width_G1)
0004bf e0b1      	LDI  R27,HIGH(_char_width_G1)
0004c0 0fee      	LSL  R30
0004c1 1fff      	ROL  R31
0004c2 0fea      	ADD  R30,R26
0004c3 1ffb      	ADC  R31,R27
0004c4 93ff      	PUSH R31
0004c5 93ef      	PUSH R30
0004c6 932a      	ST   -Y,R18
0004c7 01f8      	MOVW R30,R16
0004c8 0fee      	LSL  R30
0004c9 1fff      	ROL  R31
0004ca 0fe3      	ADD  R30,R19
0004cb 1ff4      	ADC  R31,R20
0004cc 93fa      	ST   -Y,R31
0004cd 93ea      	ST   -Y,R30
0004ce 940e 096a 	CALL _eeprom_read_w
0004d0 91af      	POP  R26
0004d1 91bf      	POP  R27
0004d2 93ed      	ST   X+,R30
0004d3 93fc      	ST   X,R31
                 ;     375         RESET_WATCHDOG();
0004d4 95a8      	WDR
                 ;     376     }                      
0004d5 5f0f
0004d6 4f1f      	__ADDWRN 16,17,1
0004d7 940c 04b8 	JMP  _0x43
                 _0x44:
                 ;     377     LED_STATUS = 1;
0004d9 9ac4      	SBI  0x18,4
                 ;     378     PORTD = 0x00;
0004da e0e0      	LDI  R30,LOW(0)
0004db bbe2      	OUT  0x12,R30
                 ;     379     DDRD = 0x3F; 
0004dc e3ef      	LDI  R30,LOW(63)
0004dd bbe1      	OUT  0x11,R30
                 ;     380 }
0004de 940e 0dc7 	CALL __LOADLOCR5
0004e0 9627      	ADIW R28,7
0004e1 9508      	RET
                 ;     381 
                 ;     382 void SaveToEEPROM(PBYTE address, WORD length, BYTE index)
                 ;     383 {                             
                 _SaveToEEPROM:
                 ;     384     PBYTE temp = 0; 
                 ;     385     UINT i =0;     
                 ;     386     BYTE devID = EEPROM_DEVICE_DATA;      				
                 ;     387     temp   = address;   
0004e2 940e 0dc0 	CALL __SAVELOCR5
                 ;	*address -> Y+8
                 ;	length -> Y+6
                 ;	index -> Y+5
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
                 ;	devID -> R20
0004e4 e000      	LDI  R16,LOW(0x00)
0004e5 e010      	LDI  R17,HIGH(0x00)
0004e6 e020      	LDI  R18,0
0004e7 e030      	LDI  R19,0
0004e8 ea42      	LDI  R20,162
0004e9 8508
0004ea 8519      	__GETWRS 16,17,8
                 ;     388     if (length%EEPROM_PAGE){
0004eb 81ee      	LDD  R30,Y+6
0004ec 81ff      	LDD  R31,Y+6+1
0004ed 73ef      	ANDI R30,LOW(0x3F)
0004ee f071      	BREQ _0x45
                 ;     389         length = EEPROM_PAGE*(length/EEPROM_PAGE) + EEPROM_PAGE;        
0004ef 81ae      	LDD  R26,Y+6
0004f0 81bf      	LDD  R27,Y+6+1
0004f1 e4e0      	LDI  R30,LOW(64)
0004f2 e0f0      	LDI  R31,HIGH(64)
0004f3 940e 0d83 	CALL __DIVW21U
0004f5 940e 0d6c 	CALL __LSLW2
0004f7 940e 0d68 	CALL __LSLW4
0004f9 5ce0      	SUBI R30,LOW(-64)
0004fa 4fff      	SBCI R31,HIGH(-64)
0004fb 83ee      	STD  Y+6,R30
0004fc 83ff      	STD  Y+6+1,R31
                 ;     390     }                         
                 ;     391     i2c_init();
                 _0x45:
0004fd 940e 0c67 	CALL _i2c_init
                 ;     392     LED_STATUS = 0;         
0004ff 98c4      	CBI  0x18,4
                 ;     393     for (i=0; i < length; i++) {           
000500 e020
000501 e030      	__GETWRN 18,19,0
                 _0x47:
000502 81ee      	LDD  R30,Y+6
000503 81ff      	LDD  R31,Y+6+1
000504 172e      	CP   R18,R30
000505 073f      	CPC  R19,R31
000506 f4b8      	BRSH _0x48
                 ;     394         eeprom_write( devID, (PBYTE)temp+ index*PAGE_SIZE, (BYTE)(*temp));	                             
000507 934a      	ST   -Y,R20
000508 81ee      	LDD  R30,Y+6
000509 e0f0      	LDI  R31,0
00050a e8a0      	LDI  R26,LOW(384)
00050b e0b1      	LDI  R27,HIGH(384)
00050c 940e 0d76 	CALL __MULW12U
00050e 0fe0      	ADD  R30,R16
00050f 1ff1      	ADC  R31,R17
000510 93fa      	ST   -Y,R31
000511 93ea      	ST   -Y,R30
000512 01d8      	MOVW R26,R16
000513 91ec      	LD   R30,X
000514 93ea      	ST   -Y,R30
000515 940e 094b 	CALL _eeprom_write
                 ;     395         RESET_WATCHDOG();                                                       
000517 95a8      	WDR
                 ;     396         temp++;
000518 5f0f
000519 4f1f      	__ADDWRN 16,17,1
                 ;     397     }                       
00051a 5f2f
00051b 4f3f      	__ADDWRN 18,19,1
00051c 940c 0502 	JMP  _0x47
                 _0x48:
                 ;     398     LED_STATUS = 1;
00051e 9ac4      	SBI  0x18,4
                 ;     399     PORTD = 0x00;
00051f e0e0      	LDI  R30,LOW(0)
000520 bbe2      	OUT  0x12,R30
                 ;     400     DDRD = 0x3F;    
000521 e3ef      	LDI  R30,LOW(63)
000522 bbe1      	OUT  0x11,R30
                 ;     401 }
000523 c00f      	RJMP _0x107
                 ;     402                       
                 ;     403 void LoadToRAM(PBYTE address, WORD length, BYTE index)
                 ;     404 {                         
                 _LoadToRAM:
                 ;     405     PBYTE temp = 0;  
                 ;     406     UINT i=0;         
                 ;     407     BYTE devID = EEPROM_DEVICE_DATA;		
                 ;     408     temp   = address;                     
000524 940e 0dc0 	CALL __SAVELOCR5
                 ;	*address -> Y+8
                 ;	length -> Y+6
                 ;	index -> Y+5
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
                 ;	devID -> R20
000526 e000      	LDI  R16,LOW(0x00)
000527 e010      	LDI  R17,HIGH(0x00)
000528 e020      	LDI  R18,0
000529 e030      	LDI  R19,0
00052a ea42      	LDI  R20,162
00052b 8508
00052c 8519      	__GETWRS 16,17,8
                 ;     409     if (length > DATA_LENGTH)    
00052d 81ae      	LDD  R26,Y+6
00052e 81bf      	LDD  R27,Y+6+1
00052f 3fa9      	CPI  R26,LOW(0xEF9)
000530 e0ee      	LDI  R30,HIGH(0xEF9)
000531 07be      	CPC  R27,R30
000532 f020      	BRLO _0x49
                 ;     410         return; // invalid param
                 _0x107:
000533 940e 0dc7 	CALL __LOADLOCR5
000535 962a      	ADIW R28,10
000536 9508      	RET
                 ;     411     if (length%EEPROM_PAGE){
                 _0x49:
000537 81ee      	LDD  R30,Y+6
000538 81ff      	LDD  R31,Y+6+1
000539 73ef      	ANDI R30,LOW(0x3F)
00053a f071      	BREQ _0x4A
                 ;     412         length = EEPROM_PAGE*(length/EEPROM_PAGE) + EEPROM_PAGE;        
00053b 81ae      	LDD  R26,Y+6
00053c 81bf      	LDD  R27,Y+6+1
00053d e4e0      	LDI  R30,LOW(64)
00053e e0f0      	LDI  R31,HIGH(64)
00053f 940e 0d83 	CALL __DIVW21U
000541 940e 0d6c 	CALL __LSLW2
000543 940e 0d68 	CALL __LSLW4
000545 5ce0      	SUBI R30,LOW(-64)
000546 4fff      	SBCI R31,HIGH(-64)
000547 83ee      	STD  Y+6,R30
000548 83ff      	STD  Y+6+1,R31
                 ;     413     }
                 ;     414     i2c_init();
                 _0x4A:
000549 940e 0c67 	CALL _i2c_init
                 ;     415     LED_STATUS = 0;             
00054b 98c4      	CBI  0x18,4
                 ;     416     for (i =0; i <length; i+= EEPROM_PAGE) {                                 
00054c e020
00054d e030      	__GETWRN 18,19,0
                 _0x4C:
00054e 81ee      	LDD  R30,Y+6
00054f 81ff      	LDD  R31,Y+6+1
000550 172e      	CP   R18,R30
000551 073f      	CPC  R19,R31
000552 f4c0      	BRSH _0x4D
                 ;     417         eeprom_read_page( devID, (PBYTE)temp+ index*PAGE_SIZE, temp, EEPROM_PAGE );        
000553 934a      	ST   -Y,R20
000554 81ee      	LDD  R30,Y+6
000555 e0f0      	LDI  R31,0
000556 e8a0      	LDI  R26,LOW(384)
000557 e0b1      	LDI  R27,HIGH(384)
000558 940e 0d76 	CALL __MULW12U
00055a 0fe0      	ADD  R30,R16
00055b 1ff1      	ADC  R31,R17
00055c 93fa      	ST   -Y,R31
00055d 93ea      	ST   -Y,R30
00055e 931a      	ST   -Y,R17
00055f 930a      	ST   -Y,R16
000560 e4e0      	LDI  R30,LOW(64)
000561 93ea      	ST   -Y,R30
000562 940e 0990 	CALL _eeprom_read_page
                 ;     418         temp += EEPROM_PAGE;                                
000564 5c00
000565 4f1f      	__ADDWRN 16,17,64
                 ;     419         RESET_WATCHDOG();     
000566 95a8      	WDR
                 ;     420     }   
000567 5c20
000568 4f3f      	__ADDWRN 18,19,64
000569 940c 054e 	JMP  _0x4C
                 _0x4D:
                 ;     421     LED_STATUS = 1; 
00056b 9ac4      	SBI  0x18,4
                 ;     422     PORTD = 0x00;
00056c e0e0      	LDI  R30,LOW(0)
00056d bbe2      	OUT  0x12,R30
                 ;     423     DDRD = 0x3F;  
00056e e3ef      	LDI  R30,LOW(63)
00056f bbe1      	OUT  0x11,R30
                 ;     424 }
000570 940e 0dc7 	CALL __LOADLOCR5
000572 962a      	ADIW R28,10
000573 9508      	RET
                 ;     425 
                 ;     426 void LoadConfig(BYTE index)
                 ;     427 {   
                 _LoadConfig:
                 ;     428     BYTE devID = EEPROM_DEVICE_DATA;
                 ;     429     i2c_init();
000574 930a      	ST   -Y,R16
                 ;	index -> Y+1
                 ;	devID -> R16
000575 ea02      	LDI  R16,162
000576 940e 0c67 	CALL _i2c_init
                 ;     430     LED_STATUS = 1;                               
000578 9ac4      	SBI  0x18,4
                 ;     431     scroll_rate = eeprom_read(devID,(PBYTE)index);     
000579 930a      	ST   -Y,R16
00057a 81ea      	LDD  R30,Y+2
00057b e0f0      	LDI  R31,0
00057c 93fa      	ST   -Y,R31
00057d 93ea      	ST   -Y,R30
00057e 940e 0928 	CALL _eeprom_read
000580 93e0 01a8 	STS  _scroll_rate_G1,R30
                 ;     432 #ifdef __TEST_LED_
                 ;     433     scroll_rate = 10;
                 ;     434 #endif
                 ;     435 #ifdef __DUMP_LED_
                 ;     436     printf("line=%d rate=%d\r\n",index,scroll_rate);    
                 ;     437 #endif
                 ;     438     LED_STATUS = 0; 
000582 98c4      	CBI  0x18,4
                 ;     439     PORTD = 0x00;
000583 e0e0      	LDI  R30,LOW(0)
000584 bbe2      	OUT  0x12,R30
                 ;     440     DDRD = 0x3F;   
000585 e3ef      	LDI  R30,LOW(63)
000586 bbe1      	OUT  0x11,R30
                 ;     441 }
000587 c014      	RJMP _0x106
                 ;     442 
                 ;     443 void SaveConfig(BYTE index)
                 ;     444 {     
                 _SaveConfig:
                 ;     445     BYTE devID = EEPROM_DEVICE_DATA;
                 ;     446     i2c_init();
000588 930a      	ST   -Y,R16
                 ;	index -> Y+1
                 ;	devID -> R16
000589 ea02      	LDI  R16,162
00058a 940e 0c67 	CALL _i2c_init
                 ;     447     LED_STATUS = 1;  
00058c 9ac4      	SBI  0x18,4
                 ;     448     eeprom_write(devID,(PBYTE)index,scroll_rate);   
00058d 930a      	ST   -Y,R16
00058e 81ea      	LDD  R30,Y+2
00058f e0f0      	LDI  R31,0
000590 93fa      	ST   -Y,R31
000591 93ea      	ST   -Y,R30
000592 91e0 01a8 	LDS  R30,_scroll_rate_G1
000594 93ea      	ST   -Y,R30
000595 940e 094b 	CALL _eeprom_write
                 ;     449     LED_STATUS = 0; 
000597 98c4      	CBI  0x18,4
                 ;     450     PORTD = 0x00;
000598 e0e0      	LDI  R30,LOW(0)
000599 bbe2      	OUT  0x12,R30
                 ;     451     DDRD = 0x3F;   
00059a e3ef      	LDI  R30,LOW(63)
00059b bbe1      	OUT  0x11,R30
                 ;     452 }
                 _0x106:
00059c 8108      	LDD  R16,Y+0
00059d 9622      	ADIW R28,2
00059e 9508      	RET
                 ;     453 
                 ;     454 void BlankRAM(PBYTE start_addr,PBYTE end_addr)
                 ;     455 {        
                 _BlankRAM:
                 ;     456     PBYTE temp = START_RAM;
                 ;     457     for (temp = start_addr; temp<= end_addr; temp++)    
00059f 931a      	ST   -Y,R17
0005a0 930a      	ST   -Y,R16
                 ;	*start_addr -> Y+4
                 ;	*end_addr -> Y+2
                 ;	*temp -> R16,R17
0005a1 e000      	LDI  R16,LOW(0x500)
0005a2 e015      	LDI  R17,HIGH(0x500)
0005a3 810c
0005a4 811d      	__GETWRS 16,17,4
                 _0x4F:
0005a5 81ea      	LDD  R30,Y+2
0005a6 81fb      	LDD  R31,Y+2+1
0005a7 17e0      	CP   R30,R16
0005a8 07f1      	CPC  R31,R17
0005a9 f030      	BRLO _0x50
                 ;     458         *temp = 0xFF;             
0005aa 01d8      	MOVW R26,R16
0005ab efef      	LDI  R30,LOW(255)
0005ac 93ec      	ST   X,R30
                 ;     459 }
0005ad 5f0f
0005ae 4f1f      	__ADDWRN 16,17,1
0005af cff5      	RJMP _0x4F
                 _0x50:
0005b0 8119      	LDD  R17,Y+1
0005b1 8108      	LDD  R16,Y+0
0005b2 9626      	ADIW R28,6
0005b3 9508      	RET
                 ;     460 
                 ;     461 void SetRTCDateTime()
                 ;     462 {
                 _SetRTCDateTime:
                 ;     463     i2c_init();
0005b4 940e 0c67 	CALL _i2c_init
                 ;     464     LED_STATUS = 0;   
0005b6 98c4      	CBI  0x18,4
                 ;     465     rtc_set_time(0,0,0);    /* clear CH bit */
0005b7 e0e0      	LDI  R30,LOW(0)
0005b8 93ea      	ST   -Y,R30
0005b9 93ea      	ST   -Y,R30
0005ba 93ea      	ST   -Y,R30
0005bb 940e 0bf0 	CALL _rtc_set_time
                 ;     466     rtc_set_date(getchar(),getchar(),getchar());
0005bd 940e 09d4 	CALL _getchar
0005bf 93ea      	ST   -Y,R30
0005c0 940e 09d4 	CALL _getchar
0005c2 93ea      	ST   -Y,R30
0005c3 940e 09d4 	CALL _getchar
0005c5 93ea      	ST   -Y,R30
0005c6 940e 0c44 	CALL _rtc_set_date
                 ;     467     rtc_set_time(getchar(),getchar(),getchar());    
0005c8 940e 09d4 	CALL _getchar
0005ca 93ea      	ST   -Y,R30
0005cb 940e 09d4 	CALL _getchar
0005cd 93ea      	ST   -Y,R30
0005ce 940e 09d4 	CALL _getchar
0005d0 93ea      	ST   -Y,R30
0005d1 940e 0bf0 	CALL _rtc_set_time
                 ;     468     LED_STATUS = 1;
0005d3 9ac4      	SBI  0x18,4
                 ;     469     PORTD = 0x00;
0005d4 e0e0      	LDI  R30,LOW(0)
0005d5 bbe2      	OUT  0x12,R30
                 ;     470     DDRD = 0x3F; 
0005d6 e3ef      	LDI  R30,LOW(63)
0005d7 bbe1      	OUT  0x11,R30
                 ;     471 }
0005d8 9508      	RET
                 ;     472 
                 ;     473 static void TextFromFont(char *szText, BYTE nColor, BYTE bGradient, PBYTE pBuffer, BYTE index)
                 ;     474 {
                 _TextFromFont_G1:
                 ;     475 	int pos = 0,x=0,y=0;     
                 ;     476 	BYTE i =0, len;
                 ;     477 	BYTE ch = 0;
                 ;     478 	UINT nWidth = 0;   
                 ;     479 	UINT nCurWidth = 0, nNxtWidth = 0;		
                 ;     480     BYTE mask = 0x00, data = 0;
                 ;     481 	BYTE mask_clr[2] = {0x00};
                 ;     482     BYTE devID = EEPROM_DEVICE_FONT;
                 ;     483     	
                 ;     484 	switch (nColor)
0005d9 972e      	SBIW R28,14
0005da e08e      	LDI  R24,14
0005db e0a0      	LDI  R26,LOW(0)
0005dc e0b0      	LDI  R27,HIGH(0)
0005dd e9ee      	LDI  R30,LOW(_0x51*2)
0005de e0f0      	LDI  R31,HIGH(_0x51*2)
0005df 940e 0dcd 	CALL __INITLOCB
0005e1 940e 0dbf 	CALL __SAVELOCR6
                 ;	*szText -> Y+25
                 ;	nColor -> Y+24
                 ;	bGradient -> Y+23
                 ;	*pBuffer -> Y+21
                 ;	index -> Y+20
                 ;	pos -> R16,R17
                 ;	x -> R18,R19
                 ;	y -> R20,R21
                 ;	i -> Y+19
                 ;	len -> Y+18
                 ;	ch -> Y+17
                 ;	nWidth -> Y+15
                 ;	nCurWidth -> Y+13
                 ;	nNxtWidth -> Y+11
                 ;	mask -> Y+10
                 ;	data -> Y+9
                 ;	mask_clr -> Y+7
                 ;	devID -> Y+6
0005e3 e000      	LDI  R16,0
0005e4 e010      	LDI  R17,0
0005e5 e020      	LDI  R18,0
0005e6 e030      	LDI  R19,0
0005e7 e040      	LDI  R20,0
0005e8 e050      	LDI  R21,0
0005e9 8de8      	LDD  R30,Y+24
                 ;     485 	{
                 ;     486 	case 0:
0005ea 30e0      	CPI  R30,0
0005eb f429      	BRNE _0x55
                 ;     487 		mask = 0xFF;		// BLANK
0005ec efef      	LDI  R30,LOW(255)
0005ed 87ea      	STD  Y+10,R30
                 ;     488 		mask_clr[0] = 0xFF;
0005ee 83ef      	STD  Y+7,R30
                 ;     489 		mask_clr[1] = 0xFF;
0005ef 87e8      	STD  Y+8,R30
                 ;     490 		break;
0005f0 c01a      	RJMP _0x54
                 ;     491 	case 1:
                 _0x55:
0005f1 30e1      	CPI  R30,LOW(0x1)
0005f2 f439      	BRNE _0x56
                 ;     492 		mask = 0xAA;		// RED			RRRR	
0005f3 eaea      	LDI  R30,LOW(170)
0005f4 87ea      	STD  Y+10,R30
                 ;     493 		mask_clr[0] = 0x99;	// GREEN		RGRG
0005f5 e9e9      	LDI  R30,LOW(153)
0005f6 83ef      	STD  Y+7,R30
                 ;     494 		mask_clr[1] = 0x88;	// YELLOW		RYRY
0005f7 e8e8      	LDI  R30,LOW(136)
0005f8 87e8      	STD  Y+8,R30
                 ;     495 		break;
0005f9 c011      	RJMP _0x54
                 ;     496 	case 2:
                 _0x56:
0005fa 30e2      	CPI  R30,LOW(0x2)
0005fb f439      	BRNE _0x57
                 ;     497 		mask = 0x55;		// GREEN		GGGG
0005fc e5e5      	LDI  R30,LOW(85)
0005fd 87ea      	STD  Y+10,R30
                 ;     498 		mask_clr[0] = 0x44;	// YELLOW		GYGY
0005fe e4e4      	LDI  R30,LOW(68)
0005ff 83ef      	STD  Y+7,R30
                 ;     499 		mask_clr[1] = 0x66;	// RED			GRGR	
000600 e6e6      	LDI  R30,LOW(102)
000601 87e8      	STD  Y+8,R30
                 ;     500 		break;
000602 c008      	RJMP _0x54
                 ;     501 	case 3:
                 _0x57:
000603 30e3      	CPI  R30,LOW(0x3)
000604 f431      	BRNE _0x59
                 ;     502 		mask = 0x00;		// YELLOW		YYYY
000605 e0e0      	LDI  R30,LOW(0)
000606 87ea      	STD  Y+10,R30
                 ;     503 		mask_clr[0] = 0x22;	// RED			YRYR	
000607 e2e2      	LDI  R30,LOW(34)
000608 83ef      	STD  Y+7,R30
                 ;     504 		mask_clr[1] = 0x11;	// GREEN		YGYG
000609 e1e1      	LDI  R30,LOW(17)
00060a 87e8      	STD  Y+8,R30
                 ;     505 		break;
                 ;     506 	default:
                 _0x59:
                 ;     507 		break;
                 ;     508 	}	
                 _0x54:
                 ;     509                                
                 ;     510 	LED_STATUS = 0;
00060b 98c4      	CBI  0x18,4
                 ;     511 	i2c_init();
00060c 940e 0c67 	CALL _i2c_init
                 ;     512 	len = strlen(szText);      
00060e 8de9      	LDD  R30,Y+25
00060f 8dfa      	LDD  R31,Y+25+1
000610 93fa      	ST   -Y,R31
000611 93ea      	ST   -Y,R30
000612 940e 0cb9 	CALL _strlen
000614 8bea      	STD  Y+18,R30
                 ;     513 	if (len > MAX_TITLE){
000615 89aa      	LDD  R26,Y+18
000616 31a5      	CPI  R26,LOW(0x15)
000617 f010      	BRLO _0x5A
                 ;     514 	    len = MAX_TITLE;
000618 e1e4      	LDI  R30,LOW(20)
000619 8bea      	STD  Y+18,R30
                 ;     515 	}
                 ;     516 	for (i=0; i< len; i++){				                                     
                 _0x5A:
00061a e0e0      	LDI  R30,LOW(0)
00061b 8beb      	STD  Y+19,R30
                 _0x5C:
00061c 89ea      	LDD  R30,Y+18
00061d 89ab      	LDD  R26,Y+19
00061e 17ae      	CP   R26,R30
00061f f010      	BRLO PC+3
000620 940c 06b0 	JMP _0x5D
                 ;     517         ch = szText[i];             
000622 89eb      	LDD  R30,Y+19
000623 8da9      	LDD  R26,Y+25
000624 8dba      	LDD  R27,Y+25+1
000625 e0f0      	LDI  R31,0
000626 0fae      	ADD  R26,R30
000627 1fbf      	ADC  R27,R31
000628 91ec      	LD   R30,X
000629 8be9      	STD  Y+17,R30
                 ;     518 		nCurWidth = char_width[ch];
00062a eaae      	LDI  R26,LOW(_char_width_G1)
00062b e0b1      	LDI  R27,HIGH(_char_width_G1)
00062c e0f0      	LDI  R31,0
00062d 0fee      	LSL  R30
00062e 1fff      	ROL  R31
00062f 0fae      	ADD  R26,R30
000630 1fbf      	ADC  R27,R31
000631 940e 0db2 	CALL __GETW1P
000633 87ed      	STD  Y+13,R30
000634 87fe      	STD  Y+13+1,R31
                 ;     519 		nNxtWidth = char_width[ch+1];    		
000635 89a9      	LDD  R26,Y+17
000636 e0b0      	LDI  R27,0
000637 0faa      	LSL  R26
000638 1fbb      	ROL  R27
000639 55a0
00063a 4fbe      	__ADDW2MN _char_width_G1,2
00063b 940e 0db2 	CALL __GETW1P
00063d 87eb      	STD  Y+11,R30
00063e 87fc      	STD  Y+11+1,R31
                 ;     520 		nWidth = (nNxtWidth - nCurWidth); 		
00063f 85ad      	LDD  R26,Y+13
000640 85be      	LDD  R27,Y+13+1
000641 1bea      	SUB  R30,R26
000642 0bfb      	SBC  R31,R27
000643 87ef      	STD  Y+15,R30
000644 8bf8      	STD  Y+15+1,R31
                 ;     521 		if ((pos + nWidth) >= SCREEN_WIDTH)  break;		
000645 0fe0      	ADD  R30,R16
000646 1ff1      	ADC  R31,R17
000647 36e8      	CPI  R30,LOW(0x68)
000648 e0a0      	LDI  R26,HIGH(0x68)
000649 07fa      	CPC  R31,R26
00064a f010      	BRLO _0x5E
00064b 940c 06b0 	JMP  _0x5D
                 ;     522 		for (y=0; y< 8 ; y++){    		            
                 _0x5E:
00064d e040
00064e e050      	__GETWRN 20,21,0
                 _0x60:
00064f 3048
000650 e0e0
000651 075e      	__CPWRN 20,21,8
000652 f014      	BRLT PC+3
000653 940c 06a7 	JMP _0x61
                 ;     523 		    if (bGradient) {
000655 89ef      	LDD  R30,Y+23
000656 30e0      	CPI  R30,0
000657 f0a9      	BREQ _0x62
                 ;     524 				if (y >=0 && y <4)	mask = mask_clr[0];
000658 5040      	SUBI R20,0
000659 4050      	SBCI R21,0
00065a f024      	BRLT _0x64
00065b 3044
00065c e0e0
00065d 075e      	__CPWRN 20,21,4
00065e f00c      	BRLT _0x65
                 _0x64:
00065f c002      	RJMP _0x63
                 _0x65:
000660 81ef      	LDD  R30,Y+7
000661 87ea      	STD  Y+10,R30
                 ;     525 				if (y >=4 && y <8)	mask = mask_clr[1];	
                 _0x63:
000662 3044
000663 e0e0
000664 075e      	__CPWRN 20,21,4
000665 f024      	BRLT _0x67
000666 3048
000667 e0e0
000668 075e      	__CPWRN 20,21,8
000669 f00c      	BRLT _0x68
                 _0x67:
00066a c002      	RJMP _0x66
                 _0x68:
00066b 85e8      	LDD  R30,Y+8
00066c 87ea      	STD  Y+10,R30
                 ;     526 			}			
                 _0x66:
                 ;     527 			for (x=0; x< nWidth; x++){                                 
                 _0x62:
00066d e020
00066e e030      	__GETWRN 18,19,0
                 _0x6A:
00066f 85ef      	LDD  R30,Y+15
000670 89f8      	LDD  R31,Y+15+1
000671 172e      	CP   R18,R30
000672 073f      	CPC  R19,R31
000673 f578      	BRSH _0x6B
                 ;     528 			    RESET_WATCHDOG();       
000674 95a8      	WDR
                 ;     529 			    data = eeprom_read(devID, (PBYTE)(START_RAM + 8*SCREEN_WIDTH + SCREEN_WIDTH) + (y*DATA_LENGTH + nCurWidth + x));
000675 81ee      	LDD  R30,Y+6
000676 93ea      	ST   -Y,R30
000677 01da      	MOVW R26,R20
000678 efe8      	LDI  R30,LOW(3832)
000679 e0fe      	LDI  R31,HIGH(3832)
00067a 940e 0d7e 	CALL __MULW12
00067c 85ae      	LDD  R26,Y+14
00067d 85bf      	LDD  R27,Y+14+1
00067e 0fea      	ADD  R30,R26
00067f 1ffb      	ADC  R31,R27
000680 0fe2      	ADD  R30,R18
000681 1ff3      	ADC  R31,R19
000682 55e8      	SUBI R30,LOW(-2216)
000683 4ff7      	SBCI R31,HIGH(-2216)
000684 93fa      	ST   -Y,R31
000685 93ea      	ST   -Y,R30
000686 940e 0928 	CALL _eeprom_read
000688 87e9      	STD  Y+9,R30
                 ;     530 			    data = (~data) & (~mask); 
000689 95e0      	COM  R30
00068a 2fae      	MOV  R26,R30
00068b 85ea      	LDD  R30,Y+10
00068c 95e0      	COM  R30
00068d 23ea      	AND  R30,R26
00068e 87e9      	STD  Y+9,R30
                 ;     531    				pBuffer[y*DATA_LENGTH + x + pos] = ~data;   				
00068f 01da      	MOVW R26,R20
000690 efe8      	LDI  R30,LOW(3832)
000691 e0fe      	LDI  R31,HIGH(3832)
000692 940e 0d7e 	CALL __MULW12
000694 0fe2      	ADD  R30,R18
000695 1ff3      	ADC  R31,R19
000696 0fe0      	ADD  R30,R16
000697 1ff1      	ADC  R31,R17
000698 89ad      	LDD  R26,Y+21
000699 89be      	LDD  R27,Y+21+1
00069a 0fae      	ADD  R26,R30
00069b 1fbf      	ADC  R27,R31
00069c 85e9      	LDD  R30,Y+9
00069d 95e0      	COM  R30
00069e 93ec      	ST   X,R30
                 ;     532 			}					
00069f 5f2f
0006a0 4f3f      	__ADDWRN 18,19,1
0006a1 940c 066f 	JMP  _0x6A
                 _0x6B:
                 ;     533 		}
0006a3 5f4f
0006a4 4f5f      	__ADDWRN 20,21,1
0006a5 940c 064f 	JMP  _0x60
                 _0x61:
                 ;     534 		pos += nWidth;	 		
0006a7 85ef      	LDD  R30,Y+15
0006a8 89f8      	LDD  R31,Y+15+1
0006a9 0f0e
0006aa 1f1f      	__ADDWRR 16,17,30,31
                 ;     535 	}
0006ab 89eb      	LDD  R30,Y+19
0006ac 5fef      	SUBI R30,-LOW(1)
0006ad 8beb      	STD  Y+19,R30
0006ae 940c 061c 	JMP  _0x5C
                 _0x5D:
                 ;     536     
                 ;     537     text_length = pos;    
0006b0 9300 01ac
0006b2 9310 01ad 	__PUTWMRN _text_length_G1,0,16,17
                 ;     538     LED_STATUS = 1;
0006b4 9ac4      	SBI  0x18,4
                 ;     539     PORTD = 0x00;
0006b5 e0e0      	LDI  R30,LOW(0)
0006b6 bbe2      	OUT  0x12,R30
                 ;     540     DDRD = 0x3F;     
0006b7 e3ef      	LDI  R30,LOW(63)
0006b8 bbe1      	OUT  0x11,R30
                 ;     541 }
0006b9 940e 0dc6 	CALL __LOADLOCR6
0006bb 966b      	ADIW R28,27
0006bc 9508      	RET
                 ;     542         
                 ;     543 void LoadPage()
                 ;     544 {                         
                 _LoadPage:
                 ;     545     if (++page_index >= MAX_PAGE){
0006bd 91a0 01a9 	LDS  R26,_page_index_G1
0006bf 5faf      	SUBI R26,-LOW(1)
0006c0 93a0 01a9 	STS  _page_index_G1,R26
0006c2 30a5      	CPI  R26,LOW(0x5)
0006c3 f018      	BRLO _0x6C
                 ;     546         page_index = 0;
0006c4 e0e0      	LDI  R30,LOW(0)
0006c5 93e0 01a9 	STS  _page_index_G1,R30
                 ;     547     }                   
                 ;     548     _powerOff();          
                 _0x6C:
0006c7 940e 01f8 	CALL __powerOff_G1
                 ;     549     LoadConfig(page_index);       
0006c9 91e0 01a9 	LDS  R30,_page_index_G1
0006cb 93ea      	ST   -Y,R30
0006cc 940e 0574 	CALL _LoadConfig
                 ;     550     if (scroll_rate ==0){
0006ce 91e0 01a8 	LDS  R30,_scroll_rate_G1
0006d0 30e0      	CPI  R30,0
0006d1 f409      	BRNE _0x6D
                 ;     551         return;
0006d2 9508      	RET
                 ;     552     } 
                 ;     553     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);                
                 _0x6D:
0006d3 e0e0      	LDI  R30,LOW(1280)
0006d4 e0f5      	LDI  R31,HIGH(1280)
0006d5 93fa      	ST   -Y,R31
0006d6 93ea      	ST   -Y,R30
0006d7 efef      	LDI  R30,LOW(32767)
0006d8 e7ff      	LDI  R31,HIGH(32767)
0006d9 93fa      	ST   -Y,R31
0006da 93ea      	ST   -Y,R30
0006db 940e 059f 	CALL _BlankRAM
                 ;     554     LoadToRAM((PBYTE)START_RAM+SCREEN_WIDTH,PAGE_SIZE,page_index);                 
0006dd e6e8      	LDI  R30,LOW(1384)
0006de e0f5      	LDI  R31,HIGH(1384)
0006df 93fa      	ST   -Y,R31
0006e0 93ea      	ST   -Y,R30
0006e1 e8e0      	LDI  R30,LOW(384)
0006e2 e0f1      	LDI  R31,HIGH(384)
0006e3 93fa      	ST   -Y,R31
0006e4 93ea      	ST   -Y,R30
0006e5 91e0 01a9 	LDS  R30,_page_index_G1
0006e7 93ea      	ST   -Y,R30
0006e8 940e 0524 	CALL _LoadToRAM
                 ;     555     GetCharWidth(255);                                            
0006ea efef      	LDI  R30,LOW(255)
0006eb e0f0      	LDI  R31,HIGH(255)
0006ec 93fa      	ST   -Y,R31
0006ed 93ea      	ST   -Y,R30
0006ee 940e 04ac 	CALL _GetCharWidth
                 ;     556 #ifndef __OWN_TITLE_
                 ;     557     TextFromFont((char*)szTitle[page_index],1,0,(PBYTE)START_RAM,0);
                 ;     558 #else
                 ;     559     TextFromFont((char*)(START_RAM+SCREEN_WIDTH+MAX_LED),1,0,(PBYTE)START_RAM,0);     
0006f0 eae5      	LDI  R30,LOW(1701)
0006f1 e0f6      	LDI  R31,HIGH(1701)
0006f2 93fa      	ST   -Y,R31
0006f3 93ea      	ST   -Y,R30
0006f4 e0e1      	LDI  R30,LOW(1)
0006f5 93ea      	ST   -Y,R30
0006f6 e0e0      	LDI  R30,LOW(0)
0006f7 93ea      	ST   -Y,R30
0006f8 e0e0      	LDI  R30,LOW(1280)
0006f9 e0f5      	LDI  R31,HIGH(1280)
0006fa 93fa      	ST   -Y,R31
0006fb 93ea      	ST   -Y,R30
0006fc 93ea      	ST   -Y,R30
0006fd 940e 05d9 	CALL _TextFromFont_G1
                 ;     560 #endif                                                  
                 ;     561     GetRTCBuffer();
0006ff 940e 0365 	CALL _GetRTCBuffer
                 ;     562     _displayLED();                  
000701 940e 0206 	CALL __displayLED_G1
                 ;     563         
                 ;     564 #ifdef __DUMP_LED_     
                 ;     565 {         
                 ;     566     UINT i=0;
                 ;     567     PBYTE temp = 0;
                 ;     568     temp   =(PBYTE)START_RAM+SCREEN_WIDTH;
                 ;     569     for (i =0; i <MAX_LED; i++) {
                 ;     570         printf("%02X ",*temp);
                 ;     571         temp++;
                 ;     572     }               
                 ;     573     printf("%s \r\n",(char*)(START_RAM+SCREEN_WIDTH+MAX_LED));
                 ;     574 }
                 ;     575 #endif 
                 ;     576     start_mem = (PBYTE)START_RAM;
000703 e0e0      	LDI  R30,LOW(1280)
000704 e0f5      	LDI  R31,HIGH(1280)
000705 93e0 01a0 	STS  _start_mem_G1,R30
000707 93f0 01a1 	STS  _start_mem_G1+1,R31
                 ;     577     reset_serial();    
000709 d21a      	RCALL _reset_serial
                 ;     578 }
00070a 9508      	RET
                 ;     579 
                 ;     580 ///////////////////////////////////////////////////////////////
                 ;     581 // END static function(s)
                 ;     582 ///////////////////////////////////////////////////////////////
                 ;     583 
                 ;     584 ///////////////////////////////////////////////////////////////           
                 ;     585 
                 ;     586 void InitDevice()
                 ;     587 {
                 _InitDevice:
                 ;     588 // Declare your local variables here
                 ;     589 // Crystal Oscillator division factor: 1  
                 ;     590 #ifdef _MEGA162_INCLUDED_ 
                 ;     591 #pragma optsize-
                 ;     592 CLKPR=0x80;
00070b e8e0      	LDI  R30,LOW(128)
00070c 93e0 0061 	STS  97,R30
                 ;     593 CLKPR=0x00;
00070e e0e0      	LDI  R30,LOW(0)
00070f 93e0 0061 	STS  97,R30
                 ;     594 #ifdef _OPTIMIZE_SIZE_
                 ;     595 #pragma optsize+
                 ;     596 #endif                    
                 ;     597 #endif
                 ;     598 
                 ;     599 PORTA=0x00;
000711 bbeb      	OUT  0x1B,R30
                 ;     600 DDRA=0x00;
000712 bbea      	OUT  0x1A,R30
                 ;     601 
                 ;     602 PORTB=0x00;
000713 bbe8      	OUT  0x18,R30
                 ;     603 DDRB=0xFF;
000714 efef      	LDI  R30,LOW(255)
000715 bbe7      	OUT  0x17,R30
                 ;     604 
                 ;     605 PORTC=0x00;
000716 e0e0      	LDI  R30,LOW(0)
000717 bbe5      	OUT  0x15,R30
                 ;     606 DDRC=0x00;
000718 bbe4      	OUT  0x14,R30
                 ;     607 
                 ;     608 PORTD = 0x00;
000719 bbe2      	OUT  0x12,R30
                 ;     609 DDRD = 0x00;
00071a bbe1      	OUT  0x11,R30
                 ;     610 
                 ;     611 PORTE=0x00;
00071b b9e7      	OUT  0x7,R30
                 ;     612 DDRE=0x05;
00071c e0e5      	LDI  R30,LOW(5)
00071d b9e6      	OUT  0x6,R30
                 ;     613 
                 ;     614 TCCR0=0x03; 
00071e e0e3      	LDI  R30,LOW(3)
00071f bfe3      	OUT  0x33,R30
                 ;     615 TCNT0=0x05; 
000720 e0e5      	LDI  R30,LOW(5)
000721 bfe2      	OUT  0x32,R30
                 ;     616 OCR0=0x00;  
000722 e0e0      	LDI  R30,LOW(0)
000723 bfe1      	OUT  0x31,R30
                 ;     617 
                 ;     618 UCSR0A=0x00;
000724 b9eb      	OUT  0xB,R30
                 ;     619 UCSR0B=0x98;
000725 e9e8      	LDI  R30,LOW(152)
000726 b9ea      	OUT  0xA,R30
                 ;     620 UCSR0C=0x86;
000727 e8e6      	LDI  R30,LOW(134)
000728 bde0      	OUT  0x20,R30
                 ;     621 UBRR0H=0x00;
000729 e0e0      	LDI  R30,LOW(0)
00072a bde0      	OUT  0x20,R30
                 ;     622 UBRR0L=0x67;
00072b e6e7      	LDI  R30,LOW(103)
00072c b9e9      	OUT  0x9,R30
                 ;     623 
                 ;     624 MCUCR=0x80;
00072d e8e0      	LDI  R30,LOW(128)
00072e bfe5      	OUT  0x35,R30
                 ;     625 EMCUCR=0x00;     
00072f e0e0      	LDI  R30,LOW(0)
000730 bfe6      	OUT  0x36,R30
                 ;     626 
                 ;     627 TIMSK=0x02;
000731 e0e2      	LDI  R30,LOW(2)
000732 bfe9      	OUT  0x39,R30
                 ;     628 ETIMSK=0x00;
000733 e0e0      	LDI  R30,LOW(0)
000734 93e0 007d 	STS  125,R30
                 ;     629 
                 ;     630 // I2C Bus initialization
                 ;     631 i2c_init();
000736 940e 0c67 	CALL _i2c_init
                 ;     632 
                 ;     633 // DS1307 Real Time Clock initialization
                 ;     634 // Square wave output on pin SQW/OUT: Off
                 ;     635 // SQW/OUT pin state: 1
                 ;     636 rtc_init(0,0,1);   
000738 e0e0      	LDI  R30,LOW(0)
000739 93ea      	ST   -Y,R30
00073a 93ea      	ST   -Y,R30
00073b e0e1      	LDI  R30,LOW(1)
00073c 93ea      	ST   -Y,R30
00073d 940e 0b9f 	CALL _rtc_init
                 ;     637 
                 ;     638 #ifdef __WATCH_DOG_
                 ;     639 WDTCR=0x1F;
00073f e1ef      	LDI  R30,LOW(31)
000740 bde1      	OUT  0x21,R30
                 ;     640 WDTCR=0x0F;
000741 e0ef      	LDI  R30,LOW(15)
000742 bde1      	OUT  0x21,R30
                 ;     641 #endif 
                 ;     642     printf("                                          \r\n");
000743 e7e6
000744 e0f1      	__POINTW1FN _0,162
000745 93fa      	ST   -Y,R31
000746 93ea      	ST   -Y,R30
000747 e080      	LDI  R24,0
000748 940e 0b7f 	CALL _printf
00074a 9622      	ADIW R28,2
                 ;     643     printf("|=========================================|\r\n");
00074b eae3
00074c e0f1      	__POINTW1FN _0,207
00074d 93fa      	ST   -Y,R31
00074e 93ea      	ST   -Y,R30
00074f e080      	LDI  R24,0
000750 940e 0b7f 	CALL _printf
000752 9622      	ADIW R28,2
                 ;     644     printf("|      DigiLED AVR Firmware v1.0.0        |\r\n");
000753 ede1
000754 e0f1      	__POINTW1FN _0,253
000755 93fa      	ST   -Y,R31
000756 93ea      	ST   -Y,R30
000757 e080      	LDI  R24,0
000758 940e 0b7f 	CALL _printf
00075a 9622      	ADIW R28,2
                 ;     645     printf("|_________________________________________|\r\n");
00075b efef
00075c e0f1      	__POINTW1FN _0,299
00075d 93fa      	ST   -Y,R31
00075e 93ea      	ST   -Y,R30
00075f e080      	LDI  R24,0
000760 940e 0b7f 	CALL _printf
000762 9622      	ADIW R28,2
                 ;     646     printf("|        Copyright by CuongQuay           |\r\n");  
000763 e2ed
000764 e0f2      	__POINTW1FN _0,345
000765 93fa      	ST   -Y,R31
000766 93ea      	ST   -Y,R30
000767 e080      	LDI  R24,0
000768 940e 0b7f 	CALL _printf
00076a 9622      	ADIW R28,2
                 ;     647     printf("|    cuong3ihut@yahoo.com - 0915651001    |\r\n");
00076b e5eb
00076c e0f2      	__POINTW1FN _0,391
00076d 93fa      	ST   -Y,R31
00076e 93ea      	ST   -Y,R30
00076f e080      	LDI  R24,0
000770 940e 0b7f 	CALL _printf
000772 9622      	ADIW R28,2
                 ;     648     printf("|       Started date: 24.05.2007          |\r\n");
000773 e8e9
000774 e0f2      	__POINTW1FN _0,437
000775 93fa      	ST   -Y,R31
000776 93ea      	ST   -Y,R30
000777 e080      	LDI  R24,0
000778 940e 0b7f 	CALL _printf
00077a 9622      	ADIW R28,2
                 ;     649     printf("|       Release date: 23.06.2007          |\r\n");
00077b ebe7
00077c e0f2      	__POINTW1FN _0,483
00077d 93fa      	ST   -Y,R31
00077e 93ea      	ST   -Y,R30
00077f e080      	LDI  R24,0
000780 940e 0b7f 	CALL _printf
000782 9622      	ADIW R28,2
                 ;     650     printf("|_________________________________________|\r\n");              
000783 efef
000784 e0f1      	__POINTW1FN _0,299
000785 93fa      	ST   -Y,R31
000786 93ea      	ST   -Y,R30
000787 e080      	LDI  R24,0
000788 940e 0b7f 	CALL _printf
00078a 9622      	ADIW R28,2
                 ;     651     printf("                                          \r\n");    
00078b e7e6
00078c e0f1      	__POINTW1FN _0,162
00078d 93fa      	ST   -Y,R31
00078e 93ea      	ST   -Y,R30
00078f e080      	LDI  R24,0
000790 940e 0b7f 	CALL _printf
000792 9622      	ADIW R28,2
                 ;     652 
                 ;     653 #ifdef __TEST_RTC_
                 ;     654 {                                
                 ;     655     BYTE hh=0,mm=0,ss=0,DD=0,MM=0,YY=0;
                 ;     656     rtc_get_date(&DD,&MM,&YY);
000793 9726      	SBIW R28,6
000794 e086      	LDI  R24,6
000795 e0a0      	LDI  R26,LOW(0)
000796 e0b0      	LDI  R27,HIGH(0)
000797 eaec      	LDI  R30,LOW(_0x6E*2)
000798 e0f0      	LDI  R31,HIGH(_0x6E*2)
000799 940e 0dcd 	CALL __INITLOCB
                 ;	hh -> Y+5
                 ;	mm -> Y+4
                 ;	ss -> Y+3
                 ;	DD -> Y+2
                 ;	MM -> Y+1
                 ;	YY -> Y+0
00079b 01fe      	MOVW R30,R28
00079c 9632      	ADIW R30,2
00079d 93fa      	ST   -Y,R31
00079e 93ea      	ST   -Y,R30
00079f 01fe      	MOVW R30,R28
0007a0 9633      	ADIW R30,3
0007a1 93fa      	ST   -Y,R31
0007a2 93ea      	ST   -Y,R30
0007a3 01fe      	MOVW R30,R28
0007a4 9634      	ADIW R30,4
0007a5 93fa      	ST   -Y,R31
0007a6 93ea      	ST   -Y,R30
0007a7 940e 0c12 	CALL _rtc_get_date
                 ;     657     rtc_get_time(&hh,&mm,&ss);
0007a9 01fe      	MOVW R30,R28
0007aa 9635      	ADIW R30,5
0007ab 93fa      	ST   -Y,R31
0007ac 93ea      	ST   -Y,R30
0007ad 01fe      	MOVW R30,R28
0007ae 9636      	ADIW R30,6
0007af 93fa      	ST   -Y,R31
0007b0 93ea      	ST   -Y,R30
0007b1 01fe      	MOVW R30,R28
0007b2 9637      	ADIW R30,7
0007b3 93fa      	ST   -Y,R31
0007b4 93ea      	ST   -Y,R30
0007b5 940e 0bbf 	CALL _rtc_get_time
                 ;     658     printf("DS1307 GMT: %02d:%02d:%02d %02d-%02d-%02d\r\n",hh,mm,ss,DD,MM,YY);
0007b7 eee5
0007b8 e0f2      	__POINTW1FN _0,529
0007b9 93fa      	ST   -Y,R31
0007ba 93ea      	ST   -Y,R30
0007bb 81ef      	LDD  R30,Y+7
0007bc 27ff      	CLR  R31
0007bd 2766      	CLR  R22
0007be 2777      	CLR  R23
0007bf 940e 0dba 	CALL __PUTPARD1
0007c1 85ea      	LDD  R30,Y+10
0007c2 27ff      	CLR  R31
0007c3 2766      	CLR  R22
0007c4 2777      	CLR  R23
0007c5 940e 0dba 	CALL __PUTPARD1
0007c7 85ed      	LDD  R30,Y+13
0007c8 27ff      	CLR  R31
0007c9 2766      	CLR  R22
0007ca 2777      	CLR  R23
0007cb 940e 0dba 	CALL __PUTPARD1
0007cd 89e8      	LDD  R30,Y+16
0007ce 27ff      	CLR  R31
0007cf 2766      	CLR  R22
0007d0 2777      	CLR  R23
0007d1 940e 0dba 	CALL __PUTPARD1
0007d3 89eb      	LDD  R30,Y+19
0007d4 27ff      	CLR  R31
0007d5 2766      	CLR  R22
0007d6 2777      	CLR  R23
0007d7 940e 0dba 	CALL __PUTPARD1
0007d9 89ee      	LDD  R30,Y+22
0007da 27ff      	CLR  R31
0007db 2766      	CLR  R22
0007dc 2777      	CLR  R23
0007dd 940e 0dba 	CALL __PUTPARD1
0007df e188      	LDI  R24,24
0007e0 940e 0b7f 	CALL _printf
0007e2 966a      	ADIW R28,26
                 ;     659 }           
0007e3 9626      	ADIW R28,6
                 ;     660 #endif    
                 ;     661                
                 ;     662 }
0007e4 9508      	RET
                 ;     663 
                 ;     664 void PowerReset()
                 ;     665 {   
                 _PowerReset:
                 ;     666     start_mem = (PBYTE)START_RAM;     
0007e5 e0e0      	LDI  R30,LOW(1280)
0007e6 e0f5      	LDI  R31,HIGH(1280)
0007e7 93e0 01a0 	STS  _start_mem_G1,R30
0007e9 93f0 01a1 	STS  _start_mem_G1+1,R31
                 ;     667     end_mem   = (PBYTE)END_RAM;
0007eb efef      	LDI  R30,LOW(32767)
0007ec e7ff      	LDI  R31,HIGH(32767)
0007ed 93e0 01a2 	STS  _end_mem_G1,R30
0007ef 93f0 01a3 	STS  _end_mem_G1+1,R31
                 ;     668     org_mem   = (PBYTE)START_RAM;	                   
0007f1 e0e0      	LDI  R30,LOW(1280)
0007f2 e0f5      	LDI  R31,HIGH(1280)
0007f3 93e0 01a6 	STS  _org_mem_G1,R30
0007f5 93f0 01a7 	STS  _org_mem_G1+1,R31
                 ;     669 
                 ;     670     InitDevice();
0007f7 940e 070b 	CALL _InitDevice
                 ;     671                      
                 ;     672     LED_STATUS = 0;
0007f9 98c4      	CBI  0x18,4
                 ;     673     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);    
0007fa e0e0      	LDI  R30,LOW(1280)
0007fb e0f5      	LDI  R31,HIGH(1280)
0007fc 93fa      	ST   -Y,R31
0007fd 93ea      	ST   -Y,R30
0007fe efef      	LDI  R30,LOW(32767)
0007ff e7ff      	LDI  R31,HIGH(32767)
000800 93fa      	ST   -Y,R31
000801 93ea      	ST   -Y,R30
000802 940e 059f 	CALL _BlankRAM
                 ;     674     delay_ms(500);
000804 efe4      	LDI  R30,LOW(500)
000805 e0f1      	LDI  R31,HIGH(500)
000806 93fa      	ST   -Y,R31
000807 93ea      	ST   -Y,R30
000808 940e 0cce 	CALL _delay_ms
                 ;     675     LED_STATUS = 1;
00080a 9ac4      	SBI  0x18,4
                 ;     676         
                 ;     677     LED_STATUS = 0;  
00080b 98c4      	CBI  0x18,4
                 ;     678     page_index = 0; 
00080c e0e0      	LDI  R30,LOW(0)
00080d 93e0 01a9 	STS  _page_index_G1,R30
                 ;     679     LoadPage();        
00080f 940e 06bd 	CALL _LoadPage
                 ;     680     LED_STATUS = 1;             
000811 9ac4      	SBI  0x18,4
                 ;     681                        
                 ;     682     // reload configuration
                 ;     683     LED_STATUS = 0;
000812 98c4      	CBI  0x18,4
                 ;     684     delay_ms(100);
000813 e6e4      	LDI  R30,LOW(100)
000814 e0f0      	LDI  R31,HIGH(100)
000815 93fa      	ST   -Y,R31
000816 93ea      	ST   -Y,R30
000817 940e 0cce 	CALL _delay_ms
                 ;     685     LED_STATUS = 1;  
000819 9ac4      	SBI  0x18,4
                 ;     686     PORTD = 0x00;
00081a e0e0      	LDI  R30,LOW(0)
00081b bbe2      	OUT  0x12,R30
                 ;     687     DDRD = 0x3F;      
00081c e3ef      	LDI  R30,LOW(63)
00081d bbe1      	OUT  0x11,R30
                 ;     688 }
00081e 9508      	RET
                 ;     689 
                 ;     690 void ProcessCommand()
                 ;     691 {
                 _ProcessCommand:
                 ;     692    	#asm("cli"); 
00081f 94f8      	cli
                 ;     693     RESET_WATCHDOG();
000820 95a8      	WDR
                 ;     694     // Turn off the scan board           
                 ;     695     _powerOff();
000821 940e 01f8 	CALL __powerOff_G1
                 ;     696     // serial message processing     
                 ;     697     switch (rx_message)
000823 2de8      	MOV  R30,R8
                 ;     698     {                  
                 ;     699     case LOAD_DATA_MSG:
000824 30e1      	CPI  R30,LOW(0x1)
000825 f011      	BREQ PC+3
000826 940c 0868 	JMP _0x72
                 ;     700         {       
                 ;     701             if (rx_wparam > DATA_LENGTH) rx_wparam = DATA_LENGTH;
000828 efe8      	LDI  R30,LOW(3832)
000829 e0fe      	LDI  R31,HIGH(3832)
00082a 15e9      	CP   R30,R9
00082b 05fa      	CPC  R31,R10
00082c f410      	BRSH _0x73
00082d 2e9e
00082e 2eaf      	__PUTW1R 9,10
                 ;     702             BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);
                 _0x73:
00082f e0e0      	LDI  R30,LOW(1280)
000830 e0f5      	LDI  R31,HIGH(1280)
000831 93fa      	ST   -Y,R31
000832 93ea      	ST   -Y,R30
000833 efef      	LDI  R30,LOW(32767)
000834 e7ff      	LDI  R31,HIGH(32767)
000835 93fa      	ST   -Y,R31
000836 93ea      	ST   -Y,R30
000837 940e 059f 	CALL _BlankRAM
                 ;     703             page_index = rx_wparam>>8; 
000839 92a0 01a9 	STS  _page_index_G1,R10
                 ;     704             scroll_rate = rx_wparam&0x00FF;                                   
00083b 2de9
00083c 2dfa      	__GETW1R 9,10
00083d 93e0 01a8 	STS  _scroll_rate_G1,R30
                 ;     705             text_length = rx_lparam;                     
00083f 92b0 01ac
000841 92c0 01ad 	__PUTWMRN _text_length_G1,0,11,12
                 ;     706             SerialToRAM((PBYTE)START_RAM+SCREEN_WIDTH,text_length);                
000843 e6e8      	LDI  R30,LOW(1384)
000844 e0f5      	LDI  R31,HIGH(1384)
000845 93fa      	ST   -Y,R31
000846 93ea      	ST   -Y,R30
000847 91e0 01ac 	LDS  R30,_text_length_G1
000849 91f0 01ad 	LDS  R31,_text_length_G1+1
00084b 93fa      	ST   -Y,R31
00084c 93ea      	ST   -Y,R30
00084d 940e 0489 	CALL _SerialToRAM
                 ;     707             start_mem = (PBYTE)START_RAM;
00084f e0e0      	LDI  R30,LOW(1280)
000850 e0f5      	LDI  R31,HIGH(1280)
000851 93e0 01a0 	STS  _start_mem_G1,R30
000853 93f0 01a1 	STS  _start_mem_G1+1,R31
                 ;     708             SaveConfig(page_index);					    		    		    	
000855 91e0 01a9 	LDS  R30,_page_index_G1
000857 93ea      	ST   -Y,R30
000858 940e 0588 	CALL _SaveConfig
                 ;     709             SaveToEEPROM((PBYTE)START_RAM+SCREEN_WIDTH,PAGE_SIZE,page_index);            
00085a e6e8      	LDI  R30,LOW(1384)
00085b e0f5      	LDI  R31,HIGH(1384)
00085c 93fa      	ST   -Y,R31
00085d 93ea      	ST   -Y,R30
00085e e8e0      	LDI  R30,LOW(384)
00085f e0f1      	LDI  R31,HIGH(384)
000860 93fa      	ST   -Y,R31
000861 93ea      	ST   -Y,R30
000862 91e0 01a9 	LDS  R30,_page_index_G1
000864 93ea      	ST   -Y,R30
000865 940e 04e2 	CALL _SaveToEEPROM
                 ;     710         }				
                 ;     711         break;   
000867 c012      	RJMP _0x71
                 ;     712     case LOAD_CONFIG_MSG:
                 _0x72:
000868 30e2      	CPI  R30,LOW(0x2)
000869 f461      	BRNE _0x74
                 ;     713         {    
                 ;     714             page_index = rx_wparam>>8;
00086a 92a0 01a9 	STS  _page_index_G1,R10
                 ;     715             scroll_rate = rx_wparam&0x00FF;             
00086c 2de9
00086d 2dfa      	__GETW1R 9,10
00086e 93e0 01a8 	STS  _scroll_rate_G1,R30
                 ;     716             SaveConfig(page_index);
000870 91e0 01a9 	LDS  R30,_page_index_G1
000872 93ea      	ST   -Y,R30
000873 940e 0588 	CALL _SaveConfig
                 ;     717         }
                 ;     718         break;       
000875 c004      	RJMP _0x71
                 ;     719     case SET_RTC_MSG:
                 _0x74:
000876 30e3      	CPI  R30,LOW(0x3)
000877 f411      	BRNE _0x76
                 ;     720         {                                
                 ;     721             SetRTCDateTime();
000878 940e 05b4 	CALL _SetRTCDateTime
                 ;     722         }
                 ;     723         break;    
                 ;     724     default:
                 _0x76:
                 ;     725         break;
                 ;     726     }                 
                 _0x71:
                 ;     727     send_echo_msg();            
00087a d083      	RCALL _send_echo_msg
                 ;     728     rx_message = UNKNOWN_MSG;
00087b 2488      	CLR  R8
                 ;     729     #asm("sei");
00087c 9478      	sei
                 ;     730     PORTD = 0x00;
00087d e0e0      	LDI  R30,LOW(0)
00087e bbe2      	OUT  0x12,R30
                 ;     731     DDRD = 0x3F;     
00087f e3ef      	LDI  R30,LOW(63)
000880 bbe1      	OUT  0x11,R30
                 ;     732 
                 ;     733 }          
000881 9508      	RET
                 ;     734 ////////////////////////////////////////////////////////////////////////////////
                 ;     735 // MAIN PROGRAM
                 ;     736 ////////////////////////////////////////////////////////////////////////////////
                 ;     737 void main(void)
                 ;     738 {         
                 _main:
                 ;     739     if (MCUCSR & 8){
000882 b7e4      	IN   R30,0x34
000883 ffe3      	SBRS R30,3
000884 c005      	RJMP _0x77
                 ;     740         // Watchdog Reset
                 ;     741         MCUCSR&=0xE0;  
000885 b7e4      	IN   R30,0x34
000886 7ee0      	ANDI R30,LOW(0xE0)
000887 bfe4      	OUT  0x34,R30
                 ;     742         reset_serial(); 
000888 d09b      	RCALL _reset_serial
                 ;     743     }
                 ;     744     else {      
000889 c003      	RJMP _0x78
                 _0x77:
                 ;     745         MCUCSR&=0xE0;
00088a b7e4      	IN   R30,0x34
00088b 7ee0      	ANDI R30,LOW(0xE0)
00088c bfe4      	OUT  0x34,R30
                 ;     746     }                                     
                 _0x78:
                 ;     747      
                 ;     748     PowerReset();                        
00088d 940e 07e5 	CALL _PowerReset
                 ;     749     #asm("sei");     
00088f 9478      	sei
                 ;     750             
                 ;     751     while (1){                     
                 _0x79:
                 ;     752         if (rx_message != UNKNOWN_MSG){   
000890 2088      	TST  R8
000891 f019      	BREQ _0x7C
                 ;     753             ProcessCommand();   
000892 940e 081f 	CALL _ProcessCommand
                 ;     754         }
                 ;     755         else{               
000894 c004      	RJMP _0x7D
                 _0x7C:
                 ;     756             _doPaging();
000895 940e 0324 	CALL __doPaging_G1
                 ;     757             _displayFrame();                        
000897 940e 02cb 	CALL __displayFrame_G1
                 ;     758         }
                 _0x7D:
                 ;     759         RESET_WATCHDOG();
000899 95a8      	WDR
                 ;     760     }
00089a 940c 0890 	JMP  _0x79
                 ;     761 }
                 _0x7E:
00089c 0000      	NOP
00089d cffe      	RJMP _0x7E
                 ;     762                          
                 ;     763 #include "define.h"
                 ;     764 
                 ;     765 ///////////////////////////////////////////////////////////////
                 ;     766 // serial interrupt handle - processing serial message ...
                 ;     767 ///////////////////////////////////////////////////////////////
                 ;     768 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;     769 ///////////////////////////////////////////////////////////////
                 ;     770 BYTE rx_buffer[RX_BUFFER_SIZE];
                 
                 	.DSEG
                 _rx_buffer:
000422           	.BYTE 0x8
                 ;     771 extern BYTE  rx_message;
                 ;     772 extern WORD  rx_wparam;
                 ;     773 extern WORD  rx_lparam;
                 ;     774 
                 ;     775 #if RX_BUFFER_SIZE<256
                 ;     776 unsigned char rx_wr_index,rx_counter;
                 ;     777 #else
                 ;     778 unsigned int rx_wr_index,rx_counter;
                 ;     779 #endif
                 ;     780 
                 ;     781 void send_echo_msg();
                 ;     782 
                 ;     783 // USART Receiver interrupt service routine
                 ;     784 #ifdef _MEGA162_INCLUDED_                    
                 ;     785 interrupt [USART0_RXC] void usart_rx_isr(void)
                 ;     786 #else
                 ;     787 interrupt [USART_RXC] void usart_rx_isr(void)
                 ;     788 #endif
                 ;     789 {
                 
                 	.CSEG
                 _usart_rx_isr:
00089e 93aa      	ST   -Y,R26
00089f 93ba      	ST   -Y,R27
0008a0 93ea      	ST   -Y,R30
0008a1 93fa      	ST   -Y,R31
0008a2 b7ef      	IN   R30,SREG
0008a3 93ea      	ST   -Y,R30
                 ;     790 char status,data;
                 ;     791 #ifdef _MEGA162_INCLUDED_  
                 ;     792 status=UCSR0A;
0008a4 931a      	ST   -Y,R17
0008a5 930a      	ST   -Y,R16
                 ;	status -> R16
                 ;	data -> R17
0008a6 b10b      	IN   R16,11
                 ;     793 data=UDR0;
0008a7 b11c      	IN   R17,12
                 ;     794 #else     
                 ;     795 status=UCSRA;
                 ;     796 data=UDR;
                 ;     797 #endif          
                 ;     798     if ((status & (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0)
0008a8 2fe0      	MOV  R30,R16
0008a9 71ec      	ANDI R30,LOW(0x1C)
0008aa f011      	BREQ PC+3
0008ab 940c 08f5 	JMP _0x7F
                 ;     799     {
                 ;     800         rx_buffer[rx_wr_index]=data; 
0008ad 2dad      	MOV  R26,R13
0008ae e0b0      	LDI  R27,0
0008af 5dae      	SUBI R26,LOW(-_rx_buffer)
0008b0 4fbb      	SBCI R27,HIGH(-_rx_buffer)
0008b1 931c      	ST   X,R17
                 ;     801         if (++rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0;
0008b2 94d3      	INC  R13
0008b3 e0e8      	LDI  R30,LOW(8)
0008b4 15ed      	CP   R30,R13
0008b5 f409      	BRNE _0x80
0008b6 24dd      	CLR  R13
                 ;     802         if (++rx_counter == RX_BUFFER_SIZE)
                 _0x80:
0008b7 94e3      	INC  R14
0008b8 e0e8      	LDI  R30,LOW(8)
0008b9 15ee      	CP   R30,R14
0008ba f5d1      	BRNE _0x81
                 ;     803         {
                 ;     804             rx_counter=0;
0008bb 24ee      	CLR  R14
                 ;     805             if (
                 ;     806                 rx_buffer[0]==WAKEUP_CHAR && rx_buffer[1]==WAKEUP_CHAR &&        
                 ;     807                 rx_buffer[2]==WAKEUP_CHAR 
                 ;     808                 )
0008bc 91a0 0422 	LDS  R26,_rx_buffer
0008be 3aaa      	CPI  R26,LOW(0xAA)
0008bf f441      	BRNE _0x83
0008c0 91e0 0423 	__GETB1MN _rx_buffer,1
0008c2 3aea      	CPI  R30,LOW(0xAA)
0008c3 f421      	BRNE _0x83
0008c4 91e0 0424 	__GETB1MN _rx_buffer,2
0008c6 3aea      	CPI  R30,LOW(0xAA)
0008c7 f009      	BREQ _0x84
                 _0x83:
0008c8 c01d      	RJMP _0x82
                 _0x84:
                 ;     809             {
                 ;     810                 rx_message  = rx_buffer[3];    // message value 
0008c9 9080 0425 	__GETBRMN 8,_rx_buffer,3
                 ;     811                 rx_wparam   = rx_buffer[4];    // wparam value
0008cb 9090 0426 	__GETBRMN 9,_rx_buffer,4
0008cd 24aa      	CLR  R10
                 ;     812                 rx_wparam   = (rx_wparam<<8)|rx_buffer[5]; 
0008ce 2df9      	MOV  R31,R9
0008cf e0e0      	LDI  R30,LOW(0)
0008d0 01df      	MOVW R26,R30
0008d1 91e0 0427 	__GETB1MN _rx_buffer,5
0008d3 e0f0      	LDI  R31,0
0008d4 2bea      	OR   R30,R26
0008d5 2bfb      	OR   R31,R27
0008d6 2e9e
0008d7 2eaf      	__PUTW1R 9,10
                 ;     813                 rx_lparam   = rx_buffer[6];    // lparam value
0008d8 90b0 0428 	__GETBRMN 11,_rx_buffer,6
0008da 24cc      	CLR  R12
                 ;     814                 rx_lparam   = (rx_lparam<<8)|rx_buffer[7];                           
0008db 2dfb      	MOV  R31,R11
0008dc e0e0      	LDI  R30,LOW(0)
0008dd 01df      	MOVW R26,R30
0008de 91e0 0429 	__GETB1MN _rx_buffer,7
0008e0 e0f0      	LDI  R31,0
0008e1 2bea      	OR   R30,R26
0008e2 2bfb      	OR   R31,R27
0008e3 2ebe
0008e4 2ecf      	__PUTW1R 11,12
                 ;     815             }
                 ;     816             else if(
0008e5 c00f      	RJMP _0x85
                 _0x82:
                 ;     817                 rx_buffer[0]==ESCAPE_CHAR && rx_buffer[1]==ESCAPE_CHAR &&        
                 ;     818                 rx_buffer[2]==ESCAPE_CHAR 
                 ;     819                 )
0008e6 91a0 0422 	LDS  R26,_rx_buffer
0008e8 3faf      	CPI  R26,LOW(0xFF)
0008e9 f441      	BRNE _0x87
0008ea 91e0 0423 	__GETB1MN _rx_buffer,1
0008ec 3fef      	CPI  R30,LOW(0xFF)
0008ed f421      	BRNE _0x87
0008ee 91e0 0424 	__GETB1MN _rx_buffer,2
0008f0 3fef      	CPI  R30,LOW(0xFF)
0008f1 f009      	BREQ _0x88
                 _0x87:
0008f2 c002      	RJMP _0x86
                 _0x88:
                 ;     820             {
                 ;     821                 rx_wr_index=0;
0008f3 24dd      	CLR  R13
                 ;     822                 rx_counter =0;
0008f4 24ee      	CLR  R14
                 ;     823             }      
                 ;     824         };
                 _0x86:
                 _0x85:
                 _0x81:
                 ;     825     };
                 _0x7F:
                 ;     826 }
0008f5 9109      	LD   R16,Y+
0008f6 9119      	LD   R17,Y+
0008f7 91e9      	LD   R30,Y+
0008f8 bfef      	OUT  SREG,R30
0008f9 91f9      	LD   R31,Y+
0008fa 91e9      	LD   R30,Y+
0008fb 91b9      	LD   R27,Y+
0008fc 91a9      	LD   R26,Y+
0008fd 9518      	RETI
                 ;     827 
                 ;     828 void send_echo_msg()
                 ;     829 {
                 _send_echo_msg:
                 ;     830     putchar(WAKEUP_CHAR);
0008fe eaea      	LDI  R30,LOW(170)
0008ff 93ea      	ST   -Y,R30
000900 940e 09d8 	CALL _putchar
                 ;     831     putchar(WAKEUP_CHAR);
000902 eaea      	LDI  R30,LOW(170)
000903 93ea      	ST   -Y,R30
000904 940e 09d8 	CALL _putchar
                 ;     832     putchar(WAKEUP_CHAR);                
000906 eaea      	LDI  R30,LOW(170)
000907 93ea      	ST   -Y,R30
000908 940e 09d8 	CALL _putchar
                 ;     833     putchar(rx_message);
00090a 928a      	ST   -Y,R8
00090b 940e 09d8 	CALL _putchar
                 ;     834     putchar(rx_wparam>>8);
00090d 2dea      	MOV  R30,R10
00090e 70f0      	ANDI R31,HIGH(0x0)
00090f 93ea      	ST   -Y,R30
000910 940e 09d8 	CALL _putchar
                 ;     835     putchar(rx_wparam&0x00FF);
000912 2de9
000913 2dfa      	__GETW1R 9,10
000914 70f0      	ANDI R31,HIGH(0xFF)
000915 93ea      	ST   -Y,R30
000916 940e 09d8 	CALL _putchar
                 ;     836     putchar(rx_lparam>>8);        
000918 2dec      	MOV  R30,R12
000919 70f0      	ANDI R31,HIGH(0x0)
00091a 93ea      	ST   -Y,R30
00091b 940e 09d8 	CALL _putchar
                 ;     837     putchar(rx_lparam&0x00FF);
00091d 2deb
00091e 2dfc      	__GETW1R 11,12
00091f 70f0      	ANDI R31,HIGH(0xFF)
000920 93ea      	ST   -Y,R30
000921 940e 09d8 	CALL _putchar
                 ;     838 }  
000923 9508      	RET
                 ;     839 
                 ;     840 void reset_serial()
                 ;     841 {
                 _reset_serial:
                 ;     842     rx_wr_index=0;
000924 24dd      	CLR  R13
                 ;     843     rx_counter =0;
000925 24ee      	CLR  R14
                 ;     844     rx_message = UNKNOWN_MSG;
000926 2488      	CLR  R8
                 ;     845 }
000927 9508      	RET
                 ;     846 
                 ;     847 ///////////////////////////////////////////////////////////////
                 ;     848 // END serial interrupt handle
                 ;     849 /////////////////////////////////////////////////////////////// 
                 ;     850 /*****************************************************
                 ;     851 This program was produced by the
                 ;     852 CodeWizardAVR V1.24.4a Standard
                 ;     853 Automatic Program Generator
                 ;     854 © Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
                 ;     855 http://www.hpinfotech.com
                 ;     856 e-mail:office@hpinfotech.com
                 ;     857 
                 ;     858 Project : 
                 ;     859 Version : 
                 ;     860 Date    : 19/5/2005
                 ;     861 Author  : 3iGROUP                
                 ;     862 Company : http://www.3ihut.net   
                 ;     863 Comments: 
                 ;     864 
                 ;     865 
                 ;     866 Chip type           : ATmega8515
                 ;     867 Program type        : Application
                 ;     868 Clock frequency     : 8.000000 MHz
                 ;     869 Memory model        : Small
                 ;     870 External SRAM size  : 32768
                 ;     871 Ext. SRAM wait state: 0
                 ;     872 Data Stack size     : 128
                 ;     873 *****************************************************/
                 ;     874 
                 ;     875 #include "define.h"                                           
                 ;     876 
                 ;     877 #define     ACK                 1
                 ;     878 #define     NO_ACK              0
                 ;     879 
                 ;     880 // I2C Bus functions
                 ;     881 #asm
                 ;     882    .equ __i2c_port=0x12 ;PORTD
                    .equ __i2c_port=0x12 ;PORTD
                 ;     883    .equ __sda_bit=3
                    .equ __sda_bit=3
                 ;     884    .equ __scl_bit=2
                    .equ __scl_bit=2
                 ;     885 #endasm                   
                 ;     886 
                 ;     887 #ifdef __EEPROM_WRITE_BYTE
                 ;     888 BYTE eeprom_read(BYTE deviceID, PBYTE address) 
                 ;     889 {
                 _eeprom_read:
                 ;     890     BYTE data;
                 ;     891     i2c_start();
000928 930a      	ST   -Y,R16
                 ;	deviceID -> Y+3
                 ;	*address -> Y+1
                 ;	data -> R16
000929 940e 0c6c 	CALL _i2c_start
                 ;     892     i2c_write(deviceID);        // issued R/W = 0
00092b 81eb      	LDD  R30,Y+3
00092c 93ea      	ST   -Y,R30
00092d 940e 0ca0 	CALL _i2c_write
                 ;     893     i2c_write((WORD)address>>8);      // high word address
00092f 81ea      	LDD  R30,Y+2
000930 70f0      	ANDI R31,HIGH(0x0)
000931 93ea      	ST   -Y,R30
000932 940e 0ca0 	CALL _i2c_write
                 ;     894     i2c_write((WORD)address&0x0FF);   // low word address
000934 81e9      	LDD  R30,Y+1
000935 81fa      	LDD  R31,Y+1+1
000936 70f0      	ANDI R31,HIGH(0xFF)
000937 93ea      	ST   -Y,R30
000938 940e 0ca0 	CALL _i2c_write
                 ;     895     
                 ;     896     i2c_start();
00093a 940e 0c6c 	CALL _i2c_start
                 ;     897     i2c_write(deviceID | 1);    // issued R/W = 1
00093c 81eb      	LDD  R30,Y+3
00093d 60e1      	ORI  R30,1
00093e 93ea      	ST   -Y,R30
00093f 940e 0ca0 	CALL _i2c_write
                 ;     898     data=i2c_read(NO_ACK);      // read at current
000941 e0e0      	LDI  R30,LOW(0)
000942 93ea      	ST   -Y,R30
000943 940e 0c85 	CALL _i2c_read
000945 2f0e      	MOV  R16,R30
                 ;     899     i2c_stop();
000946 940e 0c7b 	CALL _i2c_stop
                 ;     900     return data;
000948 2fe0      	MOV  R30,R16
000949 8108      	LDD  R16,Y+0
00094a c01d      	RJMP _0x105
                 ;     901 }
                 ;     902 
                 ;     903 void eeprom_write(BYTE deviceID, PBYTE address, BYTE data) 
                 ;     904 {
                 _eeprom_write:
                 ;     905     i2c_start();
                 ;	deviceID -> Y+3
                 ;	*address -> Y+1
                 ;	data -> Y+0
00094b 940e 0c6c 	CALL _i2c_start
                 ;     906     i2c_write(deviceID);        // device address
00094d 81eb      	LDD  R30,Y+3
00094e 93ea      	ST   -Y,R30
00094f 940e 0ca0 	CALL _i2c_write
                 ;     907     i2c_write((WORD)address>>8);      // high word address
000951 81ea      	LDD  R30,Y+2
000952 70f0      	ANDI R31,HIGH(0x0)
000953 93ea      	ST   -Y,R30
000954 940e 0ca0 	CALL _i2c_write
                 ;     908     i2c_write((WORD)address&0x0FF);   // low word address
000956 81e9      	LDD  R30,Y+1
000957 81fa      	LDD  R31,Y+1+1
000958 70f0      	ANDI R31,HIGH(0xFF)
000959 93ea      	ST   -Y,R30
00095a 940e 0ca0 	CALL _i2c_write
                 ;     909     i2c_write(data);
00095c 81e8      	LD   R30,Y
00095d 93ea      	ST   -Y,R30
00095e 940e 0ca0 	CALL _i2c_write
                 ;     910     i2c_stop();
000960 940e 0c7b 	CALL _i2c_stop
                 ;     911 
                 ;     912     /* 10ms delay to complete the write operation */
                 ;     913     delay_ms(10);               // 2 ticks : 5x2 = 10 ms        
000962 e0ea      	LDI  R30,LOW(10)
000963 e0f0      	LDI  R31,HIGH(10)
000964 93fa      	ST   -Y,R31
000965 93ea      	ST   -Y,R30
000966 940e 0cce 	CALL _delay_ms
                 ;     914 }                                 
                 _0x105:
000968 9624      	ADIW R28,4
000969 9508      	RET
                 ;     915 
                 ;     916 WORD eeprom_read_w(BYTE deviceID, PBYTE address)
                 ;     917 {
                 _eeprom_read_w:
                 ;     918     WORD result = 0;
                 ;     919     result = eeprom_read(deviceID,address);
00096a 931a      	ST   -Y,R17
00096b 930a      	ST   -Y,R16
                 ;	deviceID -> Y+4
                 ;	*address -> Y+2
                 ;	result -> R16,R17
00096c e000      	LDI  R16,0
00096d e010      	LDI  R17,0
00096e 81ec      	LDD  R30,Y+4
00096f 93ea      	ST   -Y,R30
000970 81eb      	LDD  R30,Y+3
000971 81fc      	LDD  R31,Y+3+1
000972 93fa      	ST   -Y,R31
000973 93ea      	ST   -Y,R30
000974 940e 0928 	CALL _eeprom_read
000976 2f0e      	MOV  R16,R30
000977 2711      	CLR  R17
                 ;     920     result = (result<<8) | eeprom_read(deviceID,address+1);
000978 2ff0      	MOV  R31,R16
000979 e0e0      	LDI  R30,LOW(0)
00097a 93ff      	PUSH R31
00097b 93ef      	PUSH R30
00097c 81ec      	LDD  R30,Y+4
00097d 93ea      	ST   -Y,R30
00097e 81eb      	LDD  R30,Y+3
00097f 81fc      	LDD  R31,Y+3+1
000980 9631      	ADIW R30,1
000981 93fa      	ST   -Y,R31
000982 93ea      	ST   -Y,R30
000983 940e 0928 	CALL _eeprom_read
000985 91af      	POP  R26
000986 91bf      	POP  R27
000987 e0f0      	LDI  R31,0
000988 2bea      	OR   R30,R26
000989 2bfb      	OR   R31,R27
00098a 018f      	MOVW R16,R30
                 ;     921     return result;
00098b 01f8      	MOVW R30,R16
00098c 8119      	LDD  R17,Y+1
00098d 8108      	LDD  R16,Y+0
00098e 9625      	ADIW R28,5
00098f 9508      	RET
                 ;     922 }
                 ;     923 void eeprom_write_w(BYTE deviceID, PBYTE address, WORD data)
                 ;     924 {
                 ;     925     eeprom_write(deviceID,address,data>>8);
                 ;	deviceID -> Y+4
                 ;	*address -> Y+2
                 ;	data -> Y+0
                 ;     926     eeprom_write(deviceID,address+1,data&0x0FF);    
                 ;     927 }
                 ;     928 
                 ;     929 #endif // __EEPROM_WRITE_BYTE
                 ;     930 void eeprom_read_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size)
                 ;     931 {
                 _eeprom_read_page:
                 ;     932     BYTE i = 0;
                 ;     933     i2c_start();
000990 930a      	ST   -Y,R16
                 ;	deviceID -> Y+6
                 ;	*address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
000991 e000      	LDI  R16,0
000992 940e 0c6c 	CALL _i2c_start
                 ;     934     i2c_write(deviceID);            // issued R/W = 0
000994 81ee      	LDD  R30,Y+6
000995 93ea      	ST   -Y,R30
000996 940e 0ca0 	CALL _i2c_write
                 ;     935     i2c_write((WORD)address>>8);          // high word address
000998 81ed      	LDD  R30,Y+5
000999 70f0      	ANDI R31,HIGH(0x0)
00099a 93ea      	ST   -Y,R30
00099b 940e 0ca0 	CALL _i2c_write
                 ;     936     i2c_write((WORD)address&0xFF);        // low word address
00099d 81ec      	LDD  R30,Y+4
00099e 81fd      	LDD  R31,Y+4+1
00099f 70f0      	ANDI R31,HIGH(0xFF)
0009a0 93ea      	ST   -Y,R30
0009a1 940e 0ca0 	CALL _i2c_write
                 ;     937     
                 ;     938     i2c_start();
0009a3 940e 0c6c 	CALL _i2c_start
                 ;     939     i2c_write(deviceID | 1);        // issued R/W = 1
0009a5 81ee      	LDD  R30,Y+6
0009a6 60e1      	ORI  R30,1
0009a7 93ea      	ST   -Y,R30
0009a8 940e 0ca0 	CALL _i2c_write
                 ;     940                                     
                 ;     941     while ( i < page_size-1 )
                 _0x89:
0009aa 81e9      	LDD  R30,Y+1
0009ab 50e1      	SUBI R30,LOW(1)
0009ac 170e      	CP   R16,R30
0009ad f488      	BRSH _0x8B
                 ;     942     {
                 ;     943         buffer[i++] = i2c_read(ACK);   // read at current
0009ae 2fe0      	MOV  R30,R16
0009af 5f0f      	SUBI R16,-1
0009b0 81aa      	LDD  R26,Y+2
0009b1 81bb      	LDD  R27,Y+2+1
0009b2 e0f0      	LDI  R31,0
0009b3 0fea      	ADD  R30,R26
0009b4 1ffb      	ADC  R31,R27
0009b5 93ff      	PUSH R31
0009b6 93ef      	PUSH R30
0009b7 e0e1      	LDI  R30,LOW(1)
0009b8 93ea      	ST   -Y,R30
0009b9 940e 0c85 	CALL _i2c_read
0009bb 91af      	POP  R26
0009bc 91bf      	POP  R27
0009bd 93ec      	ST   X,R30
                 ;     944     }
0009be cfeb      	RJMP _0x89
                 _0x8B:
                 ;     945     buffer[page_size-1] = i2c_read(NO_ACK); // read last byte
0009bf 81e9      	LDD  R30,Y+1
0009c0 50e1      	SUBI R30,LOW(1)
0009c1 81aa      	LDD  R26,Y+2
0009c2 81bb      	LDD  R27,Y+2+1
0009c3 e0f0      	LDI  R31,0
0009c4 0fea      	ADD  R30,R26
0009c5 1ffb      	ADC  R31,R27
0009c6 93ff      	PUSH R31
0009c7 93ef      	PUSH R30
0009c8 e0e0      	LDI  R30,LOW(0)
0009c9 93ea      	ST   -Y,R30
0009ca 940e 0c85 	CALL _i2c_read
0009cc 91af      	POP  R26
0009cd 91bf      	POP  R27
0009ce 93ec      	ST   X,R30
                 ;     946          
                 ;     947     i2c_stop();
0009cf 940e 0c7b 	CALL _i2c_stop
                 ;     948 }
0009d1 8108      	LDD  R16,Y+0
0009d2 9627      	ADIW R28,7
0009d3 9508      	RET
                 ;     949 
                 ;     950 void eeprom_write_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size)
                 ;     951 {
                 ;     952     BYTE i = 0;
                 ;     953     i2c_start();
                 ;	deviceID -> Y+6
                 ;	*address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
                 ;     954     i2c_write(deviceID);            // issued R/W = 0
                 ;     955     i2c_write((WORD)address>>8);          // high word address
                 ;     956     i2c_write((WORD)address&0xFF);        // low word address
                 ;     957                                         
                 ;     958     while ( i < page_size )
                 ;     959     {
                 ;     960         i2c_write(buffer[i++]);
                 ;     961         #asm("nop");#asm("nop");
                 ;     962     }          
                 ;     963     i2c_stop(); 
                 ;     964     delay_ms(10);
                 ;     965 }
                 ;     966                                               
                 
                 _getchar:
0009d4 9b5f           sbis usr,rxc
0009d5 cffe           rjmp _getchar
0009d6 b1ec           in   r30,udr
0009d7 9508      	RET
                 _putchar:
0009d8 9b5d           sbis usr,udre
0009d9 cffe           rjmp _putchar
0009da 81e8           ld   r30,y
0009db b9ec           out  udr,r30
0009dc 9621      	ADIW R28,1
0009dd 9508      	RET
                 __put_G4:
0009de 81a8      	LD   R26,Y
0009df 81b9      	LDD  R27,Y+1
0009e0 940e 0db2 	CALL __GETW1P
0009e2 9730      	SBIW R30,0
0009e3 f049      	BREQ _0x8F
0009e4 91ed      	LD   R30,X+
0009e5 91fd      	LD   R31,X+
0009e6 9631      	ADIW R30,1
0009e7 93fe      	ST   -X,R31
0009e8 93ee      	ST   -X,R30
0009e9 9731      	SBIW R30,1
0009ea 81aa      	LDD  R26,Y+2
0009eb 83a0      	STD  Z+0,R26
0009ec c004      	RJMP _0x90
                 _0x8F:
0009ed 81ea      	LDD  R30,Y+2
0009ee 93ea      	ST   -Y,R30
0009ef 940e 09d8 	CALL _putchar
                 _0x90:
0009f1 c273      	RJMP _0x102
                 __print_G4:
0009f2 9726      	SBIW R28,6
0009f3 940e 0dbf 	CALL __SAVELOCR6
0009f5 e000      	LDI  R16,0
                 _0x91:
0009f6 89e8      	LDD  R30,Y+16
0009f7 89f9      	LDD  R31,Y+16+1
0009f8 9631      	ADIW R30,1
0009f9 8be8      	STD  Y+16,R30
0009fa 8bf9      	STD  Y+16+1,R31
0009fb 9731      	SBIW R30,1
0009fc 91e4      	LPM  R30,Z
0009fd 2f3e      	MOV  R19,R30
0009fe 30e0      	CPI  R30,0
0009ff f411      	BRNE PC+3
000a00 940c 0b56 	JMP _0x93
000a02 2fe0      	MOV  R30,R16
000a03 30e0      	CPI  R30,0
000a04 f459      	BRNE _0x97
000a05 3235      	CPI  R19,37
000a06 f411      	BRNE _0x98
000a07 e001      	LDI  R16,LOW(1)
000a08 c006      	RJMP _0x99
                 _0x98:
000a09 933a      	ST   -Y,R19
000a0a 85ed      	LDD  R30,Y+13
000a0b 85fe      	LDD  R31,Y+13+1
000a0c 93fa      	ST   -Y,R31
000a0d 93ea      	ST   -Y,R30
000a0e dfcf      	RCALL __put_G4
                 _0x99:
000a0f c145      	RJMP _0x96
                 _0x97:
000a10 30e1      	CPI  R30,LOW(0x1)
000a11 f4c9      	BRNE _0x9A
000a12 3235      	CPI  R19,37
000a13 f439      	BRNE _0x9B
000a14 933a      	ST   -Y,R19
000a15 85ed      	LDD  R30,Y+13
000a16 85fe      	LDD  R31,Y+13+1
000a17 93fa      	ST   -Y,R31
000a18 93ea      	ST   -Y,R30
000a19 dfc4      	RCALL __put_G4
000a1a c139      	RJMP _0x111
                 _0x9B:
000a1b e002      	LDI  R16,LOW(2)
000a1c e050      	LDI  R21,LOW(0)
000a1d e010      	LDI  R17,LOW(0)
000a1e 323d      	CPI  R19,45
000a1f f411      	BRNE _0x9C
000a20 e011      	LDI  R17,LOW(1)
000a21 c133      	RJMP _0x96
                 _0x9C:
000a22 323b      	CPI  R19,43
000a23 f411      	BRNE _0x9D
000a24 e25b      	LDI  R21,LOW(43)
000a25 c12f      	RJMP _0x96
                 _0x9D:
000a26 3230      	CPI  R19,32
000a27 f411      	BRNE _0x9E
000a28 e250      	LDI  R21,LOW(32)
000a29 c12b      	RJMP _0x96
                 _0x9E:
000a2a c002      	RJMP _0x9F
                 _0x9A:
000a2b 30e2      	CPI  R30,LOW(0x2)
000a2c f439      	BRNE _0xA0
                 _0x9F:
000a2d e040      	LDI  R20,LOW(0)
000a2e e003      	LDI  R16,LOW(3)
000a2f 3330      	CPI  R19,48
000a30 f411      	BRNE _0xA1
000a31 6810      	ORI  R17,LOW(128)
000a32 c122      	RJMP _0x96
                 _0xA1:
000a33 c004      	RJMP _0xA2
                 _0xA0:
000a34 30e3      	CPI  R30,LOW(0x3)
000a35 f011      	BREQ PC+3
000a36 940c 0b55 	JMP _0x96
                 _0xA2:
000a38 3330      	CPI  R19,48
000a39 f010      	BRLO _0xA5
000a3a 333a      	CPI  R19,58
000a3b f008      	BRLO _0xA6
                 _0xA5:
000a3c c009      	RJMP _0xA4
                 _0xA6:
000a3d 2fa4      	MOV  R26,R20
000a3e e0ea      	LDI  R30,LOW(10)
000a3f 9fea      	MUL  R30,R26
000a40 01f0      	MOVW R30,R0
000a41 2f4e      	MOV  R20,R30
000a42 2fe3      	MOV  R30,R19
000a43 53e0      	SUBI R30,LOW(48)
000a44 0f4e      	ADD  R20,R30
000a45 c10f      	RJMP _0x96
                 _0xA4:
000a46 2fe3      	MOV  R30,R19
000a47 36e3      	CPI  R30,LOW(0x63)
000a48 f471      	BRNE _0xAA
000a49 85ae      	LDD  R26,Y+14
000a4a 85bf      	LDD  R27,Y+14+1
000a4b 9714      	SBIW R26,4
000a4c 87ae      	STD  Y+14,R26
000a4d 87bf      	STD  Y+14+1,R27
000a4e 9614      	ADIW R26,4
000a4f 91ec      	LD   R30,X
000a50 93ea      	ST   -Y,R30
000a51 85ed      	LDD  R30,Y+13
000a52 85fe      	LDD  R31,Y+13+1
000a53 93fa      	ST   -Y,R31
000a54 93ea      	ST   -Y,R30
000a55 df88      	RCALL __put_G4
000a56 c0fd      	RJMP _0xAB
                 _0xAA:
000a57 37e3      	CPI  R30,LOW(0x73)
000a58 f481      	BRNE _0xAD
000a59 85ae      	LDD  R26,Y+14
000a5a 85bf      	LDD  R27,Y+14+1
000a5b 9714      	SBIW R26,4
000a5c 87ae      	STD  Y+14,R26
000a5d 87bf      	STD  Y+14+1,R27
000a5e 9614      	ADIW R26,4
000a5f 940e 0db2 	CALL __GETW1P
000a61 83ee      	STD  Y+6,R30
000a62 83ff      	STD  Y+6+1,R31
000a63 93fa      	ST   -Y,R31
000a64 93ea      	ST   -Y,R30
000a65 940e 0cb9 	CALL _strlen
000a67 2f0e      	MOV  R16,R30
000a68 c012      	RJMP _0xAE
                 _0xAD:
000a69 37e0      	CPI  R30,LOW(0x70)
000a6a f4a1      	BRNE _0xB0
000a6b 85ae      	LDD  R26,Y+14
000a6c 85bf      	LDD  R27,Y+14+1
000a6d 9714      	SBIW R26,4
000a6e 87ae      	STD  Y+14,R26
000a6f 87bf      	STD  Y+14+1,R27
000a70 9614      	ADIW R26,4
000a71 940e 0db2 	CALL __GETW1P
000a73 83ee      	STD  Y+6,R30
000a74 83ff      	STD  Y+6+1,R31
000a75 93fa      	ST   -Y,R31
000a76 93ea      	ST   -Y,R30
000a77 940e 0cc3 	CALL _strlenf
000a79 2f0e      	MOV  R16,R30
000a7a 6018      	ORI  R17,LOW(8)
                 _0xAE:
000a7b 6012      	ORI  R17,LOW(2)
000a7c 771f      	ANDI R17,LOW(127)
000a7d e020      	LDI  R18,LOW(0)
000a7e c040      	RJMP _0xB1
                 _0xB0:
000a7f 36e4      	CPI  R30,LOW(0x64)
000a80 f011      	BREQ _0xB4
000a81 36e9      	CPI  R30,LOW(0x69)
000a82 f411      	BRNE _0xB5
                 _0xB4:
000a83 6014      	ORI  R17,LOW(4)
000a84 c002      	RJMP _0xB6
                 _0xB5:
000a85 37e5      	CPI  R30,LOW(0x75)
000a86 f431      	BRNE _0xB7
                 _0xB6:
000a87 ebe2      	LDI  R30,LOW(_tbl10_G4*2)
000a88 e0f0      	LDI  R31,HIGH(_tbl10_G4*2)
000a89 83ee      	STD  Y+6,R30
000a8a 83ff      	STD  Y+6+1,R31
000a8b e005      	LDI  R16,LOW(5)
000a8c c00d      	RJMP _0xB8
                 _0xB7:
000a8d 35e8      	CPI  R30,LOW(0x58)
000a8e f411      	BRNE _0xBA
000a8f 6018      	ORI  R17,LOW(8)
000a90 c004      	RJMP _0xBB
                 _0xBA:
000a91 37e8      	CPI  R30,LOW(0x78)
000a92 f011      	BREQ PC+3
000a93 940c 0b54 	JMP _0xEC
                 _0xBB:
000a95 ebec      	LDI  R30,LOW(_tbl16_G4*2)
000a96 e0f0      	LDI  R31,HIGH(_tbl16_G4*2)
000a97 83ee      	STD  Y+6,R30
000a98 83ff      	STD  Y+6+1,R31
000a99 e004      	LDI  R16,LOW(4)
                 _0xB8:
000a9a ff12      	SBRS R17,2
000a9b c019      	RJMP _0xBD
000a9c 85ae      	LDD  R26,Y+14
000a9d 85bf      	LDD  R27,Y+14+1
000a9e 9714      	SBIW R26,4
000a9f 87ae      	STD  Y+14,R26
000aa0 87bf      	STD  Y+14+1,R27
000aa1 9614      	ADIW R26,4
000aa2 940e 0db2 	CALL __GETW1P
000aa4 87ea      	STD  Y+10,R30
000aa5 87fb      	STD  Y+10+1,R31
000aa6 85aa      	LDD  R26,Y+10
000aa7 85bb      	LDD  R27,Y+10+1
000aa8 9710      	SBIW R26,0
000aa9 f42c      	BRGE _0xBE
000aaa 940e 0d5c 	CALL __ANEGW1
000aac 87ea      	STD  Y+10,R30
000aad 87fb      	STD  Y+10+1,R31
000aae e25d      	LDI  R21,LOW(45)
                 _0xBE:
000aaf 3050      	CPI  R21,0
000ab0 f011      	BREQ _0xBF
000ab1 5f0f      	SUBI R16,-LOW(1)
000ab2 c001      	RJMP _0xC0
                 _0xBF:
000ab3 7f1b      	ANDI R17,LOW(251)
                 _0xC0:
000ab4 c00a      	RJMP _0xC1
                 _0xBD:
000ab5 85ae      	LDD  R26,Y+14
000ab6 85bf      	LDD  R27,Y+14+1
000ab7 9714      	SBIW R26,4
000ab8 87ae      	STD  Y+14,R26
000ab9 87bf      	STD  Y+14+1,R27
000aba 9614      	ADIW R26,4
000abb 940e 0db2 	CALL __GETW1P
000abd 87ea      	STD  Y+10,R30
000abe 87fb      	STD  Y+10+1,R31
                 _0xC1:
                 _0xB1:
000abf fd10      	SBRC R17,0
000ac0 c015      	RJMP _0xC2
                 _0xC3:
000ac1 1704      	CP   R16,R20
000ac2 f498      	BRSH _0xC5
000ac3 ff17      	SBRS R17,7
000ac4 c008      	RJMP _0xC6
000ac5 ff12      	SBRS R17,2
000ac6 c004      	RJMP _0xC7
000ac7 7f1b      	ANDI R17,LOW(251)
000ac8 2f35      	MOV  R19,R21
000ac9 5001      	SUBI R16,LOW(1)
000aca c001      	RJMP _0xC8
                 _0xC7:
000acb e330      	LDI  R19,LOW(48)
                 _0xC8:
000acc c001      	RJMP _0xC9
                 _0xC6:
000acd e230      	LDI  R19,LOW(32)
                 _0xC9:
000ace 933a      	ST   -Y,R19
000acf 85ed      	LDD  R30,Y+13
000ad0 85fe      	LDD  R31,Y+13+1
000ad1 93fa      	ST   -Y,R31
000ad2 93ea      	ST   -Y,R30
000ad3 df0a      	RCALL __put_G4
000ad4 5041      	SUBI R20,LOW(1)
000ad5 cfeb      	RJMP _0xC3
                 _0xC5:
                 _0xC2:
000ad6 2f20      	MOV  R18,R16
000ad7 ff11      	SBRS R17,1
000ad8 c01d      	RJMP _0xCA
                 _0xCB:
000ad9 3020      	CPI  R18,0
000ada f0d1      	BREQ _0xCD
000adb ff13      	SBRS R17,3
000adc c008      	RJMP _0xCE
000add 81ee      	LDD  R30,Y+6
000ade 81ff      	LDD  R31,Y+6+1
000adf 9631      	ADIW R30,1
000ae0 83ee      	STD  Y+6,R30
000ae1 83ff      	STD  Y+6+1,R31
000ae2 9731      	SBIW R30,1
000ae3 91e4      	LPM  R30,Z
000ae4 c005      	RJMP _0x112
                 _0xCE:
000ae5 81ae      	LDD  R26,Y+6
000ae6 81bf      	LDD  R27,Y+6+1
000ae7 91ed      	LD   R30,X+
000ae8 83ae      	STD  Y+6,R26
000ae9 83bf      	STD  Y+6+1,R27
                 _0x112:
000aea 93ea      	ST   -Y,R30
000aeb 85ed      	LDD  R30,Y+13
000aec 85fe      	LDD  R31,Y+13+1
000aed 93fa      	ST   -Y,R31
000aee 93ea      	ST   -Y,R30
000aef deee      	RCALL __put_G4
000af0 3040      	CPI  R20,0
000af1 f009      	BREQ _0xD0
000af2 5041      	SUBI R20,LOW(1)
                 _0xD0:
000af3 5021      	SUBI R18,LOW(1)
000af4 cfe4      	RJMP _0xCB
                 _0xCD:
000af5 c051      	RJMP _0xD1
                 _0xCA:
                 _0xD3:
000af6 e330      	LDI  R19,LOW(48)
000af7 81ee      	LDD  R30,Y+6
000af8 81ff      	LDD  R31,Y+6+1
000af9 9632      	ADIW R30,2
000afa 83ee      	STD  Y+6,R30
000afb 83ff      	STD  Y+6+1,R31
000afc 9732      	SBIW R30,2
000afd 940e 0db6 	CALL __GETW1PF
000aff 87e8      	STD  Y+8,R30
000b00 87f9      	STD  Y+8+1,R31
                 _0xD5:
000b01 85e8      	LDD  R30,Y+8
000b02 85f9      	LDD  R31,Y+8+1
000b03 85aa      	LDD  R26,Y+10
000b04 85bb      	LDD  R27,Y+10+1
000b05 17ae      	CP   R26,R30
000b06 07bf      	CPC  R27,R31
000b07 f050      	BRLO _0xD7
000b08 5f3f      	SUBI R19,-LOW(1)
000b09 85a8      	LDD  R26,Y+8
000b0a 85b9      	LDD  R27,Y+8+1
000b0b 85ea      	LDD  R30,Y+10
000b0c 85fb      	LDD  R31,Y+10+1
000b0d 1bea      	SUB  R30,R26
000b0e 0bfb      	SBC  R31,R27
000b0f 87ea      	STD  Y+10,R30
000b10 87fb      	STD  Y+10+1,R31
000b11 cfef      	RJMP _0xD5
                 _0xD7:
000b12 333a      	CPI  R19,58
000b13 f028      	BRLO _0xD8
000b14 ff13      	SBRS R17,3
000b15 c002      	RJMP _0xD9
000b16 5f39      	SUBI R19,-LOW(7)
000b17 c001      	RJMP _0xDA
                 _0xD9:
000b18 5d39      	SUBI R19,-LOW(39)
                 _0xDA:
                 _0xD8:
000b19 fd14      	SBRC R17,4
000b1a c01d      	RJMP _0xDC
000b1b 3331      	CPI  R19,49
000b1c f420      	BRSH _0xDE
000b1d 85a8      	LDD  R26,Y+8
000b1e 85b9      	LDD  R27,Y+8+1
000b1f 9711      	SBIW R26,1
000b20 f409      	BRNE _0xDD
                 _0xDE:
000b21 c009      	RJMP _0x113
                 _0xDD:
000b22 1742      	CP   R20,R18
000b23 f010      	BRLO _0xE2
000b24 ff10      	SBRS R17,0
000b25 c001      	RJMP _0xE3
                 _0xE2:
000b26 c01a      	RJMP _0xE1
                 _0xE3:
000b27 e230      	LDI  R19,LOW(32)
000b28 ff17      	SBRS R17,7
000b29 c00e      	RJMP _0xE4
000b2a e330      	LDI  R19,LOW(48)
                 _0x113:
000b2b 6110      	ORI  R17,LOW(16)
000b2c ff12      	SBRS R17,2
000b2d c00a      	RJMP _0xE5
000b2e 7f1b      	ANDI R17,LOW(251)
000b2f 935a      	ST   -Y,R21
000b30 85ed      	LDD  R30,Y+13
000b31 85fe      	LDD  R31,Y+13+1
000b32 93fa      	ST   -Y,R31
000b33 93ea      	ST   -Y,R30
000b34 dea9      	RCALL __put_G4
000b35 3040      	CPI  R20,0
000b36 f009      	BREQ _0xE6
000b37 5041      	SUBI R20,LOW(1)
                 _0xE6:
                 _0xE5:
                 _0xE4:
                 _0xDC:
000b38 933a      	ST   -Y,R19
000b39 85ed      	LDD  R30,Y+13
000b3a 85fe      	LDD  R31,Y+13+1
000b3b 93fa      	ST   -Y,R31
000b3c 93ea      	ST   -Y,R30
000b3d dea0      	RCALL __put_G4
000b3e 3040      	CPI  R20,0
000b3f f009      	BREQ _0xE7
000b40 5041      	SUBI R20,LOW(1)
                 _0xE7:
                 _0xE1:
000b41 5021      	SUBI R18,LOW(1)
000b42 85a8      	LDD  R26,Y+8
000b43 85b9      	LDD  R27,Y+8+1
000b44 9712      	SBIW R26,2
000b45 f008      	BRLO _0xD4
000b46 cfaf      	RJMP _0xD3
                 _0xD4:
                 _0xD1:
000b47 ff10      	SBRS R17,0
000b48 c00b      	RJMP _0xE8
                 _0xE9:
000b49 3040      	CPI  R20,0
000b4a f049      	BREQ _0xEB
000b4b 5041      	SUBI R20,LOW(1)
000b4c e2e0      	LDI  R30,LOW(32)
000b4d 93ea      	ST   -Y,R30
000b4e 85ed      	LDD  R30,Y+13
000b4f 85fe      	LDD  R31,Y+13+1
000b50 93fa      	ST   -Y,R31
000b51 93ea      	ST   -Y,R30
000b52 de8b      	RCALL __put_G4
000b53 cff5      	RJMP _0xE9
                 _0xEB:
                 _0xE8:
                 _0xEC:
                 _0xAB:
                 _0x111:
000b54 e000      	LDI  R16,LOW(0)
                 _0x96:
000b55 cea0      	RJMP _0x91
                 _0x93:
000b56 940e 0dc6 	CALL __LOADLOCR6
000b58 9662      	ADIW R28,18
000b59 9508      	RET
                 _sprintf:
000b5a 92ff      	PUSH R15
000b5b 2ef8      	MOV  R15,R24
000b5c 9722      	SBIW R28,2
000b5d 931a      	ST   -Y,R17
000b5e 930a      	ST   -Y,R16
000b5f 01de      	MOVW R26,R28
000b60 940e 0d58 	CALL __ADDW2R15
000b62 018d      	MOVW R16,R26
000b63 01de      	MOVW R26,R28
000b64 9616      	ADIW R26,6
000b65 940e 0d58 	CALL __ADDW2R15
000b67 940e 0db2 	CALL __GETW1P
000b69 83ea      	STD  Y+2,R30
000b6a 83fb      	STD  Y+2+1,R31
000b6b 01de      	MOVW R26,R28
000b6c 9614      	ADIW R26,4
000b6d 940e 0d58 	CALL __ADDW2R15
000b6f 940e 0db2 	CALL __GETW1P
000b71 93fa      	ST   -Y,R31
000b72 93ea      	ST   -Y,R30
000b73 931a      	ST   -Y,R17
000b74 930a      	ST   -Y,R16
000b75 01fe      	MOVW R30,R28
000b76 9636      	ADIW R30,6
000b77 93fa      	ST   -Y,R31
000b78 93ea      	ST   -Y,R30
000b79 de78      	RCALL __print_G4
000b7a 81aa      	LDD  R26,Y+2
000b7b 81bb      	LDD  R27,Y+2+1
000b7c e0e0      	LDI  R30,LOW(0)
000b7d 93ec      	ST   X,R30
000b7e c01b      	RJMP _0x104
                 _printf:
000b7f 92ff      	PUSH R15
000b80 2ef8      	MOV  R15,R24
000b81 9722      	SBIW R28,2
000b82 931a      	ST   -Y,R17
000b83 930a      	ST   -Y,R16
000b84 01de      	MOVW R26,R28
000b85 940e 0d58 	CALL __ADDW2R15
000b87 018d      	MOVW R16,R26
000b88 e0e0      	LDI  R30,0
000b89 83ea      	STD  Y+2,R30
000b8a 83eb      	STD  Y+2+1,R30
000b8b 01de      	MOVW R26,R28
000b8c 9614      	ADIW R26,4
000b8d 940e 0d58 	CALL __ADDW2R15
000b8f 940e 0db2 	CALL __GETW1P
000b91 93fa      	ST   -Y,R31
000b92 93ea      	ST   -Y,R30
000b93 931a      	ST   -Y,R17
000b94 930a      	ST   -Y,R16
000b95 01fe      	MOVW R30,R28
000b96 9636      	ADIW R30,6
000b97 93fa      	ST   -Y,R31
000b98 93ea      	ST   -Y,R30
000b99 de58      	RCALL __print_G4
                 _0x104:
000b9a 8119      	LDD  R17,Y+1
000b9b 8108      	LDD  R16,Y+0
000b9c 9624      	ADIW R28,4
000b9d 90ff      	POP  R15
000b9e 9508      	RET
                 
                 	.DSEG
                 ___ds18b20_scratch_pad:
00042a           	.BYTE 0x9
                 
                 	.CSEG
                 _rtc_init:
000b9f 81ea      	LDD  R30,Y+2
000ba0 70e3      	ANDI R30,LOW(0x3)
000ba1 83ea      	STD  Y+2,R30
000ba2 81e9      	LDD  R30,Y+1
000ba3 30e0      	CPI  R30,0
000ba4 f019      	BREQ _0x100
000ba5 81ea      	LDD  R30,Y+2
000ba6 61e0      	ORI  R30,0x10
000ba7 83ea      	STD  Y+2,R30
                 _0x100:
000ba8 81e8      	LD   R30,Y
000ba9 30e0      	CPI  R30,0
000baa f019      	BREQ _0x101
000bab 81ea      	LDD  R30,Y+2
000bac 68e0      	ORI  R30,0x80
000bad 83ea      	STD  Y+2,R30
                 _0x101:
000bae 940e 0c6c 	CALL _i2c_start
000bb0 ede0      	LDI  R30,LOW(208)
000bb1 93ea      	ST   -Y,R30
000bb2 940e 0ca0 	CALL _i2c_write
000bb4 e0e7      	LDI  R30,LOW(7)
000bb5 93ea      	ST   -Y,R30
000bb6 940e 0ca0 	CALL _i2c_write
000bb8 81ea      	LDD  R30,Y+2
000bb9 93ea      	ST   -Y,R30
000bba 940e 0ca0 	CALL _i2c_write
000bbc 940e 0c7b 	CALL _i2c_stop
000bbe c0a6      	RJMP _0x102
                 _rtc_get_time:
000bbf 940e 0c6c 	CALL _i2c_start
000bc1 ede0      	LDI  R30,LOW(208)
000bc2 93ea      	ST   -Y,R30
000bc3 940e 0ca0 	CALL _i2c_write
000bc5 e0e0      	LDI  R30,LOW(0)
000bc6 93ea      	ST   -Y,R30
000bc7 940e 0ca0 	CALL _i2c_write
000bc9 940e 0c6c 	CALL _i2c_start
000bcb ede1      	LDI  R30,LOW(209)
000bcc 93ea      	ST   -Y,R30
000bcd 940e 0ca0 	CALL _i2c_write
000bcf e0e1      	LDI  R30,LOW(1)
000bd0 93ea      	ST   -Y,R30
000bd1 940e 0c85 	CALL _i2c_read
000bd3 93ea      	ST   -Y,R30
000bd4 940e 0cda 	CALL _bcd2bin
000bd6 81a8      	LD   R26,Y
000bd7 81b9      	LDD  R27,Y+1
000bd8 93ec      	ST   X,R30
000bd9 e0e1      	LDI  R30,LOW(1)
000bda 93ea      	ST   -Y,R30
000bdb 940e 0c85 	CALL _i2c_read
000bdd 93ea      	ST   -Y,R30
000bde 940e 0cda 	CALL _bcd2bin
000be0 81aa      	LDD  R26,Y+2
000be1 81bb      	LDD  R27,Y+2+1
000be2 93ec      	ST   X,R30
000be3 e0e0      	LDI  R30,LOW(0)
000be4 93ea      	ST   -Y,R30
000be5 940e 0c85 	CALL _i2c_read
000be7 93ea      	ST   -Y,R30
000be8 940e 0cda 	CALL _bcd2bin
000bea 81ac      	LDD  R26,Y+4
000beb 81bd      	LDD  R27,Y+4+1
000bec 93ec      	ST   X,R30
000bed 940e 0c7b 	CALL _i2c_stop
000bef c052      	RJMP _0x103
                 _rtc_set_time:
000bf0 940e 0c6c 	CALL _i2c_start
000bf2 ede0      	LDI  R30,LOW(208)
000bf3 93ea      	ST   -Y,R30
000bf4 940e 0ca0 	CALL _i2c_write
000bf6 e0e0      	LDI  R30,LOW(0)
000bf7 93ea      	ST   -Y,R30
000bf8 940e 0ca0 	CALL _i2c_write
000bfa 81e8      	LD   R30,Y
000bfb 93ea      	ST   -Y,R30
000bfc 940e 0ce6 	CALL _bin2bcd
000bfe 93ea      	ST   -Y,R30
000bff 940e 0ca0 	CALL _i2c_write
000c01 81e9      	LDD  R30,Y+1
000c02 93ea      	ST   -Y,R30
000c03 940e 0ce6 	CALL _bin2bcd
000c05 93ea      	ST   -Y,R30
000c06 940e 0ca0 	CALL _i2c_write
000c08 81ea      	LDD  R30,Y+2
000c09 93ea      	ST   -Y,R30
000c0a 940e 0ce6 	CALL _bin2bcd
000c0c 93ea      	ST   -Y,R30
000c0d 940e 0ca0 	CALL _i2c_write
000c0f 940e 0c7b 	CALL _i2c_stop
000c11 c053      	RJMP _0x102
                 _rtc_get_date:
000c12 940e 0c6c 	CALL _i2c_start
000c14 ede0      	LDI  R30,LOW(208)
000c15 93ea      	ST   -Y,R30
000c16 940e 0ca0 	CALL _i2c_write
000c18 e0e4      	LDI  R30,LOW(4)
000c19 93ea      	ST   -Y,R30
000c1a 940e 0ca0 	CALL _i2c_write
000c1c 940e 0c6c 	CALL _i2c_start
000c1e ede1      	LDI  R30,LOW(209)
000c1f 93ea      	ST   -Y,R30
000c20 940e 0ca0 	CALL _i2c_write
000c22 e0e1      	LDI  R30,LOW(1)
000c23 93ea      	ST   -Y,R30
000c24 940e 0c85 	CALL _i2c_read
000c26 93ea      	ST   -Y,R30
000c27 940e 0cda 	CALL _bcd2bin
000c29 81ac      	LDD  R26,Y+4
000c2a 81bd      	LDD  R27,Y+4+1
000c2b 93ec      	ST   X,R30
000c2c e0e1      	LDI  R30,LOW(1)
000c2d 93ea      	ST   -Y,R30
000c2e 940e 0c85 	CALL _i2c_read
000c30 93ea      	ST   -Y,R30
000c31 940e 0cda 	CALL _bcd2bin
000c33 81aa      	LDD  R26,Y+2
000c34 81bb      	LDD  R27,Y+2+1
000c35 93ec      	ST   X,R30
000c36 e0e0      	LDI  R30,LOW(0)
000c37 93ea      	ST   -Y,R30
000c38 940e 0c85 	CALL _i2c_read
000c3a 93ea      	ST   -Y,R30
000c3b 940e 0cda 	CALL _bcd2bin
000c3d 81a8      	LD   R26,Y
000c3e 81b9      	LDD  R27,Y+1
000c3f 93ec      	ST   X,R30
000c40 940e 0c7b 	CALL _i2c_stop
                 _0x103:
000c42 9626      	ADIW R28,6
000c43 9508      	RET
                 _rtc_set_date:
000c44 940e 0c6c 	CALL _i2c_start
000c46 ede0      	LDI  R30,LOW(208)
000c47 93ea      	ST   -Y,R30
000c48 940e 0ca0 	CALL _i2c_write
000c4a e0e4      	LDI  R30,LOW(4)
000c4b 93ea      	ST   -Y,R30
000c4c 940e 0ca0 	CALL _i2c_write
000c4e 81ea      	LDD  R30,Y+2
000c4f 93ea      	ST   -Y,R30
000c50 940e 0ce6 	CALL _bin2bcd
000c52 93ea      	ST   -Y,R30
000c53 940e 0ca0 	CALL _i2c_write
000c55 81e9      	LDD  R30,Y+1
000c56 93ea      	ST   -Y,R30
000c57 940e 0ce6 	CALL _bin2bcd
000c59 93ea      	ST   -Y,R30
000c5a 940e 0ca0 	CALL _i2c_write
000c5c 81e8      	LD   R30,Y
000c5d 93ea      	ST   -Y,R30
000c5e 940e 0ce6 	CALL _bin2bcd
000c60 93ea      	ST   -Y,R30
000c61 940e 0ca0 	CALL _i2c_write
000c63 940e 0c7b 	CALL _i2c_stop
                 _0x102:
000c65 9623      	ADIW R28,3
000c66 9508      	RET
                 
                 	.equ __i2c_dir=__i2c_port-1
                 	.equ __i2c_pin=__i2c_port-2
                 _i2c_init:
000c67 9892      	cbi  __i2c_port,__scl_bit
000c68 9893      	cbi  __i2c_port,__sda_bit
000c69 9a8a      	sbi  __i2c_dir,__scl_bit
000c6a 988b      	cbi  __i2c_dir,__sda_bit
000c6b c015      	rjmp __i2c_delay2
                 _i2c_start:
000c6c 988b      	cbi  __i2c_dir,__sda_bit
000c6d 988a      	cbi  __i2c_dir,__scl_bit
000c6e 27ee      	clr  r30
000c6f 0000      	nop
000c70 9b83      	sbis __i2c_pin,__sda_bit
000c71 9508      	ret
000c72 9b82      	sbis __i2c_pin,__scl_bit
000c73 9508      	ret
000c74 d004      	rcall __i2c_delay1
000c75 9a8b      	sbi  __i2c_dir,__sda_bit
000c76 d002      	rcall __i2c_delay1
000c77 9a8a      	sbi  __i2c_dir,__scl_bit
000c78 e0e1      	ldi  r30,1
                 __i2c_delay1:
000c79 e16b      	ldi  r22,27
000c7a c007      	rjmp __i2c_delay2l
                 _i2c_stop:
000c7b 9a8b      	sbi  __i2c_dir,__sda_bit
000c7c 9a8a      	sbi  __i2c_dir,__scl_bit
000c7d d003      	rcall __i2c_delay2
000c7e 988a      	cbi  __i2c_dir,__scl_bit
000c7f dff9      	rcall __i2c_delay1
000c80 988b      	cbi  __i2c_dir,__sda_bit
                 __i2c_delay2:
000c81 e365      	ldi  r22,53
                 __i2c_delay2l:
000c82 956a      	dec  r22
000c83 f7f1      	brne __i2c_delay2l
000c84 9508      	ret
                 _i2c_read:
000c85 e078      	ldi  r23,8
                 __i2c_read0:
000c86 988a      	cbi  __i2c_dir,__scl_bit
000c87 dff1      	rcall __i2c_delay1
                 __i2c_read3:
000c88 9b82      	sbis __i2c_pin,__scl_bit
000c89 cffe      	rjmp __i2c_read3
000c8a dfee      	rcall __i2c_delay1
000c8b 9488      	clc
000c8c 9983      	sbic __i2c_pin,__sda_bit
000c8d 9408      	sec
000c8e 9a8a      	sbi  __i2c_dir,__scl_bit
000c8f dff1      	rcall __i2c_delay2
000c90 1fee      	rol  r30
000c91 957a      	dec  r23
000c92 f799      	brne __i2c_read0
000c93 9179      	ld   r23,y+
000c94 2377      	tst  r23
000c95 f411      	brne __i2c_read1
000c96 988b      	cbi  __i2c_dir,__sda_bit
000c97 c001      	rjmp __i2c_read2
                 __i2c_read1:
000c98 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_read2:
000c99 dfdf      	rcall __i2c_delay1
000c9a 988a      	cbi  __i2c_dir,__scl_bit
000c9b dfe5      	rcall __i2c_delay2
000c9c 9a8a      	sbi  __i2c_dir,__scl_bit
000c9d dfdb      	rcall __i2c_delay1
000c9e 988b      	cbi  __i2c_dir,__sda_bit
000c9f cfd9      	rjmp __i2c_delay1
                 
                 _i2c_write:
000ca0 91e9      	ld   r30,y+
000ca1 e078      	ldi  r23,8
                 __i2c_write0:
000ca2 0fee      	lsl  r30
000ca3 f410      	brcc __i2c_write1
000ca4 988b      	cbi  __i2c_dir,__sda_bit
000ca5 c001      	rjmp __i2c_write2
                 __i2c_write1:
000ca6 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_write2:
000ca7 dfd9      	rcall __i2c_delay2
000ca8 988a      	cbi  __i2c_dir,__scl_bit
000ca9 dfcf      	rcall __i2c_delay1
                 __i2c_write3:
000caa 9b82      	sbis __i2c_pin,__scl_bit
000cab cffe      	rjmp __i2c_write3
000cac dfcc      	rcall __i2c_delay1
000cad 9a8a      	sbi  __i2c_dir,__scl_bit
000cae 957a      	dec  r23
000caf f791      	brne __i2c_write0
000cb0 988b      	cbi  __i2c_dir,__sda_bit
000cb1 dfc7      	rcall __i2c_delay1
000cb2 988a      	cbi  __i2c_dir,__scl_bit
000cb3 dfcd      	rcall __i2c_delay2
000cb4 e0e1      	ldi  r30,1
000cb5 9983      	sbic __i2c_pin,__sda_bit
000cb6 27ee      	clr  r30
000cb7 9a8a      	sbi  __i2c_dir,__scl_bit
000cb8 9508      	ret
                 
                 _strlen:
000cb9 91a9      	ld   r26,y+
000cba 91b9      	ld   r27,y+
000cbb 27ee      	clr  r30
000cbc 27ff      	clr  r31
                 __strlen0:
000cbd 916d      	ld   r22,x+
000cbe 2366      	tst  r22
000cbf f011      	breq __strlen1
000cc0 9631      	adiw r30,1
000cc1 cffb      	rjmp __strlen0
                 __strlen1:
000cc2 9508      	ret
                 
                 _strlenf:
000cc3 27aa      	clr  r26
000cc4 27bb      	clr  r27
000cc5 91e9      	ld   r30,y+
000cc6 91f9      	ld   r31,y+
                 __strlenf0:
000cc7 9005      	lpm  r0,z+
000cc8 2000      	tst  r0
000cc9 f011      	breq __strlenf1
000cca 9611      	adiw r26,1
000ccb cffb      	rjmp __strlenf0
                 __strlenf1:
000ccc 01fd      	movw r30,r26
000ccd 9508      	ret
                 
                 _delay_ms:
000cce 91e9      	ld   r30,y+
000ccf 91f9      	ld   r31,y+
000cd0 9630      	adiw r30,0
000cd1 f039      	breq __delay_ms1
                 __delay_ms0:
000cd2 ea80
000cd3 e09f
000cd4 9701
000cd5 f7f1      	__DELAY_USW 0xFA0
000cd6 95a8      	wdr
000cd7 9731      	sbiw r30,1
000cd8 f7c9      	brne __delay_ms0
                 __delay_ms1:
000cd9 9508      	ret
                 
                 _bcd2bin:
000cda 81e8      	ld   r30,y
000cdb 95e2      	swap r30
000cdc 70ef      	andi r30,0xf
000cdd 2fae      	mov  r26,r30
000cde 0faa      	lsl  r26
000cdf 0faa      	lsl  r26
000ce0 0fea      	add  r30,r26
000ce1 0fee      	lsl  r30
000ce2 91a9      	ld   r26,y+
000ce3 70af      	andi r26,0xf
000ce4 0fea      	add  r30,r26
000ce5 9508      	ret
                 
                 _bin2bcd:
000ce6 91a9      	ld   r26,y+
000ce7 27ee      	clr  r30
                 __bin2bcd0:
000ce8 50aa      	subi r26,10
000ce9 f012      	brmi __bin2bcd1
000cea 5fe0      	subi r30,-16
000ceb cffc      	rjmp __bin2bcd0
                 __bin2bcd1:
000cec 5fa6      	subi r26,-10
000ced 0fea      	add  r30,r26
000cee 9508      	ret
                 
                 _w1_init:
000cef 27ee      	clr  r30
000cf0 9895      	cbi  __w1_port,__w1_bit
000cf1 9a8d      	sbi  __w1_port-1,__w1_bit
000cf2 e880
000cf3 e097
000cf4 9701
000cf5 f7f1      	__DELAY_USW 0x780
000cf6 988d      	cbi  __w1_port-1,__w1_bit
000cf7 e48b
000cf8 958a
000cf9 f7f1      	__DELAY_USB 0x4B
000cfa 9b85      	sbis __w1_port-2,__w1_bit
000cfb 9508      	ret
000cfc e380
000cfd e091
000cfe 9701
000cff f7f1      	__DELAY_USW 0x130
000d00 9b85      	sbis __w1_port-2,__w1_bit
000d01 95e3      	inc  r30
000d02 e188
000d03 e096
000d04 9701
000d05 f7f1      	__DELAY_USW 0x618
000d06 9508      	ret
                 
                 __w1_read_bit:
000d07 9a8d      	sbi  __w1_port-1,__w1_bit
000d08 e08b
000d09 958a
000d0a f7f1      	__DELAY_USB 0xB
000d0b 988d      	cbi  __w1_port-1,__w1_bit
000d0c e38b
000d0d 958a
000d0e f7f1      	__DELAY_USB 0x3B
000d0f 9488      	clc
000d10 9985      	sbic __w1_port-2,__w1_bit
000d11 9408      	sec
000d12 95e7      	ror  r30
000d13 e480
000d14 e091
000d15 9701
000d16 f7f1      	__DELAY_USW 0x140
000d17 9508      	ret
                 
                 __w1_write_bit:
000d18 94e8      	clt
000d19 9a8d      	sbi  __w1_port-1,__w1_bit
000d1a e08b
000d1b 958a
000d1c f7f1      	__DELAY_USB 0xB
000d1d fd70      	sbrc r23,0
000d1e 988d      	cbi  __w1_port-1,__w1_bit
000d1f e485
000d20 958a
000d21 f7f1      	__DELAY_USB 0x45
000d22 9985      	sbic __w1_port-2,__w1_bit
000d23 c003      	rjmp __w1_write_bit0
000d24 ff70      	sbrs r23,0
000d25 c003      	rjmp __w1_write_bit1
000d26 9508      	ret
                 __w1_write_bit0:
000d27 ff70      	sbrs r23,0
000d28 9508      	ret
                 __w1_write_bit1:
000d29 e28c
000d2a e091
000d2b 9701
000d2c f7f1      	__DELAY_USW 0x12C
000d2d 988d      	cbi  __w1_port-1,__w1_bit
000d2e e18b
000d2f 958a
000d30 f7f1      	__DELAY_USB 0x1B
000d31 9468      	set
000d32 9508      	ret
                 
                 _w1_read:
000d33 e068      	ldi  r22,8
                 	__w1_read0:
000d34 dfd2      	rcall __w1_read_bit
000d35 956a      	dec  r22
000d36 f7e9      	brne __w1_read0
000d37 9508      	ret
                 
                 _w1_write:
000d38 e068      	ldi  r22,8
000d39 9179      	ld   r23,y+
000d3a 27ee      	clr  r30
                 __w1_write0:
000d3b dfdc      	rcall __w1_write_bit
000d3c f426      	brtc __w1_write1
000d3d 9577      	ror  r23
000d3e 956a      	dec  r22
000d3f f7d9      	brne __w1_write0
000d40 95e3      	inc  r30
                 __w1_write1:
000d41 9508      	ret
                 
                 _w1_dow_crc8:
000d42 27ee      	clr  r30
000d43 8188      	ld   r24,y
000d44 2388      	tst  r24
000d45 f081      	breq __w1_dow_crc83
000d46 e168      	ldi  r22,0x18
000d47 81a9      	ldd  r26,y+1
000d48 81ba      	ldd  r27,y+2
                 __w1_dow_crc80:
000d49 e098      	ldi  r25,8
000d4a 91fd      	ld   r31,x+
                 __w1_dow_crc81:
000d4b 2f7f      	mov  r23,r31
000d4c 277e      	eor  r23,r30
000d4d 9577      	ror  r23
000d4e f408      	brcc __w1_dow_crc82
000d4f 27e6      	eor  r30,r22
                 __w1_dow_crc82:
000d50 95e7      	ror  r30
000d51 95f6      	lsr  r31
000d52 959a      	dec  r25
000d53 f7b9      	brne __w1_dow_crc81
000d54 958a      	dec  r24
000d55 f799      	brne __w1_dow_crc80
                 __w1_dow_crc83:
000d56 9623      	adiw r28,3
000d57 9508      	ret
                 
                 __ADDW2R15:
000d58 2400      	CLR  R0
000d59 0daf      	ADD  R26,R15
000d5a 1db0      	ADC  R27,R0
000d5b 9508      	RET
                 
                 __ANEGW1:
000d5c 95e0      	COM  R30
000d5d 95f0      	COM  R31
000d5e 9631      	ADIW R30,1
000d5f 9508      	RET
                 
                 __LSRB12:
000d60 23ee      	TST  R30
000d61 2e0e      	MOV  R0,R30
000d62 2fea      	MOV  R30,R26
000d63 f019      	BREQ __LSRB12R
                 __LSRB12L:
000d64 95e6      	LSR  R30
000d65 940a      	DEC  R0
000d66 f7e9      	BRNE __LSRB12L
                 __LSRB12R:
000d67 9508      	RET
                 
                 __LSLW4:
000d68 0fee      	LSL  R30
000d69 1fff      	ROL  R31
                 __LSLW3:
000d6a 0fee      	LSL  R30
000d6b 1fff      	ROL  R31
                 __LSLW2:
000d6c 0fee      	LSL  R30
000d6d 1fff      	ROL  R31
000d6e 0fee      	LSL  R30
000d6f 1fff      	ROL  R31
000d70 9508      	RET
                 
                 __CWD1:
000d71 2f6f      	MOV  R22,R31
000d72 0f66      	ADD  R22,R22
000d73 0b66      	SBC  R22,R22
000d74 2f76      	MOV  R23,R22
000d75 9508      	RET
                 
                 __MULW12U:
000d76 9ffa      	MUL  R31,R26
000d77 2df0      	MOV  R31,R0
000d78 9feb      	MUL  R30,R27
000d79 0df0      	ADD  R31,R0
000d7a 9fea      	MUL  R30,R26
000d7b 2de0      	MOV  R30,R0
000d7c 0df1      	ADD  R31,R1
000d7d 9508      	RET
                 
                 __MULW12:
000d7e d025      	RCALL __CHKSIGNW
000d7f dff6      	RCALL __MULW12U
000d80 f40e      	BRTC __MULW121
000d81 dfda      	RCALL __ANEGW1
                 __MULW121:
000d82 9508      	RET
                 
                 __DIVW21U:
000d83 2400      	CLR  R0
000d84 2411      	CLR  R1
000d85 e190      	LDI  R25,16
                 __DIVW21U1:
000d86 0faa      	LSL  R26
000d87 1fbb      	ROL  R27
000d88 1c00      	ROL  R0
000d89 1c11      	ROL  R1
000d8a 1a0e      	SUB  R0,R30
000d8b 0a1f      	SBC  R1,R31
000d8c f418      	BRCC __DIVW21U2
000d8d 0e0e      	ADD  R0,R30
000d8e 1e1f      	ADC  R1,R31
000d8f c001      	RJMP __DIVW21U3
                 __DIVW21U2:
000d90 60a1      	SBR  R26,1
                 __DIVW21U3:
000d91 959a      	DEC  R25
000d92 f799      	BRNE __DIVW21U1
000d93 01fd      	MOVW R30,R26
000d94 01d0      	MOVW R26,R0
000d95 9508      	RET
                 
                 __MODW21:
000d96 94e8      	CLT
000d97 ffb7      	SBRS R27,7
000d98 c004      	RJMP __MODW211
000d99 95a0      	COM  R26
000d9a 95b0      	COM  R27
000d9b 9611      	ADIW R26,1
000d9c 9468      	SET
                 __MODW211:
000d9d fdf7      	SBRC R31,7
000d9e dfbd      	RCALL __ANEGW1
000d9f dfe3      	RCALL __DIVW21U
000da0 01fd      	MOVW R30,R26
000da1 f40e      	BRTC __MODW212
000da2 dfb9      	RCALL __ANEGW1
                 __MODW212:
000da3 9508      	RET
                 
                 __CHKSIGNW:
000da4 94e8      	CLT
000da5 fff7      	SBRS R31,7
000da6 c002      	RJMP __CHKSW1
000da7 dfb4      	RCALL __ANEGW1
000da8 9468      	SET
                 __CHKSW1:
000da9 ffb7      	SBRS R27,7
000daa c006      	RJMP __CHKSW2
000dab 95a0      	COM  R26
000dac 95b0      	COM  R27
000dad 9611      	ADIW R26,1
000dae f800      	BLD  R0,0
000daf 9403      	INC  R0
000db0 fa00      	BST  R0,0
                 __CHKSW2:
000db1 9508      	RET
                 
                 __GETW1P:
000db2 91ed      	LD   R30,X+
000db3 91fc      	LD   R31,X
000db4 9711      	SBIW R26,1
000db5 9508      	RET
                 
                 __GETW1PF:
000db6 9005      	LPM  R0,Z+
000db7 91f4      	LPM  R31,Z
000db8 2de0      	MOV  R30,R0
000db9 9508      	RET
                 
                 __PUTPARD1:
000dba 937a      	ST   -Y,R23
000dbb 936a      	ST   -Y,R22
000dbc 93fa      	ST   -Y,R31
000dbd 93ea      	ST   -Y,R30
000dbe 9508      	RET
                 
                 __SAVELOCR6:
000dbf 935a      	ST   -Y,R21
                 __SAVELOCR5:
000dc0 934a      	ST   -Y,R20
                 __SAVELOCR4:
000dc1 933a      	ST   -Y,R19
                 __SAVELOCR3:
000dc2 932a      	ST   -Y,R18
                 __SAVELOCR2:
000dc3 931a      	ST   -Y,R17
000dc4 930a      	ST   -Y,R16
000dc5 9508      	RET
                 
                 __LOADLOCR6:
000dc6 815d      	LDD  R21,Y+5
                 __LOADLOCR5:
000dc7 814c      	LDD  R20,Y+4
                 __LOADLOCR4:
000dc8 813b      	LDD  R19,Y+3
                 __LOADLOCR3:
000dc9 812a      	LDD  R18,Y+2
                 __LOADLOCR2:
000dca 8119      	LDD  R17,Y+1
000dcb 8108      	LD   R16,Y
000dcc 9508      	RET
                 
                 __INITLOCB:
                 __INITLOCW:
000dcd 0fac      	ADD R26,R28
000dce 1fbd      	ADC R27,R29
                 __INITLOC0:
000dcf 9005      	LPM  R0,Z+
000dd0 920d      	ST   X+,R0
000dd1 958a      	DEC  R24
000dd2 f7e1      	BRNE __INITLOC0
000dd3 9508      	RET
                 
                 ;END OF CODE MARKER
                 __END_OF_CODE:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

ATmega162 register use summary:
r0 :  26 r1 :   6 r2 :   1 r3 :   0 r4 :   5 r5 :   3 r6 :   4 r7 :   2 
r8 :   6 r9 :   8 r10:  10 r11:   5 r12:   5 r13:   6 r14:   5 r15:   6 
r16: 130 r17:  91 r18:  60 r19:  71 r20:  47 r21:  30 r22:  40 r23:  36 
r24:  72 r25:  12 r26: 194 r27:  94 r28:  60 r29:   2 r30: 910 r31: 349 
x  :  34 y  : 616 z  :  21 
Registers used: 34 out of 35 (97.1%)

ATmega162 instruction use summary:
adc   :  28 add   :  35 adiw  :  69 and   :   7 andi  :  24 asr   :   0 
bclr  :   0 bld   :   2 brbc  :   0 brbs  :   0 brcc  :   3 brcs  :   0 
break :   0 breq  :  33 brge  :   2 brhc  :   0 brhs  :   0 brid  :   0 
brie  :   0 brlo  :  27 brlt  :   6 brmi  :   1 brne  :  71 brpl  :   0 
brsh  :  12 brtc  :   3 brts  :   0 brvc  :   0 brvs  :   0 bset  :   0 
bst   :   2 call  : 240 cbi   :  50 cbr   :   0 clc   :   2 clh   :   0 
cli   :   2 cln   :   0 clr   :  95 cls   :   0 clt   :   3 clv   :   0 
clz   :   0 com   :   9 cp    :  16 cpc   :  21 cpi   :  80 cpse  :   0 
dec   :  27 eor   :   2 fmul  :   0 fmuls :   0 fmulsu:   0 icall :   0 
ijmp  :   0 in    :  17 inc   :   5 jmp   :  49 ld    :  53 ldd   : 201 
ldi   : 427 lds   :  35 lpm   :  13 lsl   :  14 lsr   :   2 mov   :  76 
movw  :  45 mul   :   4 muls  :   0 mulsu :   0 neg   :   0 nop   :   2 
or    :   6 ori   :  10 out   :  59 pop   :  15 push  :  16 rcall :  39 
ret   :  65 reti  :   2 rjmp  : 110 rol   :  12 ror   :   4 sbc   :  12 
sbci  :  22 sbi   :  41 sbic  :   4 sbis  :   8 sbiw  :  40 sbr   :   1 
sbrc  :   4 sbrs  :  17 sec   :   2 seh   :   0 sei   :   2 sen   :   0 
ser   :   0 ses   :   0 set   :   3 sev   :   0 sez   :   0 sleep :   0 
spm   :   0 st    : 321 std   :  83 sts   :  36 sub   :  11 subi  :  48 
swap  :   1 tst   :   6 wdr   :   9 
Instructions used: 73 out of 111 (65.8%)

ATmega162 memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x001ba8   6368    712   7080   16384  43.2%
[.dseg] 0x000100 0x000433      0    659    659    1024  64.4%
[.eseg] 0x000000 0x000000      0      0      0     512   0.0%

Assembly complete, 0 errors, 9 warnings
