
AVRASM ver. 2.1.9  main.asm Fri Feb 09 21:18:09 2007

main.asm(990): Including file 'main.vec'
main.asm(991): Including file 'main.inc'
main.inc(2): warning: Register r4 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(3): warning: Register r6 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(4): warning: Register r8 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(10): warning: Register r10 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(11): warning: Register r11 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(12): warning: Register r13 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
                 
                 
                 ;CodeVisionAVR C Compiler V1.25.2 Standard
                 ;(C) Copyright 1998-2006 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 
                 ;Chip type              : ATmega8515
                 ;Program type           : Application
                 ;Clock frequency        : 16.000000 MHz
                 ;Memory model           : Small
                 ;Optimize for           : Speed
                 ;(s)printf features     : int, width
                 ;(s)scanf features      : int, width
                 ;External SRAM size     : 0
                 ;Data Stack size        : 128 byte(s)
                 ;Heap size              : 0 byte(s)
                 ;Promote char to int    : No
                 ;char is unsigned       : Yes
                 ;8 bit enums            : Yes
                 ;Word align FLASH struct: No
                 ;Enhanced core instructions    : On
                 ;Automatic register allocation : On
                 
                 	#pragma AVRPART ADMIN PART_NAME ATmega8515
                 	#pragma AVRPART MEMORY PROG_FLASH 8192
                 	#pragma AVRPART MEMORY EEPROM 512
                 	#pragma AVRPART MEMORY INT_SRAM SIZE 512
                 	#pragma AVRPART MEMORY INT_SRAM START_ADDR 0x60
                 
                 	.EQU UDRE=0x5
                 	.EQU RXC=0x7
                 	.EQU USR=0xB
                 	.EQU UDR=0xC
                 	.EQU SPSR=0xE
                 	.EQU SPDR=0xF
                 	.EQU EERE=0x0
                 	.EQU EEWE=0x1
                 	.EQU EEMWE=0x2
                 	.EQU EECR=0x1C
                 	.EQU EEDR=0x1D
                 	.EQU EEARL=0x1E
                 	.EQU EEARH=0x1F
                 	.EQU WDTCR=0x21
                 	.EQU MCUCSR=0x34
                 	.EQU MCUCR=0x35
                 	.EQU EMCUCR=0x36
                 	.EQU GICR=0x3B
                 	.EQU SPL=0x3D
                 	.EQU SPH=0x3E
                 	.EQU SREG=0x3F
                 
                 	.DEF R0X0=R0
                 	.DEF R0X1=R1
                 	.DEF R0X2=R2
                 	.DEF R0X3=R3
                 	.DEF R0X4=R4
                 	.DEF R0X5=R5
                 	.DEF R0X6=R6
                 	.DEF R0X7=R7
                 	.DEF R0X8=R8
                 	.DEF R0X9=R9
                 	.DEF R0XA=R10
                 	.DEF R0XB=R11
                 	.DEF R0XC=R12
                 	.DEF R0XD=R13
                 	.DEF R0XE=R14
                 	.DEF R0XF=R15
                 	.DEF R0X10=R16
                 	.DEF R0X11=R17
                 	.DEF R0X12=R18
                 	.DEF R0X13=R19
                 	.DEF R0X14=R20
                 	.DEF R0X15=R21
                 	.DEF R0X16=R22
                 	.DEF R0X17=R23
                 	.DEF R0X18=R24
                 	.DEF R0X19=R25
                 	.DEF R0X1A=R26
                 	.DEF R0X1B=R27
                 	.DEF R0X1C=R28
                 	.DEF R0X1D=R29
                 	.DEF R0X1E=R30
                 	.DEF R0X1F=R31
                 
                 	.EQU __se_bit=0x20
                 
                 	.MACRO __CPD1N
                 	CPI  R30,LOW(@0)
                 	LDI  R26,HIGH(@0)
                 	CPC  R31,R26
                 	LDI  R26,BYTE3(@0)
                 	CPC  R22,R26
                 	LDI  R26,BYTE4(@0)
                 	CPC  R23,R26
                 	.ENDM
                 
                 	.MACRO __CPD2N
                 	CPI  R26,LOW(@0)
                 	LDI  R30,HIGH(@0)
                 	CPC  R27,R30
                 	LDI  R30,BYTE3(@0)
                 	CPC  R24,R30
                 	LDI  R30,BYTE4(@0)
                 	CPC  R25,R30
                 	.ENDM
                 
                 	.MACRO __CPWRR
                 	CP   R@0,R@2
                 	CPC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __CPWRN
                 	CPI  R@0,LOW(@2)
                 	LDI  R30,HIGH(@2)
                 	CPC  R@1,R30
                 	.ENDM
                 
                 	.MACRO __ADDB1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDB2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	SBCI R31,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	SBCI R27,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	SBCI R22,BYTE3(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1N
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	SBCI R22,BYTE3(-@0)
                 	SBCI R23,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __ADDD2N
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	SBCI R24,BYTE3(-@0)
                 	SBCI R25,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __SUBD1N
                 	SUBI R30,LOW(@0)
                 	SBCI R31,HIGH(@0)
                 	SBCI R22,BYTE3(@0)
                 	SBCI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __SUBD2N
                 	SUBI R26,LOW(@0)
                 	SBCI R27,HIGH(@0)
                 	SBCI R24,BYTE3(@0)
                 	SBCI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDBMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ANDWMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ANDI R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ANDD1N
                 	ANDI R30,LOW(@0)
                 	ANDI R31,HIGH(@0)
                 	ANDI R22,BYTE3(@0)
                 	ANDI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORBMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ORWMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ORI  R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ORD1N
                 	ORI  R30,LOW(@0)
                 	ORI  R31,HIGH(@0)
                 	ORI  R22,BYTE3(@0)
                 	ORI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __DELAY_USB
                 	LDI  R24,LOW(@0)
                 __DELAY_USB_LOOP:
                 	DEC  R24
                 	BRNE __DELAY_USB_LOOP
                 	.ENDM
                 
                 	.MACRO __DELAY_USW
                 	LDI  R24,LOW(@0)
                 	LDI  R25,HIGH(@0)
                 __DELAY_USW_LOOP:
                 	SBIW R24,1
                 	BRNE __DELAY_USW_LOOP
                 	.ENDM
                 
                 	.MACRO __CLRD1S
                 	LDI  R30,0
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R30
                 	STD  Y+@0+2,R30
                 	STD  Y+@0+3,R30
                 	.ENDM
                 
                 	.MACRO __GETD1S
                 	LDD  R30,Y+@0
                 	LDD  R31,Y+@0+1
                 	LDD  R22,Y+@0+2
                 	LDD  R23,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __PUTD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R31
                 	STD  Y+@0+2,R22
                 	STD  Y+@0+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTD2S
                 	STD  Y+@0,R26
                 	STD  Y+@0+1,R27
                 	STD  Y+@0+2,R24
                 	STD  Y+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __POINTB1MN
                 	LDI  R30,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW1MN
                 	LDI  R30,LOW(@0+@1)
                 	LDI  R31,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1M
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	.ENDM
                 
                 	.MACRO __POINTW1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	LDI  R22,BYTE3(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTB2MN
                 	LDI  R26,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW2MN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTBRM
                 	LDI  R@0,LOW(@1)
                 	.ENDM
                 
                 	.MACRO __POINTWRM
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __POINTBRMN
                 	LDI  R@0,LOW(@1+@2)
                 	.ENDM
                 
                 	.MACRO __POINTWRMN
                 	LDI  R@0,LOW(@2+@3)
                 	LDI  R@1,HIGH(@2+@3)
                 	.ENDM
                 
                 	.MACRO __POINTWRFN
                 	LDI  R@0,LOW(@2*2+@3)
                 	LDI  R@1,HIGH(@2*2+@3)
                 	.ENDM
                 
                 	.MACRO __GETD1N
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2N
                 	LDI  R26,LOW(@0)
                 	LDI  R27,HIGH(@0)
                 	LDI  R24,BYTE3(@0)
                 	LDI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2S
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	LDD  R24,Y+@0+2
                 	LDD  R25,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB1MN
                 	LDS  R30,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETB1HMN
                 	LDS  R31,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	LDS  R22,@0+@1+2
                 	LDS  R23,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __GETBRMN
                 	LDS  R@0,@1+@2
                 	.ENDM
                 
                 	.MACRO __GETWRMN
                 	LDS  R@0,@2+@3
                 	LDS  R@1,@2+@3+1
                 	.ENDM
                 
                 	.MACRO __GETWRZ
                 	LDD  R@0,Z+@2
                 	LDD  R@1,Z+@2+1
                 	.ENDM
                 
                 	.MACRO __GETD2Z
                 	LDD  R26,Z+@0
                 	LDD  R27,Z+@0+1
                 	LDD  R24,Z+@0+2
                 	LDD  R25,Z+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB2MN
                 	LDS  R26,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	LDS  R24,@0+@1+2
                 	LDS  R25,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __PUTB1MN
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	STS  @0+@1+2,R22
                 	STS  @0+@1+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTBR0MN
                 	STS  @0+@1,R0
                 	.ENDM
                 
                 	.MACRO __PUTDZ2
                 	STD  Z+@0,R26
                 	STD  Z+@0+1,R27
                 	STD  Z+@0+2,R24
                 	STD  Z+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __PUTBMRN
                 	STS  @0+@1,R@2
                 	.ENDM
                 
                 	.MACRO __PUTWMRN
                 	STS  @0+@1,R@2
                 	STS  @0+@1+1,R@3
                 	.ENDM
                 
                 	.MACRO __PUTBZR
                 	STD  Z+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWZR
                 	STD  Z+@2,R@0
                 	STD  Z+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __GETW1R
                 	MOV  R30,R@0
                 	MOV  R31,R@1
                 	.ENDM
                 
                 	.MACRO __GETW2R
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	.ENDM
                 
                 	.MACRO __GETWRN
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __PUTW1R
                 	MOV  R@0,R30
                 	MOV  R@1,R31
                 	.ENDM
                 
                 	.MACRO __PUTW2R
                 	MOV  R@0,R26
                 	MOV  R@1,R27
                 	.ENDM
                 
                 	.MACRO __ADDWRN
                 	SUBI R@0,LOW(-@2)
                 	SBCI R@1,HIGH(-@2)
                 	.ENDM
                 
                 	.MACRO __ADDWRR
                 	ADD  R@0,R@2
                 	ADC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __SUBWRN
                 	SUBI R@0,LOW(@2)
                 	SBCI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __SUBWRR
                 	SUB  R@0,R@2
                 	SBC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ANDWRN
                 	ANDI R@0,LOW(@2)
                 	ANDI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ANDWRR
                 	AND  R@0,R@2
                 	AND  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ORWRN
                 	ORI  R@0,LOW(@2)
                 	ORI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ORWRR
                 	OR   R@0,R@2
                 	OR   R@1,R@3
                 	.ENDM
                 
                 	.MACRO __EORWRR
                 	EOR  R@0,R@2
                 	EOR  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __GETWRS
                 	LDD  R@0,Y+@2
                 	LDD  R@1,Y+@2+1
                 	.ENDM
                 
                 	.MACRO __PUTWSR
                 	STD  Y+@2,R@0
                 	STD  Y+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __MOVEWRR
                 	MOV  R@0,R@2
                 	MOV  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __INWR
                 	IN   R@0,@2
                 	IN   R@1,@2+1
                 	.ENDM
                 
                 	.MACRO __OUTWR
                 	OUT  @2+1,R@1
                 	OUT  @2,R@0
                 	.ENDM
                 
                 	.MACRO __CALL1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	RCALL __GETW1PF
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	RCALL __EEPROMRDW
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __GETW1STACK
                 	IN   R26,SPL
                 	IN   R27,SPH
                 	ADIW R26,@0+1
                 	LD   R30,X+
                 	LD   R31,X
                 	.ENDM
                 
                 	.MACRO __NBST
                 	BST  R@0,@1
                 	IN   R30,SREG
                 	LDI  R31,0x40
                 	EOR  R30,R31
                 	OUT  SREG,R30
                 	.ENDM
                 
                 
                 	.MACRO __PUTB1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 
                 	.MACRO __GETB1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R30,Z
                 	.ENDM
                 
                 	.MACRO __GETB1HSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	.ENDM
                 
                 	.MACRO __GETW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z+
                 	LD   R23,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __GETB2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R26,X
                 	.ENDM
                 
                 	.MACRO __GETW2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	.ENDM
                 
                 	.MACRO __GETD2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R1,X+
                 	LD   R24,X+
                 	LD   R25,X
                 	MOVW R26,R0
                 	.ENDM
                 
                 	.MACRO __GETBRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	LD   R@0,Z
                 	.ENDM
                 
                 	.MACRO __GETWRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	LD   R@0,Z+
                 	LD   R@1,Z
                 	.ENDM
                 
                 	.MACRO __LSLW8SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	CLR  R30
                 	.ENDM
                 
                 	.MACRO __PUTB1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __CLRW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __CLRD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __PUTB2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R26
                 	.ENDM
                 
                 	.MACRO __PUTW2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z,R27
                 	.ENDM
                 
                 	.MACRO __PUTD2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z+,R27
                 	ST   Z+,R24
                 	ST   Z,R25
                 	.ENDM
                 
                 	.MACRO __PUTBSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTWSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	ST   Z+,R@0
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __MULBRR
                 	MULS R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRRU
                 	MUL  R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRR0
                 	MULS R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBRRU0
                 	MUL  R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBNWRU
                 	LDI  R26,@2
                 	MUL  R26,R@0
                 	MOVW R30,R0
                 	MUL  R26,R@1
                 	ADD  R31,R0
                 	.ENDM
                 
                 	.CSEG
                 	.ORG 0
                 
                 	.INCLUDE "main.vec"
                 
                 ;INTERRUPT VECTORS
000000 c14e      	RJMP __RESET
000001 cffe      	RJMP 0x00
000002 cffd      	RJMP 0x00
000003 cffc      	RJMP 0x00
000004 cffb      	RJMP 0x00
000005 cffa      	RJMP 0x00
000006 cff9      	RJMP 0x00
000007 c177      	RJMP _timer0_ovf_isr
000008 cff7      	RJMP 0x00
000009 c771      	RJMP _usart_rx_isr
00000a cff5      	RJMP 0x00
00000b cff4      	RJMP 0x00
00000c cff3      	RJMP 0x00
00000d cff2      	RJMP 0x00
00000e cff1      	RJMP 0x00
00000f cff0      	RJMP 0x00
000010 cfef      	RJMP 0x00
                 
                 	.INCLUDE "main.inc"
                 
                 	.DEF _count_row=R4
                 	.DEF _count_col=R6
                 	.DEF _horiz_idx=R8
                 _szText:
000011 2a2a
000012 4320
000013 6f75
000014 676e      	.DB  0x2A,0x2A,0x20,0x43,0x75,0x6F,0x6E,0x67
000015 7551
000016 7961
000017 3020
000018 3139      	.DB  0x51,0x75,0x61,0x79,0x20,0x30,0x39,0x31
000019 3635
00001a 3135
00001b 3030
00001c 2031      	.DB  0x35,0x36,0x35,0x31,0x30,0x30,0x31,0x20
00001d 2a2a
main.inc(9): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
00001e 0000      	.DB  0x2A,0x2A,0x0
                 	.DEF _rx_message=R10
                 	.DEF _rx_wparam=R11
                 	.DEF _rx_lparam=R13
                 _0x5E:
main.inc(14): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
00001f 00a0      	.DB  0xA0
                 _TK21:
000020 c960
000021 0046
000022 d954
000023 002e      	.DB  0x60,0xC9,0x46,0x0,0x54,0xD9,0x2E,0x0
000024 d4a0
000025 0054
000026 da50
000027 003e      	.DB  0xA0,0xD4,0x54,0x0,0x50,0xDA,0x3E,0x0
000028 7552
000029 002a
00002a 56a0
00002b 004e      	.DB  0x52,0x75,0x2A,0x0,0xA0,0x56,0x4E,0x0
00002c a7a7
00002d 0038
00002e a5d0
00002f 005e      	.DB  0xA7,0xA7,0x38,0x0,0xD0,0xA5,0x5E,0x0
000030 92b0
000031 004a
000032 aab5
000033 0032      	.DB  0xB0,0x92,0x4A,0x0,0xB5,0xAA,0x32,0x0
000034 a950
000035 0058
000036 b4a0
000037 0042      	.DB  0x50,0xA9,0x58,0x0,0xA0,0xB4,0x42,0x0
000038 baa4
000039 002c
00003a ad50
00003b 0050      	.DB  0xA4,0xBA,0x2C,0x0,0x50,0xAD,0x50,0x0
00003c 55d9
00003d 003c
00003e 4ba0
00003f 0062      	.DB  0xD9,0x55,0x3C,0x0,0xA0,0x4B,0x62,0x0
000040 a5b0
000041 004c
000042 5176
000043 0037      	.DB  0xB0,0xA5,0x4C,0x0,0x76,0x51,0x37,0x0
000044 5270
000045 005c
000046 6930
000047 0046      	.DB  0x70,0x52,0x5C,0x0,0x30,0x69,0x46,0x0
000048 7934
000049 0030
00004a 6aa0
00004b 0054      	.DB  0x34,0x79,0x30,0x0,0xA0,0x6A,0x54,0x0
00004c ad50
00004d 003e
00004e 5b52
00004f 002a      	.DB  0x50,0xAD,0x3E,0x0,0x52,0x5B,0x2A,0x0
000050 4b60
000051 0050
000052 a6e6
000053 0038      	.DB  0x60,0x4B,0x50,0x0,0xE6,0xA6,0x38,0x0
000054 a4e0
000055 005e
000056 d260
000057 0048      	.DB  0xE0,0xA4,0x5E,0x0,0x60,0xD2,0x48,0x0
000058 ea65
000059 0032
00005a d520
00005b 0056      	.DB  0x65,0xEA,0x32,0x0,0x20,0xD5,0x56,0x0
00005c daa0
00005d 0040
00005e 56a3
00005f 002d      	.DB  0xA0,0xDA,0x40,0x0,0xA3,0x56,0x2D,0x0
000060 56d0
000061 0052
000062 4afb
000063 003c      	.DB  0xD0,0x56,0x52,0x0,0xFB,0x4A,0x3C,0x0
000064 49d0
000065 0062
000066 a4d0
000067 004c      	.DB  0xD0,0x49,0x62,0x0,0xD0,0xA4,0x4C,0x0
000068 d0b6
000069 0037
00006a b250
00006b 005a      	.DB  0xB6,0xD0,0x37,0x0,0x50,0xB2,0x5A,0x0
00006c b520
00006d 0044
00006e dd25
00006f 002e      	.DB  0x20,0xB5,0x44,0x0,0x25,0xDD,0x2E,0x0
000070 b5a0
000071 0054
000072 55d0
000073 003e      	.DB  0xA0,0xB5,0x54,0x0,0xD0,0x55,0x3E,0x0
000074 55b2
000075 002a
000076 49b0
000077 0050      	.DB  0xB2,0x55,0x2A,0x0,0xB0,0x49,0x50,0x0
000078 a577
000079 003a
00007a a4b0
00007b 005e      	.DB  0x77,0xA5,0x3A,0x0,0xB0,0xA4,0x5E,0x0
00007c aa50
00007d 0048
00007e b255
00007f 0033      	.DB  0x50,0xAA,0x48,0x0,0x55,0xB2,0x33,0x0
000080 6d20
000081 0058
000082 ad60
000083 0040      	.DB  0x20,0x6D,0x58,0x0,0x60,0xAD,0x40,0x0
000084 4b63
000085 002d
000086 5370
000087 0052      	.DB  0x63,0x4B,0x2D,0x0,0x70,0x53,0x52,0x0
000088 49e8
000089 003e
00008a c970
00008b 0060      	.DB  0xE8,0x49,0x3E,0x0,0x70,0xC9,0x60,0x0
00008c 54b0
00008d 004c
00008e 68a6
00008f 0037      	.DB  0xB0,0x54,0x4C,0x0,0xA6,0x68,0x37,0x0
000090 da50
000091 005a
000092 5aa0
000093 0044      	.DB  0x50,0xDA,0x5A,0x0,0xA0,0x5A,0x44,0x0
000094 a6a4
000095 002f
000096 aad0
000097 0054      	.DB  0xA4,0xA6,0x2F,0x0,0xD0,0xAA,0x54,0x0
000098 52e0
000099 0040
00009a d2e3
00009b 0028      	.DB  0xE0,0x52,0x40,0x0,0xE3,0xD2,0x28,0x0
00009c c950
00009d 004e
00009e d557
00009f 0038      	.DB  0x50,0xC9,0x4E,0x0,0x57,0xD5,0x38,0x0
0000a0 d4a0
0000a1 005e
0000a2 d950
0000a3 0046      	.DB  0xA0,0xD4,0x5E,0x0,0x50,0xD9,0x46,0x0
0000a4 5d55
0000a5 0032
0000a6 56a0
0000a7 0058      	.DB  0x55,0x5D,0x32,0x0,0xA0,0x56,0x58,0x0
0000a8 a6d0
0000a9 0042
0000aa 55d4
0000ab 002c      	.DB  0xD0,0xA6,0x42,0x0,0xD4,0x55,0x2C,0x0
0000ac 52b0
0000ad 0052
0000ae a9b8
0000af 003c      	.DB  0xB0,0x52,0x52,0x0,0xB8,0xA9,0x3C,0x0
0000b0 a930
0000b1 0062
0000b2 b490
0000b3 004a      	.DB  0x30,0xA9,0x62,0x0,0x90,0xB4,0x4A,0x0
0000b4 b6a6
0000b5 0034
0000b6 ad50
0000b7 005a      	.DB  0xA6,0xB6,0x34,0x0,0x50,0xAD,0x5A,0x0
0000b8 55a0
0000b9 0046
0000ba ab64
0000bb 002e      	.DB  0xA0,0x55,0x46,0x0,0x64,0xAB,0x2E,0x0
0000bc a570
0000bd 0054
0000be 52b0
0000bf 0040      	.DB  0x70,0xA5,0x54,0x0,0xB0,0x52,0x40,0x0
0000c0 b173
0000c1 002a
0000c2 6930
0000c3 004e      	.DB  0x73,0xB1,0x2A,0x0,0x30,0x69,0x4E,0x0
0000c4 6b37
0000c5 0038
0000c6 6aa0
0000c7 005e      	.DB  0x37,0x6B,0x38,0x0,0xA0,0x6A,0x5E,0x0
0000c8 ad50
0000c9 0048
0000ca 2ad5
0000cb 0033      	.DB  0x50,0xAD,0x48,0x0,0xD5,0x2A,0x33,0x0
0000cc 2b60
0000cd 0058
0000ce a570
0000cf 0042      	.DB  0x60,0x2B,0x58,0x0,0x70,0xA5,0x42,0x0
0000d0 52e4
0000d1 002e
0000d2 d160
0000d3 0050      	.DB  0xE4,0x52,0x2E,0x0,0x60,0xD1,0x50,0x0
0000d4 e958
0000d5 003a
0000d6 d520
0000d7 0060      	.DB  0x58,0xE9,0x3A,0x0,0x20,0xD5,0x60,0x0
0000d8 da90
0000d9 004a
0000da 5aa6
0000db 0035      	.DB  0x90,0xDA,0x4A,0x0,0xA6,0x5A,0x35,0x0
0000dc 56d0
0000dd 005a
0000de 2ae0
0000df 0046      	.DB  0xD0,0x56,0x5A,0x0,0xE0,0x2A,0x46,0x0
0000e0 a9d4
0000e1 0030
0000e2 a2d0
0000e3 0054      	.DB  0xD4,0xA9,0x30,0x0,0xD0,0xA2,0x54,0x0
0000e4 d150
0000e5 003e
0000e6 e952
0000e7 0028      	.DB  0x50,0xD1,0x3E,0x0,0x52,0xE9,0x28,0x0
                 _0x9D:
0000e8 0000      	.DB  0x0,0x0
0000e9 0000      	.DB  0x0,0x0
0000ea 0000      	.DB  0x0,0x0
0000eb 0000      	.DB  0x0,0x0
0000ec 0000      	.DB  0x0,0x0
0000ed 0000      	.DB  0x0,0x0
0000ee 0000      	.DB  0x0,0x0
0000ef 0000      	.DB  0x0,0x0
0000f0 001d      	.DB  0x1D,0x0
0000f1 001e      	.DB  0x1E,0x0
                 _0xAC:
0000f2 0000      	.DB  0x0,0x0
0000f3 0000      	.DB  0x0,0x0
                 _0xAD:
0000f4 0000      	.DB  0x0,0x0
0000f5 0000      	.DB  0x0,0x0
                 _tbl10_G5:
0000f6 2710
0000f7 03e8
0000f8 0064
0000f9 000a      	.DB  0x10,0x27,0xE8,0x3,0x64,0x0,0xA,0x0
0000fa 0001      	.DB  0x1,0x0
                 _tbl16_G5:
0000fb 1000
0000fc 0100
0000fd 0010
0000fe 0001      	.DB  0x0,0x10,0x0,0x1,0x10,0x0,0x1,0x0
                 _0:
0000ff 6142
000100 2079
000101 6967
000102 206f      	.DB  0x42,0x61,0x79,0x20,0x67,0x69,0x6F,0x20
000103 616c
000104 2520
000105 3230
000106 2064      	.DB  0x6C,0x61,0x20,0x25,0x30,0x32,0x64,0x20
000107 6967
000108 206f
000109 3025
00010a 6432      	.DB  0x67,0x69,0x6F,0x20,0x25,0x30,0x32,0x64
00010b 7020
00010c 7568
00010d 2074
00010e 3025      	.DB  0x20,0x70,0x68,0x75,0x74,0x20,0x25,0x30
00010f 6432
000110 6720
000111 6169
000112 2e79      	.DB  0x32,0x64,0x20,0x67,0x69,0x61,0x79,0x2E
000113 4e20
000114 6167
000115 2079
000116 3025      	.DB  0x20,0x4E,0x67,0x61,0x79,0x20,0x25,0x30
000117 6432
000118 7420
000119 6168
00011a 676e      	.DB  0x32,0x64,0x20,0x74,0x68,0x61,0x6E,0x67
00011b 2520
00011c 3230
00011d 2064
00011e 616e      	.DB  0x20,0x25,0x30,0x32,0x64,0x20,0x6E,0x61
00011f 206d
000120 3025
000121 3030
000122 6434      	.DB  0x6D,0x20,0x25,0x30,0x30,0x30,0x34,0x64
000123 002e
000124 6e69
000125 6564
000126 3d78      	.DB  0x2E,0x0,0x69,0x6E,0x64,0x65,0x78,0x3D
000127 6425
000128 0d20
000129 000a
00012a 434c      	.DB  0x25,0x64,0x20,0xD,0xA,0x0,0x4C,0x43
00012b 534d
00012c 7620
00012d 2e32
00012e 3230      	.DB  0x4D,0x53,0x20,0x76,0x32,0x2E,0x30,0x32
00012f 0d20
000130 000a
000131 a942
000132 2079      	.DB  0x20,0xD,0xA,0x0,0x42,0xA9,0x79,0x20
000133 6967
000134 20ea
000135 b56c
000136 2520      	.DB  0x67,0x69,0xEA,0x20,0x6C,0xB5,0x20,0x25
000137 3230
000138 3a64
000139 3025
00013a 6432      	.DB  0x30,0x32,0x64,0x3A,0x25,0x30,0x32,0x64
00013b 6e20
00013c b567
00013d 2079
00013e 6425      	.DB  0x20,0x6E,0x67,0xB5,0x79,0x20,0x25,0x64
00013f 252f
000140 2f64
000141 6425
000142 2820      	.DB  0x2F,0x25,0x64,0x2F,0x25,0x64,0x20,0x28
000143 6425
000144 252f
000145 2064
000146 6da2      	.DB  0x25,0x64,0x2F,0x25,0x64,0x20,0xA2,0x6D
000147 6c20
000148 63de
000149 2968
main.inc(107): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
00014a 0000      	.DB  0x20,0x6C,0xDE,0x63,0x68,0x29,0x0
                 
                 __GLOBAL_INI_TBL:
00014b 004a      	.DW  0x4A
00014c 00fd      	.DW  _szDateStr_G1
00014d 01fe      	.DW  _0*2
                 
00014e 0000      	.DW  0
                 _0x122:
                 
                 __RESET:
00014f 94f8      	CLI
000150 27ee      	CLR  R30
000151 bbec      	OUT  EECR,R30
                 
                 ;INTERRUPT VECTORS ARE PLACED
                 ;AT THE START OF FLASH
000152 e0f1      	LDI  R31,1
000153 bffb      	OUT  GICR,R31
000154 bfeb      	OUT  GICR,R30
000155 bfe5      	OUT  MCUCR,R30
000156 bfe6      	OUT  EMCUCR,R30
                 
                 ;DISABLE WATCHDOG
000157 e1f8      	LDI  R31,0x18
000158 bdf1      	OUT  WDTCR,R31
000159 bde1      	OUT  WDTCR,R30
                 
                 ;CLEAR R2-R14
00015a e08d      	LDI  R24,13
00015b e0a2      	LDI  R26,2
00015c 27bb      	CLR  R27
                 __CLEAR_REG:
00015d 93ed      	ST   X+,R30
00015e 958a      	DEC  R24
00015f f7e9      	BRNE __CLEAR_REG
                 
                 ;CLEAR SRAM
000160 e080      	LDI  R24,LOW(0x200)
000161 e092      	LDI  R25,HIGH(0x200)
000162 e6a0      	LDI  R26,0x60
                 __CLEAR_SRAM:
000163 93ed      	ST   X+,R30
000164 9701      	SBIW R24,1
000165 f7e9      	BRNE __CLEAR_SRAM
                 
                 ;GLOBAL VARIABLES INITIALIZATION
000166 e9e6      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
000167 e0f2      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
                 __GLOBAL_INI_NEXT:
000168 9185      	LPM  R24,Z+
000169 9195      	LPM  R25,Z+
00016a 9700      	SBIW R24,0
00016b f061      	BREQ __GLOBAL_INI_END
00016c 91a5      	LPM  R26,Z+
00016d 91b5      	LPM  R27,Z+
00016e 9005      	LPM  R0,Z+
00016f 9015      	LPM  R1,Z+
000170 01bf      	MOVW R22,R30
000171 01f0      	MOVW R30,R0
                 __GLOBAL_INI_LOOP:
000172 9005      	LPM  R0,Z+
000173 920d      	ST   X+,R0
000174 9701      	SBIW R24,1
000175 f7e1      	BRNE __GLOBAL_INI_LOOP
000176 01fb      	MOVW R30,R22
000177 cff0      	RJMP __GLOBAL_INI_NEXT
                 __GLOBAL_INI_END:
                 
                 ;STACK POINTER INITIALIZATION
000178 e5ef      	LDI  R30,LOW(0x25F)
000179 bfed      	OUT  SPL,R30
00017a e0e2      	LDI  R30,HIGH(0x25F)
00017b bfee      	OUT  SPH,R30
                 
                 ;DATA STACK POINTER INITIALIZATION
00017c eec0      	LDI  R28,LOW(0xE0)
00017d e0d0      	LDI  R29,HIGH(0xE0)
                 
00017e c5e5      	RJMP _main
                 
                 	.ESEG
                 	.ORG 0
                 
                 	.DSEG
                 	.ORG 0xE0
                 ;       1 /*****************************************************
                 ;       2 This program was produced by the
                 ;       3 CodeWizardAVR V1.24.6 Professional
                 ;       4 Automatic Program Generator
                 ;       5 © Copyright 1998-2005 Pavel Haiduc, HP InfoTech s.r.l.
                 ;       6 http://www.hpinfotech.com
                 ;       7 e-mail:office@hpinfotech.com
                 ;       8 
                 ;       9 Project : 
                 ;      10 Version : 
                 ;      11 Date    : 11/10/2005
                 ;      12 Author  : CUONGDD                            
                 ;      13 Company : 3iGROUP                           
                 ;      14 Comments: 
                 ;      15 
                 ;      16 
                 ;      17 Chip type           : ATmega16/162/8515
                 ;      18 Program type        : Application
                 ;      19 Clock frequency     : 8.000000 MHz
                 ;      20 Memory model        : Small
                 ;      21 External SRAM size  : 0
                 ;      22 Data Stack size     : 256
                 ;      23 *****************************************************/
                 ;      24 
                 ;      25 #include "define.h"      
                 ;      26 
                 ;      27 // DS1307 Real Time Clock functions
                 ;      28 #include <ds1307.h>
                 ;      29                                       
                 ;      30 // Declare your global variables here     
                 ;      31 static PBYTE start_mem;
                 _start_mem_G1:
0000e0           	.BYTE 0x2
                 ;      32 static PBYTE end_mem;        
                 _end_mem_G1:
0000e2           	.BYTE 0x2
                 ;      33 static PBYTE buffer; 
                 _buffer_G1:
0000e4           	.BYTE 0x2
                 ;      34 static PBYTE bkgnd_mem;     
                 _bkgnd_mem_G1:
0000e6           	.BYTE 0x2
                 ;      35 static PBYTE org_mem;
                 _org_mem_G1:
0000e8           	.BYTE 0x2
                 ;      36 
                 ;      37 bit is_show_bkgnd        = 0;
                 ;      38 bit is_power_off         = 0;     
                 ;      39 bit is_stopping          = 0;   
                 ;      40 bit is_half_above        = 0;
                 ;      41 bit is_half_below        = 0; 
                 ;      42 
                 ;      43 register UINT count_row  = 0;
                 ;      44 register UINT count_col  = 0;     
                 ;      45 register signed horiz_idx  = 0;
                 ;      46 
                 ;      47 static BYTE scroll_rate   = 0; 
                 _scroll_rate_G1:
0000ea           	.BYTE 0x1
                 ;      48 static BYTE scroll_type   = 0;    
                 _scroll_type_G1:
0000eb           	.BYTE 0x1
                 ;      49 static BYTE frame_index   = 0;                                 
                 _frame_index_G1:
0000ec           	.BYTE 0x1
                 ;      50 
                 ;      51 static UINT  tick_count  = 0;      
                 _tick_count_G1:
0000ed           	.BYTE 0x2
                 ;      52 static UINT  char_count  = 0;
                 _char_count_G1:
0000ef           	.BYTE 0x2
                 ;      53 static UINT  text_length = 0;
                 _text_length_G1:
0000f1           	.BYTE 0x2
                 ;      54 static UINT  stopping_count = 0;
                 _stopping_count_G1:
0000f3           	.BYTE 0x2
                 ;      55 static UINT  flipping_count = 0;
                 _flipping_count_G1:
0000f5           	.BYTE 0x2
                 ;      56 static UINT  char_index = 0;
                 _char_index_G1:
0000f7           	.BYTE 0x2
                 ;      57 static UINT  next_char_width = 0;
                 _next_char_width_G1:
0000f9           	.BYTE 0x2
                 ;      58 static UINT  current_char_width = 0;      
                 _current_char_width_G1:
0000fb           	.BYTE 0x2
                 ;      59 #ifdef _MEGA162_INCLUDED_
                 ;      60 static UINT  char_width[256];    
                 ;      61 static UINT  columeH = 0;
                 ;      62 static UINT  columeL = 0;
                 ;      63 #endif
                 ;      64 
                 ;      65 flash char  szText[] = "** CuongQuay 0915651001 **";    
                 
                 	.CSEG
                 ;      66 #define DATE_FORMAT_STR "Bay gio la %02d gio %02d phut %02d giay. Ngay %02d thang %02d nam %0004d."
                 ;      67 static char szDateStr[] = DATE_FORMAT_STR;
                 
                 	.DSEG
                 _szDateStr_G1:
0000fd           	.BYTE 0x4A
                 ;      68              
                 ;      69 // Global variables for message control
                 ;      70 BYTE  rx_message = UNKNOWN_MSG;
                 ;      71 WORD  rx_wparam  = 0;
                 ;      72 WORD  rx_lparam  = 0;
                 ;      73 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;      74                             
                 ;      75 extern void reset_serial();         
                 ;      76 extern void send_echo_msg();    
                 ;      77 extern BYTE eeprom_read(BYTE deviceID, PBYTE address);
                 ;      78 extern void eeprom_write(BYTE deviceID, PBYTE address, BYTE data);
                 ;      79 extern WORD eeprom_read_w(BYTE deviceID, PBYTE address);
                 ;      80 extern void eeprom_write_w(BYTE deviceID, PBYTE address, WORD data);
                 ;      81 extern void eeprom_write_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size);
                 ;      82 extern void eeprom_read_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size);
                 ;      83 
                 ;      84 static void _displayFrame();
                 ;      85 static void _doScroll(); 
                 ;      86                                                                                  
                 ;      87 extern void getLunarStr(char* sz, short h, short m, short dd, short mm, int yyyy);
                 ;      88 
                 ;      89 void LoadFrame();      
                 ;      90 void BlankRAM(PBYTE start_addr,PBYTE end_addr);
                 ;      91 ///////////////////////////////////////////////////////////////
                 ;      92 // Timer 0 overflow interrupt service routine , 40.5 us per tick                 
                 ;      93 ///////////////////////////////////////////////////////////////
                 ;      94 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
                 ;      95 {       
                 
                 	.CSEG
                 _timer0_ovf_isr:
00017f 93ea      	ST   -Y,R30
000180 93fa      	ST   -Y,R31
000181 b7ef      	IN   R30,SREG
000182 93ea      	ST   -Y,R30
                 ;      96     TCNT0 = 0x05;       // 1ms = 4*250 = 1000 us
000183 e0e5      	LDI  R30,LOW(5)
000184 bfe2      	OUT  0x32,R30
                 ;      97     ++tick_count;    
000185 91e0 00ed 	LDS  R30,_tick_count_G1
000187 91f0 00ee 	LDS  R31,_tick_count_G1+1
000189 9631      	ADIW R30,1
00018a 93e0 00ed 	STS  _tick_count_G1,R30
00018c 93f0 00ee 	STS  _tick_count_G1+1,R31
                 ;      98 }
00018e 91e9      	LD   R30,Y+
00018f bfef      	OUT  SREG,R30
000190 91f9      	LD   R31,Y+
000191 91e9      	LD   R30,Y+
000192 9518      	RETI
                 ;      99 
                 ;     100 
                 ;     101 ///////////////////////////////////////////////////////////////
                 ;     102 // static function(s) for led matrix display panel
                 ;     103 ///////////////////////////////////////////////////////////////
                 ;     104 static void _setRow()
                 ;     105 {
                 __setRow_G1:
                 ;     106     BYTE i=0;      
                 ;     107     for (i=0; i<8; i++){            
000193 930a      	ST   -Y,R16
                 ;	i -> R16
000194 e000      	LDI  R16,0
000195 e000      	LDI  R16,LOW(0)
                 _0x4:
000196 3008      	CPI  R16,8
000197 f480      	BRSH _0x5
                 ;     108         if (i==(7-count_row)) SCAN_DAT = ON;        
000198 e0e7      	LDI  R30,LOW(7)
000199 e0f0      	LDI  R31,HIGH(7)
00019a 19e4      	SUB  R30,R4
00019b 09f5      	SBC  R31,R5
00019c 2fa0      	MOV  R26,R16
00019d e0b0      	LDI  R27,0
00019e 17ea      	CP   R30,R26
00019f 07fb      	CPC  R31,R27
0001a0 f411      	BRNE _0x6
0001a1 9895      	CBI  0x12,5
                 ;     109         else SCAN_DAT = OFF;        
0001a2 c001      	RJMP _0x7
                 _0x6:
0001a3 9a95      	SBI  0x12,5
                 ;     110         SCAN_CLK = 1;
                 _0x7:
0001a4 9a93      	SBI  0x12,3
                 ;     111         SCAN_CLK = 0;            
0001a5 9893      	CBI  0x12,3
                 ;     112     }
0001a6 5f0f      	SUBI R16,-1
0001a7 cfee      	RJMP _0x4
                 _0x5:
                 ;     113 }
0001a8 c00c      	RJMP _0x118
                 ;     114             
                 ;     115 static void _powerOff()
                 ;     116 {
                 __powerOff_G1:
                 ;     117     BYTE i =0;               
                 ;     118     SCAN_DAT = OFF;  // data scan low        
0001a9 930a      	ST   -Y,R16
                 ;	i -> R16
0001aa e000      	LDI  R16,0
0001ab 9a95      	SBI  0x12,5
                 ;     119     for (i=0; i< 8; i++)    
0001ac e000      	LDI  R16,LOW(0)
                 _0x9:
0001ad 3008      	CPI  R16,8
0001ae f420      	BRSH _0xA
                 ;     120     {                                              
                 ;     121         SCAN_CLK = 1;    // clock scan high
0001af 9a93      	SBI  0x12,3
                 ;     122         SCAN_CLK = 0;    // clock scan low            
0001b0 9893      	CBI  0x12,3
                 ;     123     }                                         
0001b1 5f0f      	SUBI R16,-1
0001b2 cffa      	RJMP _0x9
                 _0xA:
                 ;     124     SCAN_STB = 1;    // strobe scan high
0001b3 9a94      	SBI  0x12,4
                 ;     125     SCAN_STB = 0;    // strobe scan low                    
0001b4 9894      	CBI  0x12,4
                 ;     126 }
                 _0x118:
0001b5 9109      	LD   R16,Y+
0001b6 9508      	RET
                 ;     127 
                 ;     128 static void _displayFrame()
                 ;     129 {                   
                 __displayFrame_G1:
                 ;     130     count_col = 0;
0001b7 2466      	CLR  R6
0001b8 2477      	CLR  R7
                 ;     131     count_row = 0;         
0001b9 2444      	CLR  R4
0001ba 2455      	CLR  R5
                 ;     132 
                 ;     133     if (is_power_off ==1){
0001bb fe21      	SBRS R2,1
0001bc c002      	RJMP _0xB
                 ;     134         _powerOff();
0001bd dfeb      	RCALL __powerOff_G1
                 ;     135         return;
0001be 9508      	RET
                 ;     136     }
                 ;     137 #ifdef _MEGA162_INCLUDED_             
                 ;     138     columeL = current_char_width + (START_RAM_TEXT + SCREEN_WIDTH) - (WORD)start_mem;
                 ;     139     columeH = next_char_width + (START_RAM_TEXT + SCREEN_WIDTH) - (WORD)start_mem;         	                                           
                 ;     140 #endif
                 ;     141     // display one frame in the screen at the specific time 
                 ;     142     for (buffer = start_mem;buffer < (END_RAM); buffer++)  
                 _0xB:
0001bf 91e0 00e0 	LDS  R30,_start_mem_G1
0001c1 91f0 00e1 	LDS  R31,_start_mem_G1+1
0001c3 93e0 00e4 	STS  _buffer_G1,R30
0001c5 93f0 00e5 	STS  _buffer_G1+1,R31
                 _0xD:
0001c7 91a0 00e4 	LDS  R26,_buffer_G1
0001c9 91b0 00e5 	LDS  R27,_buffer_G1+1
0001cb 3faf      	CPI  R26,LOW(0x7FFF)
0001cc e7ef      	LDI  R30,HIGH(0x7FFF)
0001cd 07be      	CPC  R27,R30
0001ce f008      	BRLO PC+2
0001cf c0d5      	RJMP _0xE
                 ;     143     { 
                 ;     144 #ifdef _MEGA162_INCLUDED_                                     
                 ;     145         if (scroll_type == FLYING_TEXT && current_char_width < SCREEN_WIDTH)
                 ;     146 		{                                  		        
                 ;     147 			if (count_col < current_char_width){				
                 ;     148 				if (is_show_bkgnd){
                 ;     149                     DATA_PORT = org_mem[count_row*DATA_LENGTH + SCREEN_WIDTH + count_col]&
                 ;     150                             (bkgnd_mem[count_col+SCREEN_WIDTH*count_row]);	
                 ;     151                 }                               
                 ;     152                 else{
                 ;     153                     DATA_PORT = org_mem[count_row*DATA_LENGTH + SCREEN_WIDTH + count_col];
                 ;     154                 }
                 ;     155 			}
                 ;     156 			else if ((count_col > columeL) && (count_col < columeH)){				
                 ;     157 				if (is_show_bkgnd){
                 ;     158 				    DATA_PORT = (*buffer)&(bkgnd_mem[count_col+SCREEN_WIDTH*count_row]);								
                 ;     159 				}                                                    
                 ;     160 				else{
                 ;     161 				    DATA_PORT = (*buffer);
                 ;     162 				}
                 ;     163 			}
                 ;     164 			else{                  
                 ;     165 			    if (is_show_bkgnd){
                 ;     166     	    		DATA_PORT = (bkgnd_mem[count_col+SCREEN_WIDTH*count_row]);                				
                 ;     167     	        }
                 ;     168     	        else{
                 ;     169     	            DATA_PORT = 0xFF;
                 ;     170     	        }
                 ;     171 			}                                                               			
                 ;     172         }
                 ;     173         else     	                  
                 ;     174 #endif  //_MEGA162_INCLUDED_                     
                 ;     175         {
                 ;     176             if ( is_half_above ==1){                            
0001d0 fe23      	SBRS R2,3
0001d1 c043      	RJMP _0xF
                 ;     177                 if (horiz_idx < 8){
0001d2 e0e8      	LDI  R30,LOW(8)
0001d3 e0f0      	LDI  R31,HIGH(8)
0001d4 168e      	CP   R8,R30
0001d5 069f      	CPC  R9,R31
0001d6 f524      	BRGE _0x10
                 ;     178                     if (count_row > 7-horiz_idx){
0001d7 e0e7      	LDI  R30,LOW(7)
0001d8 e0f0      	LDI  R31,HIGH(7)
0001d9 19e8      	SUB  R30,R8
0001da 09f9      	SBC  R31,R9
0001db 15e4      	CP   R30,R4
0001dc 05f5      	CPC  R31,R5
0001dd f480      	BRSH _0x11
                 ;     179                         DATA_PORT = *(buffer+horiz_idx*DATA_LENGTH-8*DATA_LENGTH)>>2;
0001de 01d4      	MOVW R26,R8
0001df ece0      	LDI  R30,LOW(3776)
0001e0 e0fe      	LDI  R31,HIGH(3776)
0001e1 d978      	RCALL __MULW12
0001e2 91a0 00e4 	LDS  R26,_buffer_G1
0001e4 91b0 00e5 	LDS  R27,_buffer_G1+1
0001e6 0fae      	ADD  R26,R30
0001e7 1fbf      	ADC  R27,R31
0001e8 50a0      	SUBI R26,LOW(30208)
0001e9 47b6      	SBCI R27,HIGH(30208)
0001ea 91ec      	LD   R30,X
0001eb 95e6      	LSR  R30
0001ec 95e6      	LSR  R30
0001ed c00b      	RJMP _0x119
                 ;     180                     }
                 ;     181                     else{                             
                 _0x11:
                 ;     182                         DATA_PORT = *(buffer+horiz_idx*DATA_LENGTH);
0001ee 01d4      	MOVW R26,R8
0001ef ece0      	LDI  R30,LOW(3776)
0001f0 e0fe      	LDI  R31,HIGH(3776)
0001f1 d968      	RCALL __MULW12
0001f2 91a0 00e4 	LDS  R26,_buffer_G1
0001f4 91b0 00e5 	LDS  R27,_buffer_G1+1
0001f6 0fae      	ADD  R26,R30
0001f7 1fbf      	ADC  R27,R31
0001f8 91ec      	LD   R30,X
                 _0x119:
0001f9 bbe8      	OUT  0x18,R30
                 ;     183                     }  
                 ;     184                 }
                 ;     185                 else{                                                        
0001fa c019      	RJMP _0x13
                 _0x10:
                 ;     186                     if (count_row < (16-horiz_idx)){
0001fb e1e0      	LDI  R30,LOW(16)
0001fc e0f0      	LDI  R31,HIGH(16)
0001fd 19e8      	SUB  R30,R8
0001fe 09f9      	SBC  R31,R9
0001ff 164e      	CP   R4,R30
000200 065f      	CPC  R5,R31
000201 f480      	BRSH _0x14
                 ;     187                         DATA_PORT = *(buffer+(horiz_idx-8)*DATA_LENGTH)>>2 | 0xCC;
000202 01d4      	MOVW R26,R8
000203 9718      	SBIW R26,8
000204 ece0      	LDI  R30,LOW(3776)
000205 e0fe      	LDI  R31,HIGH(3776)
000206 d953      	RCALL __MULW12
000207 91a0 00e4 	LDS  R26,_buffer_G1
000209 91b0 00e5 	LDS  R27,_buffer_G1+1
00020b 0fae      	ADD  R26,R30
00020c 1fbf      	ADC  R27,R31
00020d 91ec      	LD   R30,X
00020e 95e6      	LSR  R30
00020f 95e6      	LSR  R30
000210 6cec      	ORI  R30,LOW(0xCC)
000211 c001      	RJMP _0x11A
                 ;     188                     }
                 ;     189                     else{
                 _0x14:
                 ;     190                         DATA_PORT = 0xFF;
000212 efef      	LDI  R30,LOW(255)
                 _0x11A:
000213 bbe8      	OUT  0x18,R30
                 ;     191                     }
                 ;     192                 }                    
                 _0x13:
                 ;     193             }
                 ;     194             else if ( is_half_below ==1){         
000214 c061      	RJMP _0x16
                 _0xF:
000215 fe24      	SBRS R2,4
000216 c043      	RJMP _0x17
                 ;     195                 if (horiz_idx < 8){
000217 e0e8      	LDI  R30,LOW(8)
000218 e0f0      	LDI  R31,HIGH(8)
000219 168e      	CP   R8,R30
00021a 069f      	CPC  R9,R31
00021b f51c      	BRGE _0x18
                 ;     196                     if (count_row < horiz_idx){
00021c 1448
00021d 0459      	__CPWRR 4,5,8,9
00021e f498      	BRSH _0x19
                 ;     197                         DATA_PORT = *(buffer+8*DATA_LENGTH-horiz_idx*DATA_LENGTH)<<2 | 0x33;
00021f 91e0 00e4 	LDS  R30,_buffer_G1
000221 91f0 00e5 	LDS  R31,_buffer_G1+1
000223 50e0      	SUBI R30,LOW(-30208)
000224 48fa      	SBCI R31,HIGH(-30208)
000225 01bf      	MOVW R22,R30
000226 01d4      	MOVW R26,R8
000227 ece0      	LDI  R30,LOW(3776)
000228 e0fe      	LDI  R31,HIGH(3776)
000229 d930      	RCALL __MULW12
00022a 01db      	MOVW R26,R22
00022b 1bae      	SUB  R26,R30
00022c 0bbf      	SBC  R27,R31
00022d 91ec      	LD   R30,X
00022e 0fee      	LSL  R30
00022f 0fee      	LSL  R30
000230 63e3      	ORI  R30,LOW(0x33)
000231 c00b      	RJMP _0x11B
                 ;     198                     }
                 ;     199                     else{
                 _0x19:
                 ;     200                         DATA_PORT = *(buffer-horiz_idx*DATA_LENGTH);
000232 01d4      	MOVW R26,R8
000233 ece0      	LDI  R30,LOW(3776)
000234 e0fe      	LDI  R31,HIGH(3776)
000235 d924      	RCALL __MULW12
000236 91a0 00e4 	LDS  R26,_buffer_G1
000238 91b0 00e5 	LDS  R27,_buffer_G1+1
00023a 1bae      	SUB  R26,R30
00023b 0bbf      	SBC  R27,R31
00023c 91ec      	LD   R30,X
                 _0x11B:
00023d bbe8      	OUT  0x18,R30
                 ;     201                     }   
                 ;     202                 }                    
                 ;     203                 else{                                             
00023e c01a      	RJMP _0x1B
                 _0x18:
                 ;     204                     if (count_row > horiz_idx-8){
00023f 01f4      	MOVW R30,R8
000240 9738      	SBIW R30,8
000241 15e4      	CP   R30,R4
000242 05f5      	CPC  R31,R5
000243 f498      	BRSH _0x1C
                 ;     205                         DATA_PORT = *(buffer+8*DATA_LENGTH-horiz_idx*DATA_LENGTH)<<2 | 0x33;
000244 91e0 00e4 	LDS  R30,_buffer_G1
000246 91f0 00e5 	LDS  R31,_buffer_G1+1
000248 50e0      	SUBI R30,LOW(-30208)
000249 48fa      	SBCI R31,HIGH(-30208)
00024a 01bf      	MOVW R22,R30
00024b 01d4      	MOVW R26,R8
00024c ece0      	LDI  R30,LOW(3776)
00024d e0fe      	LDI  R31,HIGH(3776)
00024e d90b      	RCALL __MULW12
00024f 01db      	MOVW R26,R22
000250 1bae      	SUB  R26,R30
000251 0bbf      	SBC  R27,R31
000252 91ec      	LD   R30,X
000253 0fee      	LSL  R30
000254 0fee      	LSL  R30
000255 63e3      	ORI  R30,LOW(0x33)
000256 c001      	RJMP _0x11C
                 ;     206                     }
                 ;     207                     else{
                 _0x1C:
                 ;     208                         DATA_PORT = 0xFF;
000257 efef      	LDI  R30,LOW(255)
                 _0x11C:
000258 bbe8      	OUT  0x18,R30
                 ;     209                     }
                 ;     210                 }
                 _0x1B:
                 ;     211             }                
                 ;     212             else{
000259 c01c      	RJMP _0x1E
                 _0x17:
                 ;     213                 if (is_show_bkgnd){                
00025a fe20      	SBRS R2,0
00025b c014      	RJMP _0x1F
                 ;     214                     DATA_PORT = (*buffer)&(bkgnd_mem[count_col+SCREEN_WIDTH*count_row]);
00025c 91a0 00e4 	LDS  R26,_buffer_G1
00025e 91b0 00e5 	LDS  R27,_buffer_G1+1
000260 916c      	LD   R22,X
000261 01f2      	MOVW R30,R4
000262 eaa0      	LDI  R26,LOW(160)
000263 e0b0      	LDI  R27,HIGH(160)
000264 d8ed      	RCALL __MULW12U
000265 0de6      	ADD  R30,R6
000266 1df7      	ADC  R31,R7
000267 91a0 00e6 	LDS  R26,_bkgnd_mem_G1
000269 91b0 00e7 	LDS  R27,_bkgnd_mem_G1+1
00026b 0fae      	ADD  R26,R30
00026c 1fbf      	ADC  R27,R31
00026d 91ec      	LD   R30,X
00026e 23e6      	AND  R30,R22
00026f c005      	RJMP _0x11D
                 ;     215                 }                     
                 ;     216                 else{                     
                 _0x1F:
                 ;     217                     DATA_PORT = (*buffer);
000270 91a0 00e4 	LDS  R26,_buffer_G1
000272 91b0 00e5 	LDS  R27,_buffer_G1+1
000274 91ec      	LD   R30,X
                 _0x11D:
000275 bbe8      	OUT  0x18,R30
                 ;     218                 }
                 ;     219             }            
                 _0x1E:
                 _0x16:
                 ;     220                          
                 ;     221         }              
                 ;     222         #ifdef ENABLE_MASK_ROW  
                 ;     223             DATA_PORT |= ENABLE_MASK_ROW;
000276 b3e8      	IN   R30,0x18
000277 6fea      	ORI  R30,LOW(0xFA)
000278 bbe8      	OUT  0x18,R30
                 ;     224         #endif //ENABLE_MASK_ROW
                 ;     225 
                 ;     226         DATA_CLK = 1;    // clock high
000279 9a3a      	SBI  0x7,2
                 ;     227         DATA_CLK = 0;    // clock low   
00027a 983a      	CBI  0x7,2
                 ;     228         if ( ++count_col >= SCREEN_WIDTH)
00027b 01f3      	MOVW R30,R6
00027c 9631      	ADIW R30,1
00027d 013f      	MOVW R6,R30
00027e 3ae0      	CPI  R30,LOW(0xA0)
00027f e0a0      	LDI  R26,HIGH(0xA0)
000280 07fa      	CPC  R31,R26
000281 f0c8      	BRLO _0x21
                 ;     229         {                                            
                 ;     230             count_col = 0;      // reset for next                                                                                                                       
000282 2466      	CLR  R6
000283 2477      	CLR  R7
                 ;     231             _powerOff();        // turn all led off            
000284 df24      	RCALL __powerOff_G1
                 ;     232             _setRow();          // turn row-led on
000285 df0d      	RCALL __setRow_G1
                 ;     233                                                               
                 ;     234             SCAN_STB = 1;       // strobe high            
000286 9a94      	SBI  0x12,4
                 ;     235             SCAN_STB = 0;       // strobe low        
000287 9894      	CBI  0x12,4
                 ;     236             DATA_STB = 1;       // strobe high            
000288 9a38      	SBI  0x7,0
                 ;     237             DATA_STB = 0;       // strobe low            
000289 9838      	CBI  0x7,0
                 ;     238                         
                 ;     239             if (++count_row >= 8){ 
00028a 01f2      	MOVW R30,R4
00028b 9631      	ADIW R30,1
00028c 012f      	MOVW R4,R30
00028d 9738      	SBIW R30,8
00028e f010      	BRLO _0x22
                 ;     240                 count_row = 0;
00028f 2444      	CLR  R4
000290 2455      	CLR  R5
                 ;     241             }                                                                                         
                 ;     242             buffer += (DATA_LENGTH - SCREEN_WIDTH);                 
                 _0x22:
000291 91e0 00e4 	LDS  R30,_buffer_G1
000293 91f0 00e5 	LDS  R31,_buffer_G1+1
000295 5ee0      	SUBI R30,LOW(-3616)
000296 4ff1      	SBCI R31,HIGH(-3616)
000297 93e0 00e4 	STS  _buffer_G1,R30
000299 93f0 00e5 	STS  _buffer_G1+1,R31
                 ;     243         }                   
                 ;     244     }                         	
                 _0x21:
00029b 91e0 00e4 	LDS  R30,_buffer_G1
00029d 91f0 00e5 	LDS  R31,_buffer_G1+1
00029f 9631      	ADIW R30,1
0002a0 93e0 00e4 	STS  _buffer_G1,R30
0002a2 93f0 00e5 	STS  _buffer_G1+1,R31
0002a4 cf22      	RJMP _0xD
                 _0xE:
                 ;     245 }     
0002a5 9508      	RET
                 ;     246                                   
                 ;     247 static void _doScroll()
                 ;     248 {
                 __doScroll_G1:
                 ;     249     // init state                         
                 ;     250     DATA_STB = 0;
0002a6 9838      	CBI  0x7,0
                 ;     251     DATA_CLK = 0;   
0002a7 983a      	CBI  0x7,2
                 ;     252                             
                 ;     253     // scroll left with shift_step bit(s)
                 ;     254     if(tick_count >= scroll_rate)
0002a8 91e0 00ea 	LDS  R30,_scroll_rate_G1
0002aa 91a0 00ed 	LDS  R26,_tick_count_G1
0002ac 91b0 00ee 	LDS  R27,_tick_count_G1+1
0002ae e0f0      	LDI  R31,0
0002af 17ae      	CP   R26,R30
0002b0 07bf      	CPC  R27,R31
0002b1 f408      	BRSH PC+2
0002b2 c154      	RJMP _0x23
                 ;     255     {                             
                 ;     256         tick_count = 0; 
0002b3 e0e0      	LDI  R30,0
0002b4 93e0 00ed 	STS  _tick_count_G1,R30
0002b6 93e0 00ee 	STS  _tick_count_G1+1,R30
                 ;     257         is_show_bkgnd = 0;          
0002b8 94e8      	CLT
0002b9 f820      	BLD  R2,0
                 ;     258         switch (scroll_type)
0002ba 91e0 00eb 	LDS  R30,_scroll_type_G1
                 ;     259         {
                 ;     260         case FLYING_TEXT:        
0002bc 30e1      	CPI  R30,LOW(0x1)
0002bd f409      	BRNE _0x27
                 ;     261 #ifdef _MEGA162_INCLUDED_                      
                 ;     262             if (current_char_width > SCREEN_WIDTH){
                 ;     263                 if (is_stopping==0){
                 ;     264                     if (stopping_count < MAX_STOP_TIME){
                 ;     265                         is_stopping = 1;
                 ;     266                         start_mem = (PBYTE)(START_RAM_TEXT+SCREEN_WIDTH);
                 ;     267                     }
                 ;     268                     else{
                 ;     269                         start_mem++;
                 ;     270                     }
                 ;     271                 }
                 ;     272                 else{
                 ;     273                     if (++stopping_count > MAX_STOP_TIME){
                 ;     274                         is_stopping = 0;
                 ;     275                     }
                 ;     276                 }
                 ;     277                                   
                 ;     278             }
                 ;     279 		    else{
                 ;     280 			    start_mem += (8);
                 ;     281     			if (start_mem > (START_RAM_TEXT + SCREEN_WIDTH) - current_char_width){
                 ;     282 		    		char_index++;				 
                 ;     283 			    	current_char_width = char_width[char_index];
                 ;     284 				    next_char_width = char_width[char_index+1];				
                 ;     285     				start_mem = (PBYTE)START_RAM_TEXT + current_char_width;
                 ;     286 	    		}
                 ;     287 		    }  
                 ;     288 		    if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH + SCREEN_HIDE)+ text_length){
                 ;     289 		        LoadFrame();
                 ;     290 		    }                         
                 ;     291 #endif //_MEGA162_INCLUDED_             		    
                 ;     292             break;
0002be c148      	RJMP _0x26
                 ;     293         case SCROLL_TEXT:
                 _0x27:
0002bf 30e0      	CPI  R30,0
0002c0 f4c9      	BRNE _0x28
                 ;     294             start_mem++;    
0002c1 91e0 00e0 	LDS  R30,_start_mem_G1
0002c3 91f0 00e1 	LDS  R31,_start_mem_G1+1
0002c5 9631      	ADIW R30,1
0002c6 93e0 00e0 	STS  _start_mem_G1,R30
0002c8 93f0 00e1 	STS  _start_mem_G1+1,R31
0002ca 9731      	SBIW R30,1
                 ;     295             if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH + SCREEN_HIDE)+ text_length){
0002cb 91e0 00f1 	LDS  R30,_text_length_G1
0002cd 91f0 00f2 	LDS  R31,_text_length_G1+1
0002cf 55e0      	SUBI R30,LOW(-2736)
0002d0 4ff5      	SBCI R31,HIGH(-2736)
0002d1 91a0 00e0 	LDS  R26,_start_mem_G1
0002d3 91b0 00e1 	LDS  R27,_start_mem_G1+1
0002d5 17ae      	CP   R26,R30
0002d6 07bf      	CPC  R27,R31
0002d7 f008      	BRLO _0x29
                 ;     296 		        LoadFrame();
0002d8 d2af      	RCALL _LoadFrame
                 ;     297 		    }
                 ;     298             break;
                 _0x29:
0002d9 c12d      	RJMP _0x26
                 ;     299         case FLIPPING_TEXT:                                  
                 _0x28:
0002da 30e2      	CPI  R30,LOW(0x2)
0002db f009      	BREQ PC+2
0002dc c04d      	RJMP _0x2A
                 ;     300             if (start_mem < (START_RAM_TEXT + SCREEN_WIDTH)){		    
0002dd 91a0 00e0 	LDS  R26,_start_mem_G1
0002df 91b0 00e1 	LDS  R27,_start_mem_G1+1
0002e1 3aa0      	CPI  R26,LOW(0xAA0)
0002e2 e0ea      	LDI  R30,HIGH(0xAA0)
0002e3 07be      	CPC  R27,R30
0002e4 f450      	BRSH _0x2B
                 ;     301                 start_mem+=32;    
0002e5 91e0 00e0 	LDS  R30,_start_mem_G1
0002e7 91f0 00e1 	LDS  R31,_start_mem_G1+1
0002e9 96b0      	ADIW R30,32
0002ea 93e0 00e0 	STS  _start_mem_G1,R30
0002ec 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     302             }
                 ;     303             else {		    
0002ee c03a      	RJMP _0x2C
                 _0x2B:
                 ;     304                 if (is_power_off==0){                
0002ef fc21      	SBRC R2,1
0002f0 c013      	RJMP _0x2D
                 ;     305                     if (++stopping_count > MAX_STOP_TIME/2){
0002f1 91a0 00f3 	LDS  R26,_stopping_count_G1
0002f3 91b0 00f4 	LDS  R27,_stopping_count_G1+1
0002f5 9611      	ADIW R26,1
0002f6 93a0 00f3 	STS  _stopping_count_G1,R26
0002f8 93b0 00f4 	STS  _stopping_count_G1+1,R27
0002fa 97d3      	SBIW R26,51
0002fb f038      	BRLO _0x2E
                 ;     306                         is_power_off=1;                    
0002fc 9468      	SET
0002fd f821      	BLD  R2,1
                 ;     307                         stopping_count=0;                
0002fe e0e0      	LDI  R30,0
0002ff 93e0 00f3 	STS  _stopping_count_G1,R30
000301 93e0 00f4 	STS  _stopping_count_G1+1,R30
                 ;     308                     }
                 ;     309                 }
                 _0x2E:
                 ;     310                 else{                                     
000303 c025      	RJMP _0x2F
                 _0x2D:
                 ;     311                     if (++stopping_count > MAX_STOP_TIME){            
000304 91a0 00f3 	LDS  R26,_stopping_count_G1
000306 91b0 00f4 	LDS  R27,_stopping_count_G1+1
000308 9611      	ADIW R26,1
000309 93a0 00f3 	STS  _stopping_count_G1,R26
00030b 93b0 00f4 	STS  _stopping_count_G1+1,R27
00030d 36a5      	CPI  R26,LOW(0x65)
00030e e0e0      	LDI  R30,HIGH(0x65)
00030f 07be      	CPC  R27,R30
000310 f0c0      	BRLO _0x30
                 ;     312                         is_power_off=0;
000311 94e8      	CLT
000312 f821      	BLD  R2,1
                 ;     313                         stopping_count=0;                    
000313 e0e0      	LDI  R30,0
000314 93e0 00f3 	STS  _stopping_count_G1,R30
000316 93e0 00f4 	STS  _stopping_count_G1+1,R30
                 ;     314                         if(++flipping_count > MAX_FLIP_TIME){
000318 91a0 00f5 	LDS  R26,_flipping_count_G1
00031a 91b0 00f6 	LDS  R27,_flipping_count_G1+1
00031c 9611      	ADIW R26,1
00031d 93a0 00f5 	STS  _flipping_count_G1,R26
00031f 93b0 00f6 	STS  _flipping_count_G1+1,R27
000321 9714      	SBIW R26,4
000322 f030      	BRLO _0x31
                 ;     315                             flipping_count=0;
000323 e0e0      	LDI  R30,0
000324 93e0 00f5 	STS  _flipping_count_G1,R30
000326 93e0 00f6 	STS  _flipping_count_G1+1,R30
                 ;     316                             LoadFrame();
000328 d25f      	RCALL _LoadFrame
                 ;     317                         }
                 ;     318                     }
                 _0x31:
                 ;     319                 }
                 _0x30:
                 _0x2F:
                 ;     320             }
                 _0x2C:
                 ;     321             break;
000329 c0dd      	RJMP _0x26
                 ;     322         case SHOW_BKGND:      
                 _0x2A:
00032a 30e3      	CPI  R30,LOW(0x3)
00032b f4d9      	BRNE _0x32
                 ;     323             start_mem++;    
00032c 91e0 00e0 	LDS  R30,_start_mem_G1
00032e 91f0 00e1 	LDS  R31,_start_mem_G1+1
000330 9631      	ADIW R30,1
000331 93e0 00e0 	STS  _start_mem_G1,R30
000333 93f0 00e1 	STS  _start_mem_G1+1,R31
000335 9731      	SBIW R30,1
                 ;     324             is_show_bkgnd = 1;            
000336 9468      	SET
000337 f820      	BLD  R2,0
                 ;     325             if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH + SCREEN_HIDE)+ text_length){
000338 91e0 00f1 	LDS  R30,_text_length_G1
00033a 91f0 00f2 	LDS  R31,_text_length_G1+1
00033c 55e0      	SUBI R30,LOW(-2736)
00033d 4ff5      	SBCI R31,HIGH(-2736)
00033e 91a0 00e0 	LDS  R26,_start_mem_G1
000340 91b0 00e1 	LDS  R27,_start_mem_G1+1
000342 17ae      	CP   R26,R30
000343 07bf      	CPC  R27,R31
000344 f008      	BRLO _0x33
                 ;     326 		        LoadFrame();
000345 d242      	RCALL _LoadFrame
                 ;     327 		    }
                 ;     328             break;     
                 _0x33:
000346 c0c0      	RJMP _0x26
                 ;     329         case RIGHT_LEFT:
                 _0x32:
000347 30e4      	CPI  R30,LOW(0x4)
000348 f009      	BREQ PC+2
000349 c053      	RJMP _0x34
                 ;     330             if (start_mem < (START_RAM_TEXT + SCREEN_WIDTH)){		    
00034a 91a0 00e0 	LDS  R26,_start_mem_G1
00034c 91b0 00e1 	LDS  R27,_start_mem_G1+1
00034e 3aa0      	CPI  R26,LOW(0xAA0)
00034f e0ea      	LDI  R30,HIGH(0xAA0)
000350 07be      	CPC  R27,R30
000351 f430      	BRSH _0x35
                 ;     331                 start_mem+=8;    
000352 91e0 00e0 	LDS  R30,_start_mem_G1
000354 91f0 00e1 	LDS  R31,_start_mem_G1+1
000356 9638      	ADIW R30,8
000357 c032      	RJMP _0x11E
                 ;     332             }   
                 ;     333             else if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH) && start_mem < (START_RAM_TEXT + SCREEN_WIDTH)+8){
                 _0x35:
000358 91a0 00e0 	LDS  R26,_start_mem_G1
00035a 91b0 00e1 	LDS  R27,_start_mem_G1+1
00035c 3aa0      	CPI  R26,LOW(0xAA0)
00035d e0ea      	LDI  R30,HIGH(0xAA0)
00035e 07be      	CPC  R27,R30
00035f f020      	BRLO _0x38
000360 3aa8      	CPI  R26,LOW(0xAA8)
000361 e0ea      	LDI  R30,HIGH(0xAA8)
000362 07be      	CPC  R27,R30
000363 f008      	BRLO _0x39
                 _0x38:
000364 c01e      	RJMP _0x37
                 _0x39:
                 ;     334                 if (is_stopping==0){
000365 fc22      	SBRC R2,2
000366 c003      	RJMP _0x3A
                 ;     335                     is_stopping =1;
000367 9468      	SET
000368 f822      	BLD  R2,2
                 ;     336                 }
                 ;     337                 else{
000369 c018      	RJMP _0x3B
                 _0x3A:
                 ;     338                     if (++stopping_count > MAX_STOP_TIME){                       
00036a 91a0 00f3 	LDS  R26,_stopping_count_G1
00036c 91b0 00f4 	LDS  R27,_stopping_count_G1+1
00036e 9611      	ADIW R26,1
00036f 93a0 00f3 	STS  _stopping_count_G1,R26
000371 93b0 00f4 	STS  _stopping_count_G1+1,R27
000373 36a5      	CPI  R26,LOW(0x65)
000374 e0e0      	LDI  R30,HIGH(0x65)
000375 07be      	CPC  R27,R30
000376 f058      	BRLO _0x3C
                 ;     339                         is_stopping = 0; 
000377 94e8      	CLT
000378 f822      	BLD  R2,2
                 ;     340                         start_mem +=8;
000379 91e0 00e0 	LDS  R30,_start_mem_G1
00037b 91f0 00e1 	LDS  R31,_start_mem_G1+1
00037d 9638      	ADIW R30,8
00037e 93e0 00e0 	STS  _start_mem_G1,R30
000380 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     341                     }
                 ;     342                 }
                 _0x3C:
                 _0x3B:
                 ;     343             }
                 ;     344             else{
000382 c00b      	RJMP _0x3D
                 _0x37:
                 ;     345                 if (is_stopping==0){
000383 fc22      	SBRC R2,2
000384 c009      	RJMP _0x3E
                 ;     346                     start_mem++; 
000385 91e0 00e0 	LDS  R30,_start_mem_G1
000387 91f0 00e1 	LDS  R31,_start_mem_G1+1
000389 9631      	ADIW R30,1
                 _0x11E:
00038a 93e0 00e0 	STS  _start_mem_G1,R30
00038c 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     347                 }
                 ;     348             }                   
                 _0x3E:
                 _0x3D:
                 ;     349             if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH + SCREEN_HIDE)+ text_length){
00038e 91e0 00f1 	LDS  R30,_text_length_G1
000390 91f0 00f2 	LDS  R31,_text_length_G1+1
000392 55e0      	SUBI R30,LOW(-2736)
000393 4ff5      	SBCI R31,HIGH(-2736)
000394 91a0 00e0 	LDS  R26,_start_mem_G1
000396 91b0 00e1 	LDS  R27,_start_mem_G1+1
000398 17ae      	CP   R26,R30
000399 07bf      	CPC  R27,R31
00039a f008      	BRLO _0x3F
                 ;     350 		        LoadFrame();
00039b d1ec      	RCALL _LoadFrame
                 ;     351 		    }
                 ;     352             break;      
                 _0x3F:
00039c c06a      	RJMP _0x26
                 ;     353 #ifdef  __SCROLL_TOP_            
                 ;     354         case SCROLL_TOP: 
                 _0x34:
00039d 30e5      	CPI  R30,LOW(0x5)
00039e f599      	BRNE _0x40
                 ;     355             if (is_half_above==1){ 
00039f fe23      	SBRS R2,3
0003a0 c01c      	RJMP _0x41
                 ;     356                 if (is_stopping ==0){            
0003a1 fc22      	SBRC R2,2
0003a2 c00a      	RJMP _0x42
                 ;     357                     if (++horiz_idx >=SCREEN_HEIGHT){                
0003a3 01f4      	MOVW R30,R8
0003a4 9631      	ADIW R30,1
0003a5 014f      	MOVW R8,R30
0003a6 9770      	SBIW R30,16
0003a7 f024      	BRLT _0x43
                 ;     358                         is_half_below = 0;
0003a8 94e8      	CLT
0003a9 f824      	BLD  R2,4
                 ;     359                         is_half_above = 0;
0003aa f823      	BLD  R2,3
                 ;     360                         LoadFrame(); 
0003ab d1dc      	RCALL _LoadFrame
                 ;     361                     }
                 ;     362                 }
                 _0x43:
                 ;     363                 else{                  
0003ac c00f      	RJMP _0x44
                 _0x42:
                 ;     364                     if (++stopping_count > MAX_STOP_TIME){                       
0003ad 91a0 00f3 	LDS  R26,_stopping_count_G1
0003af 91b0 00f4 	LDS  R27,_stopping_count_G1+1
0003b1 9611      	ADIW R26,1
0003b2 93a0 00f3 	STS  _stopping_count_G1,R26
0003b4 93b0 00f4 	STS  _stopping_count_G1+1,R27
0003b6 36a5      	CPI  R26,LOW(0x65)
0003b7 e0e0      	LDI  R30,HIGH(0x65)
0003b8 07be      	CPC  R27,R30
0003b9 f010      	BRLO _0x45
                 ;     365                         is_stopping = 0;
0003ba 94e8      	CLT
0003bb f822      	BLD  R2,2
                 ;     366                     }
                 ;     367                 }
                 _0x45:
                 _0x44:
                 ;     368             }
                 ;     369             else if (is_half_below==1){                
0003bc c014      	RJMP _0x46
                 _0x41:
0003bd fe24      	SBRS R2,4
0003be c012      	RJMP _0x47
                 ;     370                 if (--horiz_idx <0){
0003bf 01f4      	MOVW R30,R8
0003c0 9731      	SBIW R30,1
0003c1 014f      	MOVW R8,R30
0003c2 01df      	MOVW R26,R30
0003c3 9710      	SBIW R26,0
0003c4 f464      	BRGE _0x48
                 ;     371                     horiz_idx =0; 
0003c5 2488      	CLR  R8
0003c6 2499      	CLR  R9
                 ;     372                     is_half_below = 0;
0003c7 94e8      	CLT
0003c8 f824      	BLD  R2,4
                 ;     373                     is_half_above = 1;
0003c9 9468      	SET
0003ca f823      	BLD  R2,3
                 ;     374                     is_stopping =1;
0003cb f822      	BLD  R2,2
                 ;     375                     stopping_count = 0; 
0003cc e0e0      	LDI  R30,0
0003cd 93e0 00f3 	STS  _stopping_count_G1,R30
0003cf 93e0 00f4 	STS  _stopping_count_G1+1,R30
                 ;     376                 }   
                 ;     377             }                                
                 _0x48:
                 ;     378             break;        
                 _0x47:
                 _0x46:
0003d1 c035      	RJMP _0x26
                 ;     379 #endif
                 ;     380 #ifdef  __SCROLL_BOTTOM_            
                 ;     381         case SCROLL_BOTTOM:
                 _0x40:
0003d2 30e6      	CPI  R30,LOW(0x6)
0003d3 f599      	BRNE _0x52
                 ;     382             if (is_half_below==1){       
0003d4 fe24      	SBRS R2,4
0003d5 c01c      	RJMP _0x4A
                 ;     383                 if (is_stopping ==0){      
0003d6 fc22      	SBRC R2,2
0003d7 c00a      	RJMP _0x4B
                 ;     384                     if (++horiz_idx >=SCREEN_HEIGHT){                
0003d8 01f4      	MOVW R30,R8
0003d9 9631      	ADIW R30,1
0003da 014f      	MOVW R8,R30
0003db 9770      	SBIW R30,16
0003dc f024      	BRLT _0x4C
                 ;     385                         is_half_below = 0;
0003dd 94e8      	CLT
0003de f824      	BLD  R2,4
                 ;     386                         is_half_above = 0; 
0003df f823      	BLD  R2,3
                 ;     387                         LoadFrame();                       
0003e0 d1a7      	RCALL _LoadFrame
                 ;     388                     }
                 ;     389                 }
                 _0x4C:
                 ;     390                 else{
0003e1 c00f      	RJMP _0x4D
                 _0x4B:
                 ;     391                     if (++stopping_count > MAX_STOP_TIME){                       
0003e2 91a0 00f3 	LDS  R26,_stopping_count_G1
0003e4 91b0 00f4 	LDS  R27,_stopping_count_G1+1
0003e6 9611      	ADIW R26,1
0003e7 93a0 00f3 	STS  _stopping_count_G1,R26
0003e9 93b0 00f4 	STS  _stopping_count_G1+1,R27
0003eb 36a5      	CPI  R26,LOW(0x65)
0003ec e0e0      	LDI  R30,HIGH(0x65)
0003ed 07be      	CPC  R27,R30
0003ee f010      	BRLO _0x4E
                 ;     392                         is_stopping = 0;
0003ef 94e8      	CLT
0003f0 f822      	BLD  R2,2
                 ;     393                     }
                 ;     394                 }
                 _0x4E:
                 _0x4D:
                 ;     395             }
                 ;     396             else if (is_half_above==1){
0003f1 c015      	RJMP _0x4F
                 _0x4A:
0003f2 fe23      	SBRS R2,3
0003f3 c013      	RJMP _0x50
                 ;     397                 if (--horiz_idx <0){
0003f4 01f4      	MOVW R30,R8
0003f5 9731      	SBIW R30,1
0003f6 014f      	MOVW R8,R30
0003f7 01df      	MOVW R26,R30
0003f8 9710      	SBIW R26,0
0003f9 f46c      	BRGE _0x51
                 ;     398                     horiz_idx =0; 
0003fa 2488      	CLR  R8
0003fb 2499      	CLR  R9
                 ;     399                     is_half_below = 1;
0003fc 9468      	SET
0003fd f824      	BLD  R2,4
                 ;     400                     is_half_above = 0;     
0003fe 94e8      	CLT
0003ff f823      	BLD  R2,3
                 ;     401                     is_stopping =1;
000400 9468      	SET
000401 f822      	BLD  R2,2
                 ;     402                     stopping_count = 0; 
000402 e0e0      	LDI  R30,0
000403 93e0 00f3 	STS  _stopping_count_G1,R30
000405 93e0 00f4 	STS  _stopping_count_G1+1,R30
                 ;     403                 }  
                 ;     404             }                       
                 _0x51:
                 ;     405             break;              
                 _0x50:
                 _0x4F:
                 ;     406 #endif
                 ;     407 #ifdef __SHOW_DATE_STR_            
                 ;     408         case SHOW_DATE_STR:            
                 ;     409             start_mem++;    
                 ;     410             if (start_mem >= (START_RAM_TEXT + SCREEN_WIDTH + SCREEN_HIDE)+ text_length){
                 ;     411 		        LoadFrame();
                 ;     412 		    }            
                 ;     413             break; 
                 ;     414 #endif            
                 ;     415         default:
                 _0x52:
                 ;     416             break;
                 ;     417         }
                 _0x26:
                 ;     418     }        
                 ;     419 
                 ;     420 }                 
                 _0x23:
000407 9508      	RET
                 ;     421 
                 ;     422                                           
                 ;     423 ////////////////////////////////////////////////////////////////////
                 ;     424 // General functions
                 ;     425 //////////////////////////////////////////////////////////////////// 
                 ;     426 #define RESET_WATCHDOG()    #asm("WDR");
                 ;     427 
                 ;     428 void SerialToRAM(PBYTE address,WORD length, BYTE type)                                             
                 ;     429 {
                 _SerialToRAM:
                 ;     430     PBYTE temp = 0;          
                 ;     431     UINT i =0, row =0;     				
                 ;     432     temp   = (PBYTE)address;    
000408 d784      	RCALL __SAVELOCR6
                 ;	*address -> Y+9
                 ;	length -> Y+7
                 ;	type -> Y+6
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
                 ;	row -> R20,R21
000409 e000      	LDI  R16,LOW(0x00)
00040a e010      	LDI  R17,HIGH(0x00)
00040b e020      	LDI  R18,0
00040c e030      	LDI  R19,0
00040d e040      	LDI  R20,0
00040e e050      	LDI  R21,0
00040f 8509
000410 851a      	__GETWRS 16,17,9
                 ;     433     LED_STATUS = 0;
000411 98c4      	CBI  0x18,4
                 ;     434     for (row =0; row < 8; row++)
000412 e040
000413 e050      	__GETWRN 20,21,0
                 _0x54:
000414 3048
000415 e0e0
000416 075e      	__CPWRN 20,21,8
000417 f510      	BRSH _0x55
                 ;     435     {
                 ;     436         for (i =0; i< length; i++) 
000418 e020
000419 e030      	__GETWRN 18,19,0
                 _0x57:
00041a 81ef      	LDD  R30,Y+7
00041b 85f8      	LDD  R31,Y+7+1
00041c 172e      	CP   R18,R30
00041d 073f      	CPC  R19,R31
00041e f468      	BRSH _0x58
                 ;     437         {
                 ;     438             *temp++ = ~getchar();
00041f 931f      	PUSH R17
000420 930f      	PUSH R16
000421 5f0f
000422 4f1f      	__ADDWRN 16,17,1
000423 d4b7      	RCALL _getchar
000424 95e0      	COM  R30
000425 91af      	POP  R26
000426 91bf      	POP  R27
000427 93ec      	ST   X,R30
                 ;     439             RESET_WATCHDOG();
000428 95a8      	WDR
                 ;     440         }                               
000429 5f2f
00042a 4f3f      	__ADDWRN 18,19,1
00042b cfee      	RJMP _0x57
                 _0x58:
                 ;     441         if (type == FRAME_TEXT)   
00042c 81ee      	LDD  R30,Y+6
00042d 30e0      	CPI  R30,0
00042e f441      	BRNE _0x59
                 ;     442             temp += DATA_LENGTH - length;        
00042f 81af      	LDD  R26,Y+7
000430 85b8      	LDD  R27,Y+7+1
000431 ece0      	LDI  R30,LOW(3776)
000432 e0fe      	LDI  R31,HIGH(3776)
000433 1bea      	SUB  R30,R26
000434 0bfb      	SBC  R31,R27
000435 0f0e
000436 1f1f      	__ADDWRR 16,17,30,31
                 ;     443     }              
                 _0x59:
000437 5f4f
000438 4f5f      	__ADDWRN 20,21,1
000439 cfda      	RJMP _0x54
                 _0x55:
                 ;     444     LED_STATUS = 1;
00043a 9ac4      	SBI  0x18,4
                 ;     445 }
00043b d758      	RCALL __LOADLOCR6
00043c 962b      	ADIW R28,11
00043d 9508      	RET
                 ;     446 
                 ;     447 void LoadCharWidth(WORD length)
                 ;     448 {
                 _LoadCharWidth:
                 ;     449 #ifdef _MEGA162_INCLUDED_                                            
                 ;     450     UINT i =0;  
                 ;     451     LED_STATUS = 0;   
                 ;     452     for (i =0; i < length; i++)
                 ;     453     {                           
                 ;     454         WORD data = 0;
                 ;     455         data = getchar();                       // LOBYTE 
                 ;     456         RESET_WATCHDOG();       
                 ;     457         char_width[i] = data;        
                 ;     458         data = getchar();                       // HIBYTE
                 ;     459         RESET_WATCHDOG();
                 ;     460         char_width[i] |= (data<<8)&0xFF00;
                 ;     461     }                  
                 ;     462     current_char_width = 0xFFFF;
                 ;     463     
                 ;     464     LED_STATUS = 1;                   
                 ;     465 #endif    
                 ;     466 }
00043e 9622      	ADIW R28,2
00043f 9508      	RET
                 ;     467 
                 ;     468 void SaveCharWidth(WORD length, BYTE index)
                 ;     469 {     
                 _SaveCharWidth:
                 ;     470 #ifdef _MEGA162_INCLUDED_             
                 ;     471     UINT i =0;                 
                 ;     472     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     473     PBYTE base  = 0x0A;   
                 ;     474     devID += index<<1;
                 ;     475     i2c_init();
                 ;     476     LED_STATUS = 0;   
                 ;     477     for (i =0; i < length; i++)
                 ;     478     {                           
                 ;     479         eeprom_write_w(devID,base+i<<1,char_width[i]);
                 ;     480         RESET_WATCHDOG();
                 ;     481     }              
                 ;     482     LED_STATUS = 1; 
                 ;     483     PORTD = 0x00;
                 ;     484     DDRD = 0x3F;                      
                 ;     485 #endif    
                 ;     486 }
                 ;     487 
                 ;     488 void GetCharWidth(WORD length, BYTE index)
                 ;     489 {     
                 _GetCharWidth:
                 ;     490 #ifdef _MEGA162_INCLUDED_                                       
                 ;     491     UINT i =0;   
                 ;     492     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     493     PBYTE base  = 0x0A;              
                 ;     494     devID += index<<1;
                 ;     495     i2c_init();
                 ;     496     LED_STATUS = 0;   
                 ;     497     for (i =0; i < length; i++)
                 ;     498     {                           
                 ;     499         char_width[i] = eeprom_read_w(devID,base+i<<1);        
                 ;     500         RESET_WATCHDOG();
                 ;     501     }                      
                 ;     502     LED_STATUS = 1;
                 ;     503     PORTD = 0x00;
                 ;     504     DDRD = 0x3F;                      
                 ;     505 #endif    
                 ;     506 }
                 _0x117:
000440 9623      	ADIW R28,3
000441 9508      	RET
                 ;     507 
                 ;     508 void SaveToEEPROM(PBYTE address, BYTE type, BYTE index)
                 ;     509 {                             
                 _SaveToEEPROM:
                 ;     510     PBYTE temp = 0;    
                 ;     511     PBYTE end  = START_RAM_TEXT;     
                 ;     512     BYTE devID = EEPROM_DEVICE_BASE;      				
                 ;     513     devID += index<<1;
000442 d74b      	RCALL __SAVELOCR5
                 ;	*address -> Y+7
                 ;	type -> Y+6
                 ;	index -> Y+5
                 ;	*temp -> R16,R17
                 ;	*end -> R18,R19
                 ;	devID -> R20
000443 e000      	LDI  R16,LOW(0x00)
000444 e010      	LDI  R17,HIGH(0x00)
000445 e020      	LDI  R18,LOW(0xA00)
000446 e03a      	LDI  R19,HIGH(0xA00)
000447 ea40      	LDI  R20,160
000448 81ed      	LDD  R30,Y+5
000449 0fee      	LSL  R30
00044a 0f4e      	ADD  R20,R30
                 ;     514     temp   = address;         
00044b 810f
00044c 8518      	__GETWRS 16,17,7
                 ;     515            
                 ;     516     i2c_init();
00044d d66b      	RCALL _i2c_init
                 ;     517     LED_STATUS = 0;        
00044e 98c4      	CBI  0x18,4
                 ;     518     
                 ;     519     if (type == FRAME_TEXT) end = (PBYTE)END_RAM;
00044f 81ee      	LDD  R30,Y+6
000450 30e0      	CPI  R30,0
000451 f411      	BRNE _0x5A
000452 ef2f
000453 e73f      	__GETWRN 18,19,32767
                 ;     520     
                 ;     521     for (temp = address; temp < end; temp+= EEPROM_PAGE) 
                 _0x5A:
000454 810f
000455 8518      	__GETWRS 16,17,7
                 _0x5C:
000456 1702
000457 0713      	__CPWRR 16,17,18,19
000458 f460      	BRSH _0x5D
                 ;     522     {   
                 ;     523         RESET_WATCHDOG();               
000459 95a8      	WDR
                 ;     524         eeprom_write_page( devID, temp, temp, EEPROM_PAGE);	      
00045a 934a      	ST   -Y,R20
00045b 931a      	ST   -Y,R17
00045c 930a      	ST   -Y,R16
00045d 931a      	ST   -Y,R17
00045e 930a      	ST   -Y,R16
00045f e4e0      	LDI  R30,LOW(64)
000460 93ea      	ST   -Y,R30
000461 d451      	RCALL _eeprom_write_page
                 ;     525     }       
000462 5c00
000463 4f1f      	__ADDWRN 16,17,64
000464 cff1      	RJMP _0x5C
                 _0x5D:
                 ;     526     LED_STATUS = 1;
000465 9ac4      	SBI  0x18,4
                 ;     527     PORTD = 0x00;
000466 e0e0      	LDI  R30,LOW(0)
000467 bbe2      	OUT  0x12,R30
                 ;     528     DDRD = 0x3F;    
000468 e3ef      	LDI  R30,LOW(63)
000469 bbe1      	OUT  0x11,R30
                 ;     529 }
00046a d72a      	RCALL __LOADLOCR5
00046b 9629      	ADIW R28,9
00046c 9508      	RET
                 ;     530                       
                 ;     531 void LoadToRAM(PBYTE address, WORD length, BYTE type, BYTE index)
                 ;     532 {                         
                 _LoadToRAM:
                 ;     533     PBYTE temp = 0;          
                 ;     534     UINT i =0, row =0;    
                 ;     535     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     536     devID += index<<1;      				
00046d 9721      	SBIW R28,1
00046e e081      	LDI  R24,1
00046f e0a0      	LDI  R26,LOW(0)
000470 e0b0      	LDI  R27,HIGH(0)
000471 e3ee      	LDI  R30,LOW(_0x5E*2)
000472 e0f0      	LDI  R31,HIGH(_0x5E*2)
000473 d72a      	RCALL __INITLOCB
000474 d718      	RCALL __SAVELOCR6
                 ;	*address -> Y+11
                 ;	length -> Y+9
                 ;	type -> Y+8
                 ;	index -> Y+7
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
                 ;	row -> R20,R21
                 ;	devID -> Y+6
000475 e000      	LDI  R16,LOW(0x00)
000476 e010      	LDI  R17,HIGH(0x00)
000477 e020      	LDI  R18,0
000478 e030      	LDI  R19,0
000479 e040      	LDI  R20,0
00047a e050      	LDI  R21,0
00047b 81ef      	LDD  R30,Y+7
00047c 0fee      	LSL  R30
00047d 81ae      	LDD  R26,Y+6
00047e 0fea      	ADD  R30,R26
00047f 83ee      	STD  Y+6,R30
                 ;     537     temp   = address;                 
000480 850b
000481 851c      	__GETWRS 16,17,11
                 ;     538     
                 ;     539     if (length > DATA_LENGTH)    
000482 85a9      	LDD  R26,Y+9
000483 85ba      	LDD  R27,Y+9+1
000484 3ca1      	CPI  R26,LOW(0xEC1)
000485 e0ee      	LDI  R30,HIGH(0xEC1)
000486 07be      	CPC  R27,R30
000487 f018      	BRLO _0x5F
                 ;     540         return; // invalid param
000488 d70b      	RCALL __LOADLOCR6
000489 962d      	ADIW R28,13
00048a 9508      	RET
                 ;     541     if (length%EEPROM_PAGE)
                 _0x5F:
00048b 85e9      	LDD  R30,Y+9
00048c 85fa      	LDD  R31,Y+9+1
00048d 73ef      	ANDI R30,LOW(0x3F)
00048e f059      	BREQ _0x60
                 ;     542         length = EEPROM_PAGE*(length/EEPROM_PAGE) + EEPROM_PAGE;        
00048f 85a9      	LDD  R26,Y+9
000490 85ba      	LDD  R27,Y+9+1
000491 e4e0      	LDI  R30,LOW(64)
000492 e0f0      	LDI  R31,HIGH(64)
000493 d6cb      	RCALL __DIVW21U
000494 d6b8      	RCALL __LSLW2
000495 d6b3      	RCALL __LSLW4
000496 5ce0      	SUBI R30,LOW(-64)
000497 4fff      	SBCI R31,HIGH(-64)
000498 87e9      	STD  Y+9,R30
000499 87fa      	STD  Y+9+1,R31
                 ;     543 
                 ;     544     i2c_init();
                 _0x60:
00049a d61e      	RCALL _i2c_init
                 ;     545     LED_STATUS = 0;             
00049b 98c4      	CBI  0x18,4
                 ;     546 
                 ;     547     for (row =0; row < 8; row++)            
00049c e040
00049d e050      	__GETWRN 20,21,0
                 _0x62:
00049e 3048
00049f e0e0
0004a0 075e      	__CPWRN 20,21,8
0004a1 f520      	BRSH _0x63
                 ;     548     {                           
                 ;     549         for (i =0; i< length; i+=EEPROM_PAGE) 
0004a2 e020
0004a3 e030      	__GETWRN 18,19,0
                 _0x65:
0004a4 85e9      	LDD  R30,Y+9
0004a5 85fa      	LDD  R31,Y+9+1
0004a6 172e      	CP   R18,R30
0004a7 073f      	CPC  R19,R31
0004a8 f478      	BRSH _0x66
                 ;     550         {                                 
                 ;     551             eeprom_read_page( devID, temp, temp, EEPROM_PAGE );	                                   
0004a9 81ee      	LDD  R30,Y+6
0004aa 93ea      	ST   -Y,R30
0004ab 931a      	ST   -Y,R17
0004ac 930a      	ST   -Y,R16
0004ad 931a      	ST   -Y,R17
0004ae 930a      	ST   -Y,R16
0004af e4e0      	LDI  R30,LOW(64)
0004b0 93ea      	ST   -Y,R30
0004b1 d3c6      	RCALL _eeprom_read_page
                 ;     552             temp += EEPROM_PAGE;
0004b2 5c00
0004b3 4f1f      	__ADDWRN 16,17,64
                 ;     553             RESET_WATCHDOG();     
0004b4 95a8      	WDR
                 ;     554         }         
0004b5 5c20
0004b6 4f3f      	__ADDWRN 18,19,64
0004b7 cfec      	RJMP _0x65
                 _0x66:
                 ;     555         if (type == FRAME_TEXT)  
0004b8 85e8      	LDD  R30,Y+8
0004b9 30e0      	CPI  R30,0
0004ba f441      	BRNE _0x67
                 ;     556             temp += DATA_LENGTH - length;  
0004bb 85a9      	LDD  R26,Y+9
0004bc 85ba      	LDD  R27,Y+9+1
0004bd ece0      	LDI  R30,LOW(3776)
0004be e0fe      	LDI  R31,HIGH(3776)
0004bf 1bea      	SUB  R30,R26
0004c0 0bfb      	SBC  R31,R27
0004c1 0f0e
0004c2 1f1f      	__ADDWRR 16,17,30,31
                 ;     557     }             
                 _0x67:
0004c3 5f4f
0004c4 4f5f      	__ADDWRN 20,21,1
0004c5 cfd8      	RJMP _0x62
                 _0x63:
                 ;     558     
                 ;     559     LED_STATUS = 1; 
0004c6 9ac4      	SBI  0x18,4
                 ;     560     PORTD = 0x00;
0004c7 e0e0      	LDI  R30,LOW(0)
0004c8 bbe2      	OUT  0x12,R30
                 ;     561     DDRD = 0x3F;  
0004c9 e3ef      	LDI  R30,LOW(63)
0004ca bbe1      	OUT  0x11,R30
                 ;     562 }
0004cb d6c8      	RCALL __LOADLOCR6
0004cc 962d      	ADIW R28,13
0004cd 9508      	RET
                 ;     563 
                 ;     564 
                 ;     565 void LoadConfig(BYTE index)
                 ;     566 {   
                 _LoadConfig:
                 ;     567     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     568     devID += index<<1; 
0004ce 930a      	ST   -Y,R16
                 ;	index -> Y+1
                 ;	devID -> R16
0004cf ea00      	LDI  R16,160
0004d0 81e9      	LDD  R30,Y+1
0004d1 0fee      	LSL  R30
0004d2 0f0e      	ADD  R16,R30
                 ;     569     i2c_init();
0004d3 d5e5      	RCALL _i2c_init
                 ;     570     LED_STATUS = 1;                               
0004d4 9ac4      	SBI  0x18,4
                 ;     571     scroll_type   = eeprom_read(devID,0);
0004d5 930a      	ST   -Y,R16
0004d6 e0e0      	LDI  R30,LOW(0)
0004d7 e0f0      	LDI  R31,HIGH(0)
0004d8 93fa      	ST   -Y,R31
0004d9 93ea      	ST   -Y,R30
0004da d331      	RCALL _eeprom_read
0004db 93e0 00eb 	STS  _scroll_type_G1,R30
                 ;     572     scroll_rate = eeprom_read(devID,(PBYTE)1);
0004dd 930a      	ST   -Y,R16
0004de e0e1      	LDI  R30,LOW(1)
0004df e0f0      	LDI  R31,HIGH(1)
0004e0 93fa      	ST   -Y,R31
0004e1 93ea      	ST   -Y,R30
0004e2 d329      	RCALL _eeprom_read
0004e3 93e0 00ea 	STS  _scroll_rate_G1,R30
                 ;     573     text_length =  eeprom_read_w(devID,(PBYTE)2); 
0004e5 930a      	ST   -Y,R16
0004e6 e0e2      	LDI  R30,LOW(2)
0004e7 e0f0      	LDI  R31,HIGH(2)
0004e8 93fa      	ST   -Y,R31
0004e9 93ea      	ST   -Y,R30
0004ea d354      	RCALL _eeprom_read_w
0004eb 93e0 00f1 	STS  _text_length_G1,R30
0004ed 93f0 00f2 	STS  _text_length_G1+1,R31
                 ;     574     char_count =  eeprom_read_w(devID,(PBYTE)4); 
0004ef 930a      	ST   -Y,R16
0004f0 e0e4      	LDI  R30,LOW(4)
0004f1 e0f0      	LDI  R31,HIGH(4)
0004f2 93fa      	ST   -Y,R31
0004f3 93ea      	ST   -Y,R30
0004f4 d34a      	RCALL _eeprom_read_w
0004f5 93e0 00ef 	STS  _char_count_G1,R30
0004f7 93f0 00f0 	STS  _char_count_G1+1,R31
                 ;     575     if (text_length > DATA_LENGTH){
0004f9 91a0 00f1 	LDS  R26,_text_length_G1
0004fb 91b0 00f2 	LDS  R27,_text_length_G1+1
0004fd 3ca1      	CPI  R26,LOW(0xEC1)
0004fe e0ee      	LDI  R30,HIGH(0xEC1)
0004ff 07be      	CPC  R27,R30
000500 f028      	BRLO _0x68
                 ;     576         text_length= 0;            
000501 e0e0      	LDI  R30,0
000502 93e0 00f1 	STS  _text_length_G1,R30
000504 93e0 00f2 	STS  _text_length_G1+1,R30
                 ;     577     }
                 ;     578     if (char_count > 255){
                 _0x68:
000506 91a0 00ef 	LDS  R26,_char_count_G1
000508 91b0 00f0 	LDS  R27,_char_count_G1+1
00050a 30a0      	CPI  R26,LOW(0x100)
00050b e0e1      	LDI  R30,HIGH(0x100)
00050c 07be      	CPC  R27,R30
00050d f028      	BRLO _0x69
                 ;     579         char_count = 0;
00050e e0e0      	LDI  R30,0
00050f 93e0 00ef 	STS  _char_count_G1,R30
000511 93e0 00f0 	STS  _char_count_G1+1,R30
                 ;     580     }
                 ;     581     LED_STATUS = 0; 
                 _0x69:
000513 98c4      	CBI  0x18,4
                 ;     582     PORTD = 0x00;
000514 e0e0      	LDI  R30,LOW(0)
000515 bbe2      	OUT  0x12,R30
                 ;     583     DDRD = 0x3F;   
000516 e3ef      	LDI  R30,LOW(63)
000517 bbe1      	OUT  0x11,R30
                 ;     584 }
000518 8108      	LDD  R16,Y+0
000519 c190      	RJMP _0x116
                 ;     585 
                 ;     586 void SaveConfig(BYTE index)
                 ;     587 {     
                 _SaveConfig:
                 ;     588     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     589     devID += index<<1; 
00051a 930a      	ST   -Y,R16
                 ;	index -> Y+1
                 ;	devID -> R16
00051b ea00      	LDI  R16,160
00051c 81e9      	LDD  R30,Y+1
00051d 0fee      	LSL  R30
00051e 0f0e      	ADD  R16,R30
                 ;     590     i2c_init();
00051f d599      	RCALL _i2c_init
                 ;     591     LED_STATUS = 1;  
000520 9ac4      	SBI  0x18,4
                 ;     592     eeprom_write(devID,(PBYTE)0,scroll_type);
000521 930a      	ST   -Y,R16
000522 e0e0      	LDI  R30,LOW(0)
000523 e0f0      	LDI  R31,HIGH(0)
000524 93fa      	ST   -Y,R31
000525 93ea      	ST   -Y,R30
000526 91e0 00eb 	LDS  R30,_scroll_type_G1
000528 93ea      	ST   -Y,R30
000529 d2fd      	RCALL _eeprom_write
                 ;     593     eeprom_write(devID,(PBYTE)1,scroll_rate);   
00052a 930a      	ST   -Y,R16
00052b e0e1      	LDI  R30,LOW(1)
00052c e0f0      	LDI  R31,HIGH(1)
00052d 93fa      	ST   -Y,R31
00052e 93ea      	ST   -Y,R30
00052f 91e0 00ea 	LDS  R30,_scroll_rate_G1
000531 93ea      	ST   -Y,R30
000532 d2f4      	RCALL _eeprom_write
                 ;     594     LED_STATUS = 0; 
000533 98c4      	CBI  0x18,4
                 ;     595     PORTD = 0x00;
000534 e0e0      	LDI  R30,LOW(0)
000535 bbe2      	OUT  0x12,R30
                 ;     596     DDRD = 0x3F;   
000536 e3ef      	LDI  R30,LOW(63)
000537 bbe1      	OUT  0x11,R30
                 ;     597 }
000538 8108      	LDD  R16,Y+0
000539 c170      	RJMP _0x116
                 ;     598 
                 ;     599 void SaveTextLength(WORD length, BYTE index)
                 ;     600 {
                 _SaveTextLength:
                 ;     601     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     602     devID += index<<1; 
00053a 930a      	ST   -Y,R16
                 ;	length -> Y+2
                 ;	index -> Y+1
                 ;	devID -> R16
00053b ea00      	LDI  R16,160
00053c 81e9      	LDD  R30,Y+1
00053d 0fee      	LSL  R30
00053e 0f0e      	ADD  R16,R30
                 ;     603     i2c_init();
00053f d579      	RCALL _i2c_init
                 ;     604     LED_STATUS = 1;   
000540 9ac4      	SBI  0x18,4
                 ;     605     eeprom_write_w(devID, (PBYTE)2,length); 
000541 930a      	ST   -Y,R16
000542 e0e2      	LDI  R30,LOW(2)
000543 e0f0      	LDI  R31,HIGH(2)
000544 93fa      	ST   -Y,R31
000545 93ea      	ST   -Y,R30
000546 81ed      	LDD  R30,Y+5
000547 81fe      	LDD  R31,Y+5+1
000548 93fa      	ST   -Y,R31
000549 93ea      	ST   -Y,R30
00054a d315      	RCALL _eeprom_write_w
                 ;     606     eeprom_write_w(devID, (PBYTE)4,char_count); 
00054b 930a      	ST   -Y,R16
00054c e0e4      	LDI  R30,LOW(4)
00054d e0f0      	LDI  R31,HIGH(4)
00054e 93fa      	ST   -Y,R31
00054f 93ea      	ST   -Y,R30
000550 91e0 00ef 	LDS  R30,_char_count_G1
000552 91f0 00f0 	LDS  R31,_char_count_G1+1
000554 93fa      	ST   -Y,R31
000555 93ea      	ST   -Y,R30
000556 d309      	RCALL _eeprom_write_w
                 ;     607     LED_STATUS = 0;
000557 98c4      	CBI  0x18,4
                 ;     608     PORTD = 0x00;
000558 e0e0      	LDI  R30,LOW(0)
000559 bbe2      	OUT  0x12,R30
                 ;     609     DDRD = 0x3F;        
00055a e3ef      	LDI  R30,LOW(63)
00055b bbe1      	OUT  0x11,R30
                 ;     610 }
00055c 8108      	LDD  R16,Y+0
00055d 9624      	ADIW R28,4
00055e 9508      	RET
                 ;     611 
                 ;     612 void BlankRAM(PBYTE start_addr,PBYTE end_addr)
                 ;     613 {        
                 _BlankRAM:
                 ;     614     PBYTE temp = START_RAM;
                 ;     615     for (temp = start_addr; temp<= end_addr; temp++)    
00055f d631      	RCALL __SAVELOCR2
                 ;	*start_addr -> Y+4
                 ;	*end_addr -> Y+2
                 ;	*temp -> R16,R17
000560 e000      	LDI  R16,LOW(0x500)
000561 e015      	LDI  R17,HIGH(0x500)
000562 810c
000563 811d      	__GETWRS 16,17,4
                 _0x6B:
000564 81ea      	LDD  R30,Y+2
000565 81fb      	LDD  R31,Y+2+1
000566 17e0      	CP   R30,R16
000567 07f1      	CPC  R31,R17
000568 f030      	BRLO _0x6C
                 ;     616         *temp = 0xFF;             
000569 01d8      	MOVW R26,R16
00056a efef      	LDI  R30,LOW(255)
00056b 93ec      	ST   X,R30
                 ;     617 }
00056c 5f0f
00056d 4f1f      	__ADDWRN 16,17,1
00056e cff5      	RJMP _0x6B
                 _0x6C:
00056f d628      	RCALL __LOADLOCR2
000570 9626      	ADIW R28,6
000571 9508      	RET
                 ;     618 
                 ;     619 void SetRTCDateTime()
                 ;     620 {
                 _SetRTCDateTime:
                 ;     621     i2c_init();
000572 d546      	RCALL _i2c_init
                 ;     622     LED_STATUS = 0;   
000573 98c4      	CBI  0x18,4
                 ;     623     rtc_set_date(getchar(),getchar(),getchar());
000574 d366      	RCALL _getchar
000575 93ea      	ST   -Y,R30
000576 d364      	RCALL _getchar
000577 93ea      	ST   -Y,R30
000578 d362      	RCALL _getchar
000579 93ea      	ST   -Y,R30
00057a d525      	RCALL _rtc_set_date
                 ;     624     rtc_set_time(getchar(),getchar(),getchar());    
00057b d35f      	RCALL _getchar
00057c 93ea      	ST   -Y,R30
00057d d35d      	RCALL _getchar
00057e 93ea      	ST   -Y,R30
00057f d35b      	RCALL _getchar
000580 93ea      	ST   -Y,R30
000581 d506      	RCALL _rtc_set_time
                 ;     625     LED_STATUS = 1;
000582 9ac4      	SBI  0x18,4
                 ;     626     PORTD = 0x00;
000583 e0e0      	LDI  R30,LOW(0)
000584 bbe2      	OUT  0x12,R30
                 ;     627     DDRD = 0x3F; 
000585 e3ef      	LDI  R30,LOW(63)
000586 bbe1      	OUT  0x11,R30
                 ;     628 }
000587 9508      	RET
                 ;     629 
                 ;     630 static void TextFromFont(char *szText, BYTE nColor, BYTE bGradient, PBYTE pBuffer, BYTE index)
                 ;     631 {                                             
                 ;     632 #ifdef _MEGA162_INCLUDED_             
                 ;     633 	int pos = 0,x=0,y=0;     
                 ;     634 	BYTE i =0, len;
                 ;     635 	BYTE ch = 0;
                 ;     636 	UINT nWidth = 0;   
                 ;     637 	UINT nCurWidth = 0, nNxtWidth = 0;		
                 ;     638     BYTE mask = 0x00, data = 0;
                 ;     639 	BYTE mask_clr[2] = {0x00};
                 ;     640     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     641     devID += index<<1; 
                 ;     642     	
                 ;     643 	switch (nColor)
                 ;     644 	{
                 ;     645 	case 0:
                 ;     646 		mask = 0xFF;		// BLANK
                 ;     647 		mask_clr[0] = 0xFF;
                 ;     648 		mask_clr[1] = 0xFF;
                 ;     649 		break;
                 ;     650 	case 1:
                 ;     651 		mask = 0xAA;		// RED			RRRR	
                 ;     652 		mask_clr[0] = 0x99;	// GREEN		RGRG
                 ;     653 		mask_clr[1] = 0x88;	// YELLOW		RYRY
                 ;     654 		break;
                 ;     655 	case 2:
                 ;     656 		mask = 0x55;		// GREEN		GGGG
                 ;     657 		mask_clr[0] = 0x44;	// YELLOW		GYGY
                 ;     658 		mask_clr[1] = 0x66;	// RED			GRGR	
                 ;     659 		break;
                 ;     660 	case 3:
                 ;     661 		mask = 0x00;		// YELLOW		YYYY
                 ;     662 		mask_clr[0] = 0x22;	// RED			YRYR	
                 ;     663 		mask_clr[1] = 0x11;	// GREEN		YGYG
                 ;     664 		break;
                 ;     665 	default:
                 ;     666 		break;
                 ;     667 	}	
                 ;     668                            
                 ;     669 	LED_STATUS = 0;
                 ;     670 	i2c_init();
                 ;     671 	len = strlen(szText);
                 ;     672     
                 ;     673 	for (i=0; i< len; i++){				                                     
                 ;     674         ch = szText[i];             
                 ;     675 		nCurWidth = char_width[ch];
                 ;     676 		nNxtWidth = char_width[(WORD)ch+1];
                 ;     677 		nWidth = (nNxtWidth - nCurWidth); 		
                 ;     678 		if ((pos + nWidth) >= DATA_LENGTH)  break;		
                 ;     679 		for (y=0; y< 8 ; y++){    		            
                 ;     680 		    if (bGradient) {
                 ;     681 				if (y >=0 && y <4)	mask = mask_clr[0];
                 ;     682 				if (y >=4 && y <8)	mask = mask_clr[1];	
                 ;     683 			}			
                 ;     684 			for (x=0; x< nWidth; x++){                                 
                 ;     685 			    RESET_WATCHDOG();       
                 ;     686 			    data = eeprom_read(devID, (PBYTE)START_RAM_TEXT + SCREEN_WIDTH + y*DATA_LENGTH + nCurWidth + x);
                 ;     687 			    data = (~data) & (~mask);
                 ;     688    				pBuffer[y*DATA_LENGTH + x + pos] = ~data;   				
                 ;     689 			}					
                 ;     690 		}
                 ;     691 		pos += nWidth;	 		
                 ;     692 	}	                           
                 ;     693     
                 ;     694     text_length = pos;
                 ;     695             
                 ;     696     LED_STATUS = 1;
                 ;     697     PORTD = 0x00;
                 ;     698     DDRD = 0x3F;                      
                 ;     699 #endif    
                 ;     700 }
                 ;     701 
                 ;     702 void LoadFrame()
                 ;     703 {  
                 _LoadFrame:
                 ;     704     is_stopping = 0;
000588 94e8      	CLT
000589 f822      	BLD  R2,2
                 ;     705     stopping_count = 0;
00058a e0e0      	LDI  R30,0
00058b 93e0 00f3 	STS  _stopping_count_G1,R30
00058d 93e0 00f4 	STS  _stopping_count_G1+1,R30
                 ;     706     if (++frame_index >= MAX_FRAME){
00058f 91a0 00ec 	LDS  R26,_frame_index_G1
000591 5faf      	SUBI R26,-LOW(1)
000592 93a0 00ec 	STS  _frame_index_G1,R26
000594 30a4      	CPI  R26,LOW(0x4)
000595 f018      	BRLO _0x6D
                 ;     707         frame_index = 0;
000596 e0e0      	LDI  R30,LOW(0)
000597 93e0 00ec 	STS  _frame_index_G1,R30
                 ;     708     }                   
                 ;     709     _powerOff();
                 _0x6D:
000599 dc0f      	RCALL __powerOff_G1
                 ;     710 
                 ;     711     LoadConfig(frame_index);              
00059a 91e0 00ec 	LDS  R30,_frame_index_G1
00059c 93ea      	ST   -Y,R30
00059d df30      	RCALL _LoadConfig
                 ;     712     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);
00059e e0e0      	LDI  R30,LOW(1280)
00059f e0f5      	LDI  R31,HIGH(1280)
0005a0 93fa      	ST   -Y,R31
0005a1 93ea      	ST   -Y,R30
0005a2 efef      	LDI  R30,LOW(32767)
0005a3 e7ff      	LDI  R31,HIGH(32767)
0005a4 93fa      	ST   -Y,R31
0005a5 93ea      	ST   -Y,R30
0005a6 dfb8      	RCALL _BlankRAM
                 ;     713     GetCharWidth(char_count,frame_index);                               
0005a7 91e0 00ef 	LDS  R30,_char_count_G1
0005a9 91f0 00f0 	LDS  R31,_char_count_G1+1
0005ab 93fa      	ST   -Y,R31
0005ac 93ea      	ST   -Y,R30
0005ad 91e0 00ec 	LDS  R30,_frame_index_G1
0005af 93ea      	ST   -Y,R30
0005b0 de8f      	RCALL _GetCharWidth
                 ;     714     if (scroll_type != SHOW_DATE_STR){
0005b1 91a0 00eb 	LDS  R26,_scroll_type_G1
0005b3 30a8      	CPI  R26,LOW(0x8)
0005b4 f0f1      	BREQ _0x6E
                 ;     715         LoadToRAM((PBYTE)START_RAM_BK,SCREEN_WIDTH,FRAME_BKGND,frame_index);    	 
0005b5 e0e0      	LDI  R30,LOW(1280)
0005b6 e0f5      	LDI  R31,HIGH(1280)
0005b7 93fa      	ST   -Y,R31
0005b8 93ea      	ST   -Y,R30
0005b9 eae0      	LDI  R30,LOW(160)
0005ba e0f0      	LDI  R31,HIGH(160)
0005bb 93fa      	ST   -Y,R31
0005bc 93ea      	ST   -Y,R30
0005bd e0e1      	LDI  R30,LOW(1)
0005be 93ea      	ST   -Y,R30
0005bf 91e0 00ec 	LDS  R30,_frame_index_G1
0005c1 93ea      	ST   -Y,R30
0005c2 deaa      	RCALL _LoadToRAM
                 ;     716         LoadToRAM((PBYTE)START_RAM_TEXT + SCREEN_WIDTH,text_length,FRAME_TEXT,frame_index);    
0005c3 eae0      	LDI  R30,LOW(2720)
0005c4 e0fa      	LDI  R31,HIGH(2720)
0005c5 93fa      	ST   -Y,R31
0005c6 93ea      	ST   -Y,R30
0005c7 91e0 00f1 	LDS  R30,_text_length_G1
0005c9 91f0 00f2 	LDS  R31,_text_length_G1+1
0005cb 93fa      	ST   -Y,R31
0005cc 93ea      	ST   -Y,R30
0005cd e0e0      	LDI  R30,LOW(0)
0005ce 93ea      	ST   -Y,R30
0005cf 91e0 00ec 	LDS  R30,_frame_index_G1
0005d1 93ea      	ST   -Y,R30
0005d2 de9a      	RCALL _LoadToRAM
                 ;     717     }
                 ;     718     printf("index=%d \r\n",frame_index);
                 _0x6E:
0005d3 e4e8
0005d4 e0f2      	__POINTW1FN _0,74
0005d5 93fa      	ST   -Y,R31
0005d6 93ea      	ST   -Y,R30
0005d7 91e0 00ec 	LDS  R30,_frame_index_G1
0005d9 27ff      	CLR  R31
0005da 2766      	CLR  R22
0005db 2777      	CLR  R23
0005dc d5ab      	RCALL __PUTPARD1
0005dd e084      	LDI  R24,4
0005de d473      	RCALL _printf
0005df 9626      	ADIW R28,6
                 ;     719     
                 ;     720     switch (scroll_type)
0005e0 91e0 00eb 	LDS  R30,_scroll_type_G1
                 ;     721     {
                 ;     722     case FLYING_TEXT: 
0005e2 30e1      	CPI  R30,LOW(0x1)
0005e3 f461      	BRNE _0x72
                 ;     723         {
                 ;     724             char_index = 0;
0005e4 e0e0      	LDI  R30,0
0005e5 93e0 00f7 	STS  _char_index_G1,R30
0005e7 93e0 00f8 	STS  _char_index_G1+1,R30
                 ;     725             start_mem = (PBYTE)START_RAM_TEXT;        
0005e9 e0e0      	LDI  R30,LOW(2560)
0005ea e0fa      	LDI  R31,HIGH(2560)
0005eb 93e0 00e0 	STS  _start_mem_G1,R30
0005ed 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     726         }
                 ;     727         break;
0005ef c03f      	RJMP _0x71
                 ;     728     case SCROLL_TEXT:
                 _0x72:
0005f0 30e0      	CPI  R30,0
0005f1 f011      	BREQ _0x74
                 ;     729     case FLIPPING_TEXT:
0005f2 30e2      	CPI  R30,LOW(0x2)
0005f3 f409      	BRNE _0x75
                 _0x74:
                 ;     730     case RIGHT_LEFT:
0005f4 c002      	RJMP _0x76
                 _0x75:
0005f5 30e4      	CPI  R30,LOW(0x4)
0005f6 f469      	BRNE _0x77
                 _0x76:
                 ;     731         {
                 ;     732             char_index = 0xFF;                     
0005f7 efef      	LDI  R30,LOW(255)
0005f8 e0f0      	LDI  R31,HIGH(255)
0005f9 93e0 00f7 	STS  _char_index_G1,R30
0005fb 93f0 00f8 	STS  _char_index_G1+1,R31
                 ;     733             start_mem = (PBYTE)START_RAM_TEXT;        
0005fd e0e0      	LDI  R30,LOW(2560)
0005fe e0fa      	LDI  R31,HIGH(2560)
0005ff 93e0 00e0 	STS  _start_mem_G1,R30
000601 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     734         }
                 ;     735         break;     
000603 c02b      	RJMP _0x71
                 ;     736 #ifdef __SCROLL_TOP_                                      
                 ;     737     case SCROLL_TOP:
                 _0x77:
000604 30e5      	CPI  R30,LOW(0x5)
000605 f4a1      	BRNE _0x78
                 ;     738         {
                 ;     739             is_half_above = 0;
000606 94e8      	CLT
000607 f823      	BLD  R2,3
                 ;     740             is_half_below = 1;
000608 9468      	SET
000609 f824      	BLD  R2,4
                 ;     741             char_index = 0xFF; 
00060a efef      	LDI  R30,LOW(255)
00060b e0f0      	LDI  R31,HIGH(255)
00060c 93e0 00f7 	STS  _char_index_G1,R30
00060e 93f0 00f8 	STS  _char_index_G1+1,R31
                 ;     742             horiz_idx  = SCREEN_HEIGHT;
000610 e1e0      	LDI  R30,LOW(16)
000611 e0f0      	LDI  R31,HIGH(16)
000612 014f      	MOVW R8,R30
                 ;     743             start_mem = (PBYTE)START_RAM_TEXT + SCREEN_WIDTH;
000613 eae0      	LDI  R30,LOW(2720)
000614 e0fa      	LDI  R31,HIGH(2720)
000615 93e0 00e0 	STS  _start_mem_G1,R30
000617 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     744         }
                 ;     745         break;   
000619 c015      	RJMP _0x71
                 ;     746 #endif
                 ;     747 #ifdef __SCROLL_BOTTOM_        
                 ;     748     case SCROLL_BOTTOM:                                                       
                 _0x78:
00061a 30e6      	CPI  R30,LOW(0x6)
00061b f499      	BRNE _0x7A
                 ;     749         {
                 ;     750             is_half_above = 1;
00061c 9468      	SET
00061d f823      	BLD  R2,3
                 ;     751             is_half_below = 0;                             
00061e 94e8      	CLT
00061f f824      	BLD  R2,4
                 ;     752             char_index = 0xFF;        
000620 efef      	LDI  R30,LOW(255)
000621 e0f0      	LDI  R31,HIGH(255)
000622 93e0 00f7 	STS  _char_index_G1,R30
000624 93f0 00f8 	STS  _char_index_G1+1,R31
                 ;     753             horiz_idx  = SCREEN_HEIGHT;
000626 e1e0      	LDI  R30,LOW(16)
000627 e0f0      	LDI  R31,HIGH(16)
000628 014f      	MOVW R8,R30
                 ;     754             start_mem = (PBYTE)START_RAM_TEXT + SCREEN_WIDTH;        
000629 eae0      	LDI  R30,LOW(2720)
00062a e0fa      	LDI  R31,HIGH(2720)
00062b 93e0 00e0 	STS  _start_mem_G1,R30
00062d 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     755         }
                 ;     756         break;         
                 ;     757 #endif
                 ;     758 #ifdef __SHOW_DATE_STR_        
                 ;     759     case SHOW_DATE_STR:
                 ;     760         {                                                                                            
                 ;     761             BYTE hh=0,mm=0,ss=0,DD=0,MM=0,YY=00;
                 ;     762             i2c_init();                           
                 ;     763             rtc_get_date(&DD,&MM,&YY);
                 ;     764             rtc_get_time(&hh,&mm,&ss);                                                                                                      
                 ;     765             getLunarStr(szDateStr,hh,mm,DD,MM,2000+YY);                                 
                 ;     766             BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);
                 ;     767             TextFromFont(szDateStr, 1, 0, (PBYTE)START_RAM_TEXT + SCREEN_WIDTH, frame_index);
                 ;     768             char_index = 0xFF;
                 ;     769             start_mem = (PBYTE)START_RAM_TEXT;                
                 ;     770         }
                 ;     771         break;         
                 ;     772 #endif        
                 ;     773     default:        
                 _0x7A:
                 ;     774         break;
                 ;     775     }       
                 _0x71:
                 ;     776     reset_serial();    
00062f d1d5      	RCALL _reset_serial
                 ;     777 #ifdef _MEGA162_INCLUDED_
                 ;     778     current_char_width = char_width[char_index];
                 ;     779     next_char_width = char_width[char_index+1];
                 ;     780 #endif
                 ;     781 }
000630 9508      	RET
                 ;     782 
                 ;     783 ///////////////////////////////////////////////////////////////
                 ;     784 // END static function(s)
                 ;     785 ///////////////////////////////////////////////////////////////
                 ;     786 
                 ;     787 ///////////////////////////////////////////////////////////////           
                 ;     788 
                 ;     789 void InitDevice()
                 ;     790 {
                 _InitDevice:
                 ;     791 // Declare your local variables here
                 ;     792 // Crystal Oscillator division factor: 1  
                 ;     793 #ifdef _MEGA162_INCLUDED_ 
                 ;     794 #pragma optsize-
                 ;     795 CLKPR=0x80;
                 ;     796 CLKPR=0x00;
                 ;     797 #ifdef _OPTIMIZE_SIZE_
                 ;     798 #pragma optsize+
                 ;     799 #endif                    
                 ;     800 #endif
                 ;     801 
                 ;     802 PORTA=0x00;
000631 e0e0      	LDI  R30,LOW(0)
000632 bbeb      	OUT  0x1B,R30
                 ;     803 DDRA=0x00;
000633 bbea      	OUT  0x1A,R30
                 ;     804 
                 ;     805 PORTB=0x00;
000634 bbe8      	OUT  0x18,R30
                 ;     806 DDRB=0xFF;
000635 efef      	LDI  R30,LOW(255)
000636 bbe7      	OUT  0x17,R30
                 ;     807 
                 ;     808 PORTC=0x00;
000637 e0e0      	LDI  R30,LOW(0)
000638 bbe5      	OUT  0x15,R30
                 ;     809 DDRC=0x00;
000639 bbe4      	OUT  0x14,R30
                 ;     810 
                 ;     811 PORTD = 0x00;
00063a bbe2      	OUT  0x12,R30
                 ;     812 DDRD = 0x00;
00063b bbe1      	OUT  0x11,R30
                 ;     813 
                 ;     814 PORTE=0x00;
00063c b9e7      	OUT  0x7,R30
                 ;     815 DDRE=0x05;
00063d e0e5      	LDI  R30,LOW(5)
00063e b9e6      	OUT  0x6,R30
                 ;     816 
                 ;     817 TCCR0=0x03; 
00063f e0e3      	LDI  R30,LOW(3)
000640 bfe3      	OUT  0x33,R30
                 ;     818 TCNT0=0x05; 
000641 e0e5      	LDI  R30,LOW(5)
000642 bfe2      	OUT  0x32,R30
                 ;     819 OCR0=0x00;  
000643 e0e0      	LDI  R30,LOW(0)
000644 bfe1      	OUT  0x31,R30
                 ;     820 #ifdef _MEGA162_INCLUDED_
                 ;     821  UCSR0A=0x00;
                 ;     822  UCSR0B=0x98;
                 ;     823  UCSR0C=0x86;
                 ;     824  UBRR0H=0x00;
                 ;     825  UBRR0L=0x67;
                 ;     826 #else
                 ;     827  UCSRA=0x00;
000645 b9eb      	OUT  0xB,R30
                 ;     828  UCSRB=0x98;
000646 e9e8      	LDI  R30,LOW(152)
000647 b9ea      	OUT  0xA,R30
                 ;     829  UCSRC=0x86;
000648 e8e6      	LDI  R30,LOW(134)
000649 bde0      	OUT  0x20,R30
                 ;     830  UBRRH=0x00;
00064a e0e0      	LDI  R30,LOW(0)
00064b bde0      	OUT  0x20,R30
                 ;     831  UBRRL=0x67;
00064c e6e7      	LDI  R30,LOW(103)
00064d b9e9      	OUT  0x9,R30
                 ;     832 #endif
                 ;     833 MCUCR=0x80;
00064e e8e0      	LDI  R30,LOW(128)
00064f bfe5      	OUT  0x35,R30
                 ;     834 EMCUCR=0x00;     
000650 e0e0      	LDI  R30,LOW(0)
000651 bfe6      	OUT  0x36,R30
                 ;     835 
                 ;     836 TIMSK=0x02;
000652 e0e2      	LDI  R30,LOW(2)
000653 bfe9      	OUT  0x39,R30
                 ;     837 #ifdef _MEGA162_INCLUDED_
                 ;     838  ETIMSK=0x00;
                 ;     839 #endif
                 ;     840 // I2C Bus initialization
                 ;     841 i2c_init();
000654 d464      	RCALL _i2c_init
                 ;     842 
                 ;     843 // DS1307 Real Time Clock initialization
                 ;     844 // Square wave output on pin SQW/OUT: Off
                 ;     845 // SQW/OUT pin state: 1
                 ;     846 rtc_init(0,0,1);   
000655 e0e0      	LDI  R30,LOW(0)
000656 93ea      	ST   -Y,R30
000657 93ea      	ST   -Y,R30
000658 e0e1      	LDI  R30,LOW(1)
000659 93ea      	ST   -Y,R30
00065a d412      	RCALL _rtc_init
                 ;     847 
                 ;     848 #ifdef __WATCH_DOG_
                 ;     849  WDTCR=0x1F;
00065b e1ef      	LDI  R30,LOW(31)
00065c bde1      	OUT  0x21,R30
                 ;     850  WDTCR=0x0F;
00065d e0ef      	LDI  R30,LOW(15)
00065e bde1      	OUT  0x21,R30
                 ;     851 #endif 
                 ;     852 
                 ;     853 #ifdef _TEST_RTC_
                 ;     854 {                                
                 ;     855     BYTE hh=0,mm=0,ss=0,DD=0,MM=0,YY=0;
                 ;     856     rtc_get_date(&DD,&MM,&YY);
                 ;     857     rtc_get_time(&hh,&mm,&ss);
                 ;     858     printf("%02d:%02d:%02d %02d-%02d-%02d\r\n",hh,mm,ss,DD,MM,YY);
                 ;     859 }           
                 ;     860 #endif                   
                 ;     861 }
00065f 9508      	RET
                 ;     862 
                 ;     863 void PowerReset()
                 ;     864 {   
                 _PowerReset:
                 ;     865     start_mem = (PBYTE)START_RAM_TEXT;     
000660 e0e0      	LDI  R30,LOW(2560)
000661 e0fa      	LDI  R31,HIGH(2560)
000662 93e0 00e0 	STS  _start_mem_G1,R30
000664 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     866     end_mem   = (PBYTE)END_RAM;
000666 efef      	LDI  R30,LOW(32767)
000667 e7ff      	LDI  R31,HIGH(32767)
000668 93e0 00e2 	STS  _end_mem_G1,R30
00066a 93f0 00e3 	STS  _end_mem_G1+1,R31
                 ;     867     bkgnd_mem = (PBYTE)START_RAM_BK;
00066c e0e0      	LDI  R30,LOW(1280)
00066d e0f5      	LDI  R31,HIGH(1280)
00066e 93e0 00e6 	STS  _bkgnd_mem_G1,R30
000670 93f0 00e7 	STS  _bkgnd_mem_G1+1,R31
                 ;     868     org_mem   = (PBYTE)START_RAM_TEXT;	                   
000672 e0e0      	LDI  R30,LOW(2560)
000673 e0fa      	LDI  R31,HIGH(2560)
000674 93e0 00e8 	STS  _org_mem_G1,R30
000676 93f0 00e9 	STS  _org_mem_G1+1,R31
                 ;     869 
                 ;     870     InitDevice();
000678 dfb8      	RCALL _InitDevice
                 ;     871                      
                 ;     872     LED_STATUS = 0;
000679 98c4      	CBI  0x18,4
                 ;     873     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);    
00067a e0e0      	LDI  R30,LOW(1280)
00067b e0f5      	LDI  R31,HIGH(1280)
00067c 93fa      	ST   -Y,R31
00067d 93ea      	ST   -Y,R30
00067e efef      	LDI  R30,LOW(32767)
00067f e7ff      	LDI  R31,HIGH(32767)
000680 93fa      	ST   -Y,R31
000681 93ea      	ST   -Y,R30
000682 dedc      	RCALL _BlankRAM
                 ;     874     delay_ms(500);
000683 efe4      	LDI  R30,LOW(500)
000684 e0f1      	LDI  R31,HIGH(500)
000685 93fa      	ST   -Y,R31
000686 93ea      	ST   -Y,R30
000687 d498      	RCALL _delay_ms
                 ;     875     LED_STATUS = 1;
000688 9ac4      	SBI  0x18,4
                 ;     876     
                 ;     877     current_char_width = 0xFFFF;
000689 efef      	LDI  R30,LOW(65535)
00068a efff      	LDI  R31,HIGH(65535)
00068b 93e0 00fb 	STS  _current_char_width_G1,R30
00068d 93f0 00fc 	STS  _current_char_width_G1+1,R31
                 ;     878     next_char_width = 0xFFFF;	 
00068f 93e0 00f9 	STS  _next_char_width_G1,R30
000691 93f0 00fa 	STS  _next_char_width_G1+1,R31
                 ;     879     
                 ;     880     LED_STATUS = 0;  
000693 98c4      	CBI  0x18,4
                 ;     881     frame_index = 0; 
000694 e0e0      	LDI  R30,LOW(0)
000695 93e0 00ec 	STS  _frame_index_G1,R30
                 ;     882     LoadFrame();        
000697 def0      	RCALL _LoadFrame
                 ;     883     LED_STATUS = 1;             
000698 9ac4      	SBI  0x18,4
                 ;     884                        
                 ;     885     // reload configuration
                 ;     886     LED_STATUS = 0;
000699 98c4      	CBI  0x18,4
                 ;     887     delay_ms(100);
00069a e6e4      	LDI  R30,LOW(100)
00069b e0f0      	LDI  R31,HIGH(100)
00069c 93fa      	ST   -Y,R31
00069d 93ea      	ST   -Y,R30
00069e d481      	RCALL _delay_ms
                 ;     888     LED_STATUS = 1;  
00069f 9ac4      	SBI  0x18,4
                 ;     889     PORTD = 0x00;
0006a0 e0e0      	LDI  R30,LOW(0)
0006a1 bbe2      	OUT  0x12,R30
                 ;     890     DDRD = 0x3F;           
0006a2 e3ef      	LDI  R30,LOW(63)
0006a3 bbe1      	OUT  0x11,R30
                 ;     891     printf("LCMS v2.02 \r\n");
0006a4 e5e4
0006a5 e0f2      	__POINTW1FN _0,86
0006a6 93fa      	ST   -Y,R31
0006a7 93ea      	ST   -Y,R30
0006a8 e080      	LDI  R24,0
0006a9 d3a8      	RCALL _printf
                 _0x116:
0006aa 9622      	ADIW R28,2
                 ;     892 }
0006ab 9508      	RET
                 ;     893 
                 ;     894 void ProcessCommand()
                 ;     895 {
                 _ProcessCommand:
                 ;     896    	#asm("cli"); 
0006ac 94f8      	cli
                 ;     897     RESET_WATCHDOG();
0006ad 95a8      	WDR
                 ;     898     // Turn off the scan board           
                 ;     899     _powerOff();
0006ae dafa      	RCALL __powerOff_G1
                 ;     900     // serial message processing     
                 ;     901     switch (rx_message)
0006af 2dea      	MOV  R30,R10
                 ;     902     {                  
                 ;     903     case LOAD_TEXT_MSG:
0006b0 30e1      	CPI  R30,LOW(0x1)
0006b1 f009      	BREQ PC+2
0006b2 c065      	RJMP _0x7E
                 ;     904         {
                 ;     905             if (rx_wparam > DATA_LENGTH) rx_wparam = DATA_LENGTH;
0006b3 ece0      	LDI  R30,LOW(3776)
0006b4 e0fe      	LDI  R31,HIGH(3776)
0006b5 15eb      	CP   R30,R11
0006b6 05fc      	CPC  R31,R12
0006b7 f410      	BRSH _0x7F
0006b8 2ebe
0006b9 2ecf      	__PUTW1R 11,12
                 ;     906             BlankRAM((PBYTE)START_RAM_TEXT,(PBYTE)END_RAM);
                 _0x7F:
0006ba e0e0      	LDI  R30,LOW(2560)
0006bb e0fa      	LDI  R31,HIGH(2560)
0006bc 93fa      	ST   -Y,R31
0006bd 93ea      	ST   -Y,R30
0006be efef      	LDI  R30,LOW(32767)
0006bf e7ff      	LDI  R31,HIGH(32767)
0006c0 93fa      	ST   -Y,R31
0006c1 93ea      	ST   -Y,R30
0006c2 de9c      	RCALL _BlankRAM
                 ;     907             frame_index = rx_lparam>>8;                       
0006c3 92e0 00ec 	STS  _frame_index_G1,R14
                 ;     908             char_count  = rx_lparam&0x00FF;                   
0006c5 2ded
0006c6 2dfe      	__GETW1R 13,14
0006c7 70f0      	ANDI R31,HIGH(0xFF)
0006c8 93e0 00ef 	STS  _char_count_G1,R30
0006ca 93f0 00f0 	STS  _char_count_G1+1,R31
                 ;     909             text_length = rx_wparam;   
0006cc 92b0 00f1
0006ce 92c0 00f2 	__PUTWMRN _text_length_G1,0,11,12
                 ;     910             SerialToRAM((PBYTE)START_RAM_TEXT + SCREEN_WIDTH,text_length,FRAME_TEXT);                
0006d0 eae0      	LDI  R30,LOW(2720)
0006d1 e0fa      	LDI  R31,HIGH(2720)
0006d2 93fa      	ST   -Y,R31
0006d3 93ea      	ST   -Y,R30
0006d4 91e0 00f1 	LDS  R30,_text_length_G1
0006d6 91f0 00f2 	LDS  R31,_text_length_G1+1
0006d8 93fa      	ST   -Y,R31
0006d9 93ea      	ST   -Y,R30
0006da e0e0      	LDI  R30,LOW(0)
0006db 93ea      	ST   -Y,R30
0006dc dd2b      	RCALL _SerialToRAM
                 ;     911             LoadCharWidth(char_count);                                                              
0006dd 91e0 00ef 	LDS  R30,_char_count_G1
0006df 91f0 00f0 	LDS  R31,_char_count_G1+1
0006e1 93fa      	ST   -Y,R31
0006e2 93ea      	ST   -Y,R30
0006e3 dd5a      	RCALL _LoadCharWidth
                 ;     912 			start_mem = (PBYTE)START_RAM_TEXT + SCREEN_WIDTH;				
0006e4 eae0      	LDI  R30,LOW(2720)
0006e5 e0fa      	LDI  R31,HIGH(2720)
0006e6 93e0 00e0 	STS  _start_mem_G1,R30
0006e8 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     913 	    	bkgnd_mem = (PBYTE)START_RAM_BK;		    		    		    	
0006ea e0e0      	LDI  R30,LOW(1280)
0006eb e0f5      	LDI  R31,HIGH(1280)
0006ec 93e0 00e6 	STS  _bkgnd_mem_G1,R30
0006ee 93f0 00e7 	STS  _bkgnd_mem_G1+1,R31
                 ;     914                         
                 ;     915             SaveCharWidth(char_count,frame_index);                           
0006f0 91e0 00ef 	LDS  R30,_char_count_G1
0006f2 91f0 00f0 	LDS  R31,_char_count_G1+1
0006f4 93fa      	ST   -Y,R31
0006f5 93ea      	ST   -Y,R30
0006f6 91e0 00ec 	LDS  R30,_frame_index_G1
0006f8 93ea      	ST   -Y,R30
0006f9 dd46      	RCALL _SaveCharWidth
                 ;     916             SaveToEEPROM((PBYTE)START_RAM_TEXT,FRAME_TEXT,frame_index);
0006fa e0e0      	LDI  R30,LOW(2560)
0006fb e0fa      	LDI  R31,HIGH(2560)
0006fc 93fa      	ST   -Y,R31
0006fd 93ea      	ST   -Y,R30
0006fe 93ea      	ST   -Y,R30
0006ff 91e0 00ec 	LDS  R30,_frame_index_G1
000701 93ea      	ST   -Y,R30
000702 dd3f      	RCALL _SaveToEEPROM
                 ;     917             SaveTextLength(text_length,frame_index);
000703 91e0 00f1 	LDS  R30,_text_length_G1
000705 91f0 00f2 	LDS  R31,_text_length_G1+1
000707 93fa      	ST   -Y,R31
000708 93ea      	ST   -Y,R30
000709 91e0 00ec 	LDS  R30,_frame_index_G1
00070b 93ea      	ST   -Y,R30
00070c de2d      	RCALL _SaveTextLength
                 ;     918             current_char_width = next_char_width = 0xFFFF;								  
00070d efef      	LDI  R30,LOW(65535)
00070e efff      	LDI  R31,HIGH(65535)
00070f 93e0 00f9 	STS  _next_char_width_G1,R30
000711 93f0 00fa 	STS  _next_char_width_G1+1,R31
000713 93e0 00fb 	STS  _current_char_width_G1,R30
000715 93f0 00fc 	STS  _current_char_width_G1+1,R31
                 ;     919         }				
                 ;     920         break;
000717 c044      	RJMP _0x7D
                 ;     921     case LOAD_BKGND_MSG:
                 _0x7E:
000718 30e2      	CPI  R30,LOW(0x2)
000719 f581      	BRNE _0x80
                 ;     922         {
                 ;     923             if (rx_wparam > SCREEN_WIDTH) rx_wparam = SCREEN_WIDTH;
00071a eae0      	LDI  R30,LOW(160)
00071b e0f0      	LDI  R31,HIGH(160)
00071c 15eb      	CP   R30,R11
00071d 05fc      	CPC  R31,R12
00071e f410      	BRSH _0x81
00071f 2ebe
000720 2ecf      	__PUTW1R 11,12
                 ;     924             frame_index = rx_lparam>>8;  
                 _0x81:
000721 92e0 00ec 	STS  _frame_index_G1,R14
                 ;     925             BlankRAM((PBYTE)START_RAM_BK,(PBYTE)START_RAM_TEXT);                    
000723 e0e0      	LDI  R30,LOW(1280)
000724 e0f5      	LDI  R31,HIGH(1280)
000725 93fa      	ST   -Y,R31
000726 93ea      	ST   -Y,R30
000727 e0e0      	LDI  R30,LOW(2560)
000728 e0fa      	LDI  R31,HIGH(2560)
000729 93fa      	ST   -Y,R31
00072a 93ea      	ST   -Y,R30
00072b de33      	RCALL _BlankRAM
                 ;     926             SerialToRAM((PBYTE)START_RAM_BK,rx_wparam,FRAME_BKGND);                                               
00072c e0e0      	LDI  R30,LOW(1280)
00072d e0f5      	LDI  R31,HIGH(1280)
00072e 93fa      	ST   -Y,R31
00072f 93ea      	ST   -Y,R30
000730 92ca      	ST   -Y,R12
000731 92ba      	ST   -Y,R11
000732 e0e1      	LDI  R30,LOW(1)
000733 93ea      	ST   -Y,R30
000734 dcd3      	RCALL _SerialToRAM
                 ;     927 		    start_mem = (PBYTE)START_RAM_TEXT + SCREEN_WIDTH;				
000735 eae0      	LDI  R30,LOW(2720)
000736 e0fa      	LDI  R31,HIGH(2720)
000737 93e0 00e0 	STS  _start_mem_G1,R30
000739 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     928 		    bkgnd_mem = (PBYTE)START_RAM_BK;	
00073b e0e0      	LDI  R30,LOW(1280)
00073c e0f5      	LDI  R31,HIGH(1280)
00073d 93e0 00e6 	STS  _bkgnd_mem_G1,R30
00073f 93f0 00e7 	STS  _bkgnd_mem_G1+1,R31
                 ;     929 		    
                 ;     930 		    SaveToEEPROM((PBYTE)START_RAM_BK,FRAME_BKGND,frame_index);			    
000741 93fa      	ST   -Y,R31
000742 93ea      	ST   -Y,R30
000743 e0e1      	LDI  R30,LOW(1)
000744 93ea      	ST   -Y,R30
000745 91e0 00ec 	LDS  R30,_frame_index_G1
000747 93ea      	ST   -Y,R30
000748 dcf9      	RCALL _SaveToEEPROM
                 ;     931 		}
                 ;     932         break; 
000749 c012      	RJMP _0x7D
                 ;     933     case SET_CFG_MSG:
                 _0x80:
00074a 30e5      	CPI  R30,LOW(0x5)
00074b f469      	BRNE _0x82
                 ;     934         {    
                 ;     935             frame_index = rx_lparam>>8;
00074c 92e0 00ec 	STS  _frame_index_G1,R14
                 ;     936             scroll_type  = rx_wparam&0x00FF;
00074e 2deb
00074f 2dfc      	__GETW1R 11,12
000750 93e0 00eb 	STS  _scroll_type_G1,R30
                 ;     937             scroll_rate = rx_wparam>>8;             
000752 92c0 00ea 	STS  _scroll_rate_G1,R12
                 ;     938             SaveConfig(frame_index);
000754 91e0 00ec 	LDS  R30,_frame_index_G1
000756 93ea      	ST   -Y,R30
000757 ddc2      	RCALL _SaveConfig
                 ;     939         }
                 ;     940         break;   
000758 c003      	RJMP _0x7D
                 ;     941     case SET_RTC_MSG:
                 _0x82:
000759 30e4      	CPI  R30,LOW(0x4)
00075a f409      	BRNE _0x84
                 ;     942         {                                
                 ;     943             SetRTCDateTime();
00075b de16      	RCALL _SetRTCDateTime
                 ;     944         }
                 ;     945         break;    
                 ;     946     default:
                 _0x84:
                 ;     947         break;
                 ;     948     }                 
                 _0x7D:
                 ;     949     send_echo_msg();            
00075c d08a      	RCALL _send_echo_msg
                 ;     950     rx_message = UNKNOWN_MSG;
00075d 24aa      	CLR  R10
                 ;     951     #asm("sei");
00075e 9478      	sei
                 ;     952     PORTD = 0x00;
00075f e0e0      	LDI  R30,LOW(0)
000760 bbe2      	OUT  0x12,R30
                 ;     953     DDRD = 0x3F;     
000761 e3ef      	LDI  R30,LOW(63)
000762 bbe1      	OUT  0x11,R30
                 ;     954 
                 ;     955 }          
000763 9508      	RET
                 ;     956 ////////////////////////////////////////////////////////////////////////////////
                 ;     957 // MAIN PROGRAM
                 ;     958 ////////////////////////////////////////////////////////////////////////////////
                 ;     959 void main(void)
                 ;     960 {         
                 _main:
                 ;     961     if (MCUCSR & 8){
000764 b7e4      	IN   R30,0x34
000765 ffe3      	SBRS R30,3
000766 c005      	RJMP _0x85
                 ;     962         // Watchdog Reset
                 ;     963         MCUCSR&=0xE0;  
000767 b7e4      	IN   R30,0x34
000768 7ee0      	ANDI R30,LOW(0xE0)
000769 bfe4      	OUT  0x34,R30
                 ;     964         reset_serial(); 
00076a d09a      	RCALL _reset_serial
                 ;     965     }
                 ;     966     else {      
00076b c003      	RJMP _0x86
                 _0x85:
                 ;     967         MCUCSR&=0xE0;
00076c b7e4      	IN   R30,0x34
00076d 7ee0      	ANDI R30,LOW(0xE0)
00076e bfe4      	OUT  0x34,R30
                 ;     968     }                                     
                 _0x86:
                 ;     969      
                 ;     970     PowerReset();                        
00076f def0      	RCALL _PowerReset
                 ;     971     #asm("sei");     
000770 9478      	sei
                 ;     972             
                 ;     973     while (1){                     
                 _0x87:
                 ;     974         if (rx_message != UNKNOWN_MSG){   
000771 20aa      	TST  R10
000772 f011      	BREQ _0x8A
                 ;     975             ProcessCommand();   
000773 df38      	RCALL _ProcessCommand
                 ;     976         }
                 ;     977         else{               
000774 c002      	RJMP _0x8B
                 _0x8A:
                 ;     978             _doScroll();
000775 db30      	RCALL __doScroll_G1
                 ;     979             _displayFrame();            
000776 da40      	RCALL __displayFrame_G1
                 ;     980         }
                 _0x8B:
                 ;     981         RESET_WATCHDOG();
000777 95a8      	WDR
                 ;     982     }
000778 cff8      	RJMP _0x87
                 ;     983 }
                 _0x8C:
000779 0000      	NOP
00077a cffe      	RJMP _0x8C
                 ;     984                          
                 ;     985 #include "define.h"
                 ;     986 
                 ;     987 ///////////////////////////////////////////////////////////////
                 ;     988 // serial interrupt handle - processing serial message ...
                 ;     989 ///////////////////////////////////////////////////////////////
                 ;     990 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;     991 ///////////////////////////////////////////////////////////////
                 ;     992 BYTE rx_buffer[RX_BUFFER_SIZE];
                 
                 	.DSEG
                 _rx_buffer:
000147           	.BYTE 0x8
                 ;     993 extern BYTE  rx_message;
                 ;     994 extern WORD  rx_wparam;
                 ;     995 extern WORD  rx_lparam;
                 ;     996 
                 ;     997 #if RX_BUFFER_SIZE<256
                 ;     998 unsigned char rx_wr_index,rx_counter;
                 _rx_wr_index:
00014f           	.BYTE 0x1
                 _rx_counter:
000150           	.BYTE 0x1
                 ;     999 #else
                 ;    1000 unsigned int rx_wr_index,rx_counter;
                 ;    1001 #endif
                 ;    1002 
                 ;    1003 void send_echo_msg();
                 ;    1004 
                 ;    1005 // USART Receiver interrupt service routine
                 ;    1006 #ifdef _MEGA162_INCLUDED_                    
                 ;    1007 interrupt [USART0_RXC] void usart_rx_isr(void)
                 ;    1008 #else
                 ;    1009 interrupt [USART_RXC] void usart_rx_isr(void)
                 ;    1010 #endif
                 ;    1011 {
                 
                 	.CSEG
                 _usart_rx_isr:
00077b 93aa      	ST   -Y,R26
00077c 93ba      	ST   -Y,R27
00077d 93ea      	ST   -Y,R30
00077e 93fa      	ST   -Y,R31
00077f b7ef      	IN   R30,SREG
000780 93ea      	ST   -Y,R30
                 ;    1012 char status,data;
                 ;    1013 #ifdef _MEGA162_INCLUDED_  
                 ;    1014 status=UCSR0A;
                 ;    1015 data=UDR0;
                 ;    1016 #else     
                 ;    1017 status=UCSRA;
000781 d40f      	RCALL __SAVELOCR2
                 ;	status -> R16
                 ;	data -> R17
000782 b10b      	IN   R16,11
                 ;    1018 data=UDR;
000783 b11c      	IN   R17,12
                 ;    1019 #endif          
                 ;    1020     if ((status & (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0)
000784 2fe0      	MOV  R30,R16
000785 71ec      	ANDI R30,LOW(0x1C)
000786 f009      	BREQ PC+2
000787 c057      	RJMP _0x8D
                 ;    1021     {
                 ;    1022         rx_buffer[rx_wr_index]=data; 
000788 91a0 014f 	LDS  R26,_rx_wr_index
00078a e0b0      	LDI  R27,0
00078b 5ba9      	SUBI R26,LOW(-_rx_buffer)
00078c 4fbe      	SBCI R27,HIGH(-_rx_buffer)
00078d 931c      	ST   X,R17
                 ;    1023         if (++rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0;
00078e 91a0 014f 	LDS  R26,_rx_wr_index
000790 5faf      	SUBI R26,-LOW(1)
000791 93a0 014f 	STS  _rx_wr_index,R26
000793 30a8      	CPI  R26,LOW(0x8)
000794 f419      	BRNE _0x8E
000795 e0e0      	LDI  R30,LOW(0)
000796 93e0 014f 	STS  _rx_wr_index,R30
                 ;    1024         if (++rx_counter == RX_BUFFER_SIZE)
                 _0x8E:
000798 91a0 0150 	LDS  R26,_rx_counter
00079a 5faf      	SUBI R26,-LOW(1)
00079b 93a0 0150 	STS  _rx_counter,R26
00079d 30a8      	CPI  R26,LOW(0x8)
00079e f009      	BREQ PC+2
00079f c03f      	RJMP _0x8F
                 ;    1025         {
                 ;    1026             rx_counter=0;
0007a0 e0e0      	LDI  R30,LOW(0)
0007a1 93e0 0150 	STS  _rx_counter,R30
                 ;    1027             if (
                 ;    1028                 rx_buffer[0]==WAKEUP_CHAR && rx_buffer[1]==WAKEUP_CHAR &&        
                 ;    1029                 rx_buffer[2]==WAKEUP_CHAR 
                 ;    1030                 )
0007a3 91a0 0147 	LDS  R26,_rx_buffer
0007a5 35a5      	CPI  R26,LOW(0x55)
0007a6 f441      	BRNE _0x91
0007a7 91e0 0148 	__GETB1MN _rx_buffer,1
0007a9 35e5      	CPI  R30,LOW(0x55)
0007aa f421      	BRNE _0x91
0007ab 91e0 0149 	__GETB1MN _rx_buffer,2
0007ad 35e5      	CPI  R30,LOW(0x55)
0007ae f009      	BREQ _0x92
                 _0x91:
0007af c01d      	RJMP _0x90
                 _0x92:
                 ;    1031             {
                 ;    1032                 rx_message  = rx_buffer[3];    // message value 
0007b0 90a0 014a 	__GETBRMN 10,_rx_buffer,3
                 ;    1033                 rx_wparam   = rx_buffer[4];    // wparam value
0007b2 90b0 014b 	__GETBRMN 11,_rx_buffer,4
0007b4 24cc      	CLR  R12
                 ;    1034                 rx_wparam   = (rx_wparam<<8)|rx_buffer[5]; 
0007b5 2dfb      	MOV  R31,R11
0007b6 e0e0      	LDI  R30,LOW(0)
0007b7 01df      	MOVW R26,R30
0007b8 91e0 014c 	__GETB1MN _rx_buffer,5
0007ba e0f0      	LDI  R31,0
0007bb 2bea      	OR   R30,R26
0007bc 2bfb      	OR   R31,R27
0007bd 2ebe
0007be 2ecf      	__PUTW1R 11,12
                 ;    1035                 rx_lparam   = rx_buffer[6];    // lparam value
0007bf 90d0 014d 	__GETBRMN 13,_rx_buffer,6
0007c1 24ee      	CLR  R14
                 ;    1036                 rx_lparam   = (rx_lparam<<8)|rx_buffer[7];                           
0007c2 2dfd      	MOV  R31,R13
0007c3 e0e0      	LDI  R30,LOW(0)
0007c4 01df      	MOVW R26,R30
0007c5 91e0 014e 	__GETB1MN _rx_buffer,7
0007c7 e0f0      	LDI  R31,0
0007c8 2bea      	OR   R30,R26
0007c9 2bfb      	OR   R31,R27
0007ca 2ede
0007cb 2eef      	__PUTW1R 13,14
                 ;    1037             }
                 ;    1038             else if(
0007cc c012      	RJMP _0x93
                 _0x90:
                 ;    1039                 rx_buffer[0]==ESCAPE_CHAR && rx_buffer[1]==ESCAPE_CHAR &&        
                 ;    1040                 rx_buffer[2]==ESCAPE_CHAR 
                 ;    1041                 )
0007cd 91a0 0147 	LDS  R26,_rx_buffer
0007cf 3faf      	CPI  R26,LOW(0xFF)
0007d0 f441      	BRNE _0x95
0007d1 91e0 0148 	__GETB1MN _rx_buffer,1
0007d3 3fef      	CPI  R30,LOW(0xFF)
0007d4 f421      	BRNE _0x95
0007d5 91e0 0149 	__GETB1MN _rx_buffer,2
0007d7 3fef      	CPI  R30,LOW(0xFF)
0007d8 f009      	BREQ _0x96
                 _0x95:
0007d9 c005      	RJMP _0x94
                 _0x96:
                 ;    1042             {
                 ;    1043                 rx_wr_index=0;
0007da e0e0      	LDI  R30,LOW(0)
0007db 93e0 014f 	STS  _rx_wr_index,R30
                 ;    1044                 rx_counter =0;
0007dd 93e0 0150 	STS  _rx_counter,R30
                 ;    1045             }      
                 ;    1046         };
                 _0x94:
                 _0x93:
                 _0x8F:
                 ;    1047     };
                 _0x8D:
                 ;    1048 }
0007df d3bb      	RCALL __LOADLOCR2P
0007e0 91e9      	LD   R30,Y+
0007e1 bfef      	OUT  SREG,R30
0007e2 91f9      	LD   R31,Y+
0007e3 91e9      	LD   R30,Y+
0007e4 91b9      	LD   R27,Y+
0007e5 91a9      	LD   R26,Y+
0007e6 9518      	RETI
                 ;    1049 
                 ;    1050 void send_echo_msg()
                 ;    1051 {
                 _send_echo_msg:
                 ;    1052     putchar(WAKEUP_CHAR);
0007e7 e5e5      	LDI  R30,LOW(85)
0007e8 93ea      	ST   -Y,R30
0007e9 d0f5      	RCALL _putchar
                 ;    1053     putchar(WAKEUP_CHAR);
0007ea e5e5      	LDI  R30,LOW(85)
0007eb 93ea      	ST   -Y,R30
0007ec d0f2      	RCALL _putchar
                 ;    1054     putchar(WAKEUP_CHAR);                
0007ed e5e5      	LDI  R30,LOW(85)
0007ee 93ea      	ST   -Y,R30
0007ef d0ef      	RCALL _putchar
                 ;    1055     putchar(rx_message);
0007f0 92aa      	ST   -Y,R10
0007f1 d0ed      	RCALL _putchar
                 ;    1056     putchar(rx_wparam>>8);
0007f2 2dec      	MOV  R30,R12
0007f3 70f0      	ANDI R31,HIGH(0x0)
0007f4 93ea      	ST   -Y,R30
0007f5 d0e9      	RCALL _putchar
                 ;    1057     putchar(rx_wparam&0x00FF);
0007f6 2deb
0007f7 2dfc      	__GETW1R 11,12
0007f8 70f0      	ANDI R31,HIGH(0xFF)
0007f9 93ea      	ST   -Y,R30
0007fa d0e4      	RCALL _putchar
                 ;    1058     putchar(rx_lparam>>8);        
0007fb 2dee      	MOV  R30,R14
0007fc 70f0      	ANDI R31,HIGH(0x0)
0007fd 93ea      	ST   -Y,R30
0007fe d0e0      	RCALL _putchar
                 ;    1059     putchar(rx_lparam&0x00FF);
0007ff 2ded
000800 2dfe      	__GETW1R 13,14
000801 70f0      	ANDI R31,HIGH(0xFF)
000802 93ea      	ST   -Y,R30
000803 d0db      	RCALL _putchar
                 ;    1060 }  
000804 9508      	RET
                 ;    1061 
                 ;    1062 void reset_serial()
                 ;    1063 {
                 _reset_serial:
                 ;    1064     rx_wr_index=0;
000805 e0e0      	LDI  R30,LOW(0)
000806 93e0 014f 	STS  _rx_wr_index,R30
                 ;    1065     rx_counter =0;
000808 93e0 0150 	STS  _rx_counter,R30
                 ;    1066     rx_message = UNKNOWN_MSG;
00080a 24aa      	CLR  R10
                 ;    1067 }
00080b 9508      	RET
                 ;    1068 
                 ;    1069 ///////////////////////////////////////////////////////////////
                 ;    1070 // END serial interrupt handle
                 ;    1071 /////////////////////////////////////////////////////////////// 
                 ;    1072 /*****************************************************
                 ;    1073 This program was produced by the
                 ;    1074 CodeWizardAVR V1.24.4a Standard
                 ;    1075 Automatic Program Generator
                 ;    1076 © Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
                 ;    1077 http://www.hpinfotech.com
                 ;    1078 e-mail:office@hpinfotech.com
                 ;    1079 
                 ;    1080 Project : 
                 ;    1081 Version : 
                 ;    1082 Date    : 19/5/2005
                 ;    1083 Author  : 3iGROUP                
                 ;    1084 Company : http://www.3ihut.net   
                 ;    1085 Comments: 
                 ;    1086 
                 ;    1087 
                 ;    1088 Chip type           : ATmega8515
                 ;    1089 Program type        : Application
                 ;    1090 Clock frequency     : 8.000000 MHz
                 ;    1091 Memory model        : Small
                 ;    1092 External SRAM size  : 32768
                 ;    1093 Ext. SRAM wait state: 0
                 ;    1094 Data Stack size     : 128
                 ;    1095 *****************************************************/
                 ;    1096 
                 ;    1097 #include "define.h"                                           
                 ;    1098 
                 ;    1099 #define     ACK                 1
                 ;    1100 #define     NO_ACK              0
                 ;    1101 
                 ;    1102 // I2C Bus functions
                 ;    1103 #asm
                 ;    1104    .equ __i2c_port=0x12 ;PORTD
                    .equ __i2c_port=0x12 ;PORTD
                 ;    1105    .equ __sda_bit=3
                    .equ __sda_bit=3
                 ;    1106    .equ __scl_bit=2
                    .equ __scl_bit=2
                 ;    1107 #endasm                   
                 ;    1108 
                 ;    1109 #ifdef __EEPROM_WRITE_BYTE
                 ;    1110 BYTE eeprom_read(BYTE deviceID, PBYTE address) 
                 ;    1111 {
                 _eeprom_read:
                 ;    1112     BYTE data;
                 ;    1113     i2c_start();
00080c 930a      	ST   -Y,R16
                 ;	deviceID -> Y+3
                 ;	*address -> Y+1
                 ;	data -> R16
00080d d2b0      	RCALL _i2c_start
                 ;    1114     i2c_write(deviceID);        // issued R/W = 0
00080e 81eb      	LDD  R30,Y+3
00080f 93ea      	ST   -Y,R30
000810 d2e1      	RCALL _i2c_write
                 ;    1115     i2c_write((WORD)address>>8);      // high word address
000811 81ea      	LDD  R30,Y+2
000812 70f0      	ANDI R31,HIGH(0x0)
000813 93ea      	ST   -Y,R30
000814 d2dd      	RCALL _i2c_write
                 ;    1116     i2c_write((WORD)address&0x0FF);   // low word address
000815 81e9      	LDD  R30,Y+1
000816 81fa      	LDD  R31,Y+1+1
000817 70f0      	ANDI R31,HIGH(0xFF)
000818 93ea      	ST   -Y,R30
000819 d2d8      	RCALL _i2c_write
                 ;    1117     
                 ;    1118     i2c_start();
00081a d2a3      	RCALL _i2c_start
                 ;    1119     i2c_write(deviceID | 1);    // issued R/W = 1
00081b 81eb      	LDD  R30,Y+3
00081c 60e1      	ORI  R30,1
00081d 93ea      	ST   -Y,R30
00081e d2d3      	RCALL _i2c_write
                 ;    1120     data=i2c_read(NO_ACK);      // read at current
00081f e0e0      	LDI  R30,LOW(0)
000820 93ea      	ST   -Y,R30
000821 d2b5      	RCALL _i2c_read
000822 2f0e      	MOV  R16,R30
                 ;    1121     i2c_stop();
000823 d2a9      	RCALL _i2c_stop
                 ;    1122     return data;
000824 2fe0      	MOV  R30,R16
000825 8108      	LDD  R16,Y+0
000826 c016      	RJMP _0x115
                 ;    1123 }
                 ;    1124 
                 ;    1125 void eeprom_write(BYTE deviceID, PBYTE address, BYTE data) 
                 ;    1126 {
                 _eeprom_write:
                 ;    1127     i2c_start();
                 ;	deviceID -> Y+3
                 ;	*address -> Y+1
                 ;	data -> Y+0
000827 d296      	RCALL _i2c_start
                 ;    1128     i2c_write(deviceID);        // device address
000828 81eb      	LDD  R30,Y+3
000829 93ea      	ST   -Y,R30
00082a d2c7      	RCALL _i2c_write
                 ;    1129     i2c_write((WORD)address>>8);      // high word address
00082b 81ea      	LDD  R30,Y+2
00082c 70f0      	ANDI R31,HIGH(0x0)
00082d 93ea      	ST   -Y,R30
00082e d2c3      	RCALL _i2c_write
                 ;    1130     i2c_write((WORD)address&0x0FF);   // low word address
00082f 81e9      	LDD  R30,Y+1
000830 81fa      	LDD  R31,Y+1+1
000831 70f0      	ANDI R31,HIGH(0xFF)
000832 93ea      	ST   -Y,R30
000833 d2be      	RCALL _i2c_write
                 ;    1131     i2c_write(data);
000834 81e8      	LD   R30,Y
000835 93ea      	ST   -Y,R30
000836 d2bb      	RCALL _i2c_write
                 ;    1132     i2c_stop();
000837 d295      	RCALL _i2c_stop
                 ;    1133 
                 ;    1134     /* 10ms delay to complete the write operation */
                 ;    1135     delay_ms(10);               // 2 ticks : 5x2 = 10 ms        
000838 e0ea      	LDI  R30,LOW(10)
000839 e0f0      	LDI  R31,HIGH(10)
00083a 93fa      	ST   -Y,R31
00083b 93ea      	ST   -Y,R30
00083c d2e3      	RCALL _delay_ms
                 ;    1136 }                                 
                 _0x115:
00083d 9624      	ADIW R28,4
00083e 9508      	RET
                 ;    1137 
                 ;    1138 WORD eeprom_read_w(BYTE deviceID, PBYTE address)
                 ;    1139 {
                 _eeprom_read_w:
                 ;    1140     WORD result = 0;
                 ;    1141     result = eeprom_read(deviceID,address);
00083f d351      	RCALL __SAVELOCR2
                 ;	deviceID -> Y+4
                 ;	*address -> Y+2
                 ;	result -> R16,R17
000840 e000      	LDI  R16,0
000841 e010      	LDI  R17,0
000842 81ec      	LDD  R30,Y+4
000843 93ea      	ST   -Y,R30
000844 81eb      	LDD  R30,Y+3
000845 81fc      	LDD  R31,Y+3+1
000846 93fa      	ST   -Y,R31
000847 93ea      	ST   -Y,R30
000848 dfc3      	RCALL _eeprom_read
000849 2f0e      	MOV  R16,R30
00084a 2711      	CLR  R17
                 ;    1142     result = (result<<8) | eeprom_read(deviceID,address+1);
00084b 2ff0      	MOV  R31,R16
00084c e0e0      	LDI  R30,LOW(0)
00084d 93ff      	PUSH R31
00084e 93ef      	PUSH R30
00084f 81ec      	LDD  R30,Y+4
000850 93ea      	ST   -Y,R30
000851 81eb      	LDD  R30,Y+3
000852 81fc      	LDD  R31,Y+3+1
000853 9631      	ADIW R30,1
000854 93fa      	ST   -Y,R31
000855 93ea      	ST   -Y,R30
000856 dfb5      	RCALL _eeprom_read
000857 91af      	POP  R26
000858 91bf      	POP  R27
000859 e0f0      	LDI  R31,0
00085a 2bea      	OR   R30,R26
00085b 2bfb      	OR   R31,R27
00085c 018f      	MOVW R16,R30
                 ;    1143     return result;
00085d 01f8      	MOVW R30,R16
00085e d339      	RCALL __LOADLOCR2
00085f c016      	RJMP _0x114
                 ;    1144 }
                 ;    1145 void eeprom_write_w(BYTE deviceID, PBYTE address, WORD data)
                 ;    1146 {
                 _eeprom_write_w:
                 ;    1147     eeprom_write(deviceID,address,data>>8);
                 ;	deviceID -> Y+4
                 ;	*address -> Y+2
                 ;	data -> Y+0
000860 81ec      	LDD  R30,Y+4
000861 93ea      	ST   -Y,R30
000862 81eb      	LDD  R30,Y+3
000863 81fc      	LDD  R31,Y+3+1
000864 93fa      	ST   -Y,R31
000865 93ea      	ST   -Y,R30
000866 81ec      	LDD  R30,Y+4
000867 70f0      	ANDI R31,HIGH(0x0)
000868 93ea      	ST   -Y,R30
000869 dfbd      	RCALL _eeprom_write
                 ;    1148     eeprom_write(deviceID,address+1,data&0x0FF);    
00086a 81ec      	LDD  R30,Y+4
00086b 93ea      	ST   -Y,R30
00086c 81eb      	LDD  R30,Y+3
00086d 81fc      	LDD  R31,Y+3+1
00086e 9631      	ADIW R30,1
00086f 93fa      	ST   -Y,R31
000870 93ea      	ST   -Y,R30
000871 81eb      	LDD  R30,Y+3
000872 81fc      	LDD  R31,Y+3+1
000873 70f0      	ANDI R31,HIGH(0xFF)
000874 93ea      	ST   -Y,R30
000875 dfb1      	RCALL _eeprom_write
                 ;    1149 }
                 _0x114:
000876 9625      	ADIW R28,5
000877 9508      	RET
                 ;    1150 
                 ;    1151 #endif // __EEPROM_WRITE_BYTE
                 ;    1152 void eeprom_read_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size)
                 ;    1153 {
                 _eeprom_read_page:
                 ;    1154     BYTE i = 0;
                 ;    1155     i2c_start();
000878 930a      	ST   -Y,R16
                 ;	deviceID -> Y+6
                 ;	*address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
000879 e000      	LDI  R16,0
00087a d243      	RCALL _i2c_start
                 ;    1156     i2c_write(deviceID);            // issued R/W = 0
00087b 81ee      	LDD  R30,Y+6
00087c 93ea      	ST   -Y,R30
00087d d274      	RCALL _i2c_write
                 ;    1157     i2c_write((WORD)address>>8);          // high word address
00087e 81ed      	LDD  R30,Y+5
00087f 70f0      	ANDI R31,HIGH(0x0)
000880 93ea      	ST   -Y,R30
000881 d270      	RCALL _i2c_write
                 ;    1158     i2c_write((WORD)address&0xFF);        // low word address
000882 81ec      	LDD  R30,Y+4
000883 81fd      	LDD  R31,Y+4+1
000884 70f0      	ANDI R31,HIGH(0xFF)
000885 93ea      	ST   -Y,R30
000886 d26b      	RCALL _i2c_write
                 ;    1159     
                 ;    1160     i2c_start();
000887 d236      	RCALL _i2c_start
                 ;    1161     i2c_write(deviceID | 1);        // issued R/W = 1
000888 81ee      	LDD  R30,Y+6
000889 60e1      	ORI  R30,1
00088a 93ea      	ST   -Y,R30
00088b d266      	RCALL _i2c_write
                 ;    1162                                     
                 ;    1163     while ( i < page_size-1 )
                 _0x97:
00088c 81e9      	LDD  R30,Y+1
00088d 50e1      	SUBI R30,LOW(1)
00088e 170e      	CP   R16,R30
00088f f480      	BRSH _0x99
                 ;    1164     {
                 ;    1165         buffer[i++] = i2c_read(ACK);   // read at current
000890 2fe0      	MOV  R30,R16
000891 5f0f      	SUBI R16,-1
000892 81aa      	LDD  R26,Y+2
000893 81bb      	LDD  R27,Y+2+1
000894 e0f0      	LDI  R31,0
000895 0fea      	ADD  R30,R26
000896 1ffb      	ADC  R31,R27
000897 93ff      	PUSH R31
000898 93ef      	PUSH R30
000899 e0e1      	LDI  R30,LOW(1)
00089a 93ea      	ST   -Y,R30
00089b d23b      	RCALL _i2c_read
00089c 91af      	POP  R26
00089d 91bf      	POP  R27
00089e 93ec      	ST   X,R30
                 ;    1166     }
00089f cfec      	RJMP _0x97
                 _0x99:
                 ;    1167     buffer[page_size-1] = i2c_read(NO_ACK); // read last byte
0008a0 81e9      	LDD  R30,Y+1
0008a1 50e1      	SUBI R30,LOW(1)
0008a2 81aa      	LDD  R26,Y+2
0008a3 81bb      	LDD  R27,Y+2+1
0008a4 e0f0      	LDI  R31,0
0008a5 0fea      	ADD  R30,R26
0008a6 1ffb      	ADC  R31,R27
0008a7 93ff      	PUSH R31
0008a8 93ef      	PUSH R30
0008a9 e0e0      	LDI  R30,LOW(0)
0008aa 93ea      	ST   -Y,R30
0008ab d22b      	RCALL _i2c_read
0008ac 91af      	POP  R26
0008ad 91bf      	POP  R27
0008ae 93ec      	ST   X,R30
                 ;    1168          
                 ;    1169     i2c_stop();
0008af d21d      	RCALL _i2c_stop
                 ;    1170 }
0008b0 8108      	LDD  R16,Y+0
0008b1 9627      	ADIW R28,7
0008b2 9508      	RET
                 ;    1171 
                 ;    1172 void eeprom_write_page(BYTE deviceID, PBYTE address, PBYTE buffer, BYTE page_size)
                 ;    1173 {
                 _eeprom_write_page:
                 ;    1174     BYTE i = 0;
                 ;    1175     i2c_start();
0008b3 930a      	ST   -Y,R16
                 ;	deviceID -> Y+6
                 ;	*address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
0008b4 e000      	LDI  R16,0
0008b5 d208      	RCALL _i2c_start
                 ;    1176     i2c_write(deviceID);            // issued R/W = 0
0008b6 81ee      	LDD  R30,Y+6
0008b7 93ea      	ST   -Y,R30
0008b8 d239      	RCALL _i2c_write
                 ;    1177     i2c_write((WORD)address>>8);          // high word address
0008b9 81ed      	LDD  R30,Y+5
0008ba 70f0      	ANDI R31,HIGH(0x0)
0008bb 93ea      	ST   -Y,R30
0008bc d235      	RCALL _i2c_write
                 ;    1178     i2c_write((WORD)address&0xFF);        // low word address
0008bd 81ec      	LDD  R30,Y+4
0008be 81fd      	LDD  R31,Y+4+1
0008bf 70f0      	ANDI R31,HIGH(0xFF)
0008c0 93ea      	ST   -Y,R30
0008c1 d230      	RCALL _i2c_write
                 ;    1179                                         
                 ;    1180     while ( i < page_size )
                 _0x9A:
0008c2 81e9      	LDD  R30,Y+1
0008c3 170e      	CP   R16,R30
0008c4 f468      	BRSH _0x9C
                 ;    1181     {
                 ;    1182         i2c_write(buffer[i++]);
0008c5 2fe0      	MOV  R30,R16
0008c6 5f0f      	SUBI R16,-1
0008c7 81aa      	LDD  R26,Y+2
0008c8 81bb      	LDD  R27,Y+2+1
0008c9 e0f0      	LDI  R31,0
0008ca 0fae      	ADD  R26,R30
0008cb 1fbf      	ADC  R27,R31
0008cc 91ec      	LD   R30,X
0008cd 93ea      	ST   -Y,R30
0008ce d223      	RCALL _i2c_write
                 ;    1183         #asm("nop");#asm("nop");
0008cf 0000      	nop
0008d0 0000      	nop
                 ;    1184     }          
0008d1 cff0      	RJMP _0x9A
                 _0x9C:
                 ;    1185     i2c_stop(); 
0008d2 d1fa      	RCALL _i2c_stop
                 ;    1186     delay_ms(10);
0008d3 e0ea      	LDI  R30,LOW(10)
0008d4 e0f0      	LDI  R31,HIGH(10)
0008d5 93fa      	ST   -Y,R31
0008d6 93ea      	ST   -Y,R30
0008d7 d248      	RCALL _delay_ms
                 ;    1187 }
0008d8 8108      	LDD  R16,Y+0
0008d9 9627      	ADIW R28,7
0008da 9508      	RET
                 ;    1188                                               
                 ;    1189 #include "define.h"
                 ;    1190 
                 ;    1191 #define DWORD long int
                 ;    1192 
                 ;    1193 const DWORD TK21[] ={
                 ;    1194 	0x46c960, 0x2ed954, 0x54d4a0, 0x3eda50, 0x2a7552, 0x4e56a0, 0x38a7a7, 0x5ea5d0, 0x4a92b0, 0x32aab5,
                 ;    1195 	0x58a950, 0x42b4a0, 0x2cbaa4, 0x50ad50, 0x3c55d9, 0x624ba0, 0x4ca5b0, 0x375176, 0x5c5270, 0x466930,
                 ;    1196 	0x307934, 0x546aa0, 0x3ead50, 0x2a5b52, 0x504b60, 0x38a6e6, 0x5ea4e0, 0x48d260, 0x32ea65, 0x56d520,
                 ;    1197 	0x40daa0, 0x2d56a3, 0x5256d0, 0x3c4afb, 0x6249d0, 0x4ca4d0, 0x37d0b6, 0x5ab250, 0x44b520, 0x2edd25,
                 ;    1198 	0x54b5a0, 0x3e55d0, 0x2a55b2, 0x5049b0, 0x3aa577, 0x5ea4b0, 0x48aa50, 0x33b255, 0x586d20, 0x40ad60,
                 ;    1199 	0x2d4b63, 0x525370, 0x3e49e8, 0x60c970, 0x4c54b0, 0x3768a6, 0x5ada50, 0x445aa0, 0x2fa6a4, 0x54aad0,
                 ;    1200 	0x4052e0, 0x28d2e3, 0x4ec950, 0x38d557, 0x5ed4a0, 0x46d950, 0x325d55, 0x5856a0, 0x42a6d0, 0x2c55d4,
                 ;    1201 	0x5252b0, 0x3ca9b8, 0x62a930, 0x4ab490, 0x34b6a6, 0x5aad50, 0x4655a0, 0x2eab64, 0x54a570, 0x4052b0,
                 ;    1202 	0x2ab173, 0x4e6930, 0x386b37, 0x5e6aa0, 0x48ad50, 0x332ad5, 0x582b60, 0x42a570, 0x2e52e4, 0x50d160,
                 ;    1203 	0x3ae958, 0x60d520, 0x4ada90, 0x355aa6, 0x5a56d0, 0x462ae0, 0x30a9d4, 0x54a2d0, 0x3ed150, 0x28e952
                 ;    1204 }; /* Years 2000-2099 */
                 ;    1205 
                 ;    1206 //char CAN[10][10] = {"Giap", "At", "Binh", "Dinh", "Mau", "Ky", "Canh", "Tan", "Nham", "Quy"};
                 ;    1207 //char CHI[12][10] = {"Ty'", "Suu", "Dan", "Mao", "Thin", "Ty.", "Ngo", "Mui", "Than", "Dau", "Tuat", "Hoi"};
                 ;    1208 //char TUAN[7][10] = {"Chu Nhat", "Thu Hai", "Thu Ba", "Thu Tu", "Thu Nam", "Thu Sau", "Thu Bay"};
                 ;    1209 
                 ;    1210 typedef struct _LunarDate{
                 ;    1211     BYTE day;
                 ;    1212     BYTE month;
                 ;    1213     WORD year;
                 ;    1214     BYTE leap;
                 ;    1215     DWORD jd; 
                 ;    1216 } LUNAR_DATE;
                 ;    1217               
                 ;    1218 LUNAR_DATE ld;
                 
                 	.DSEG
                 _ld:
000151           	.BYTE 0x9
                 ;    1219 LUNAR_DATE ly[14];
                 _ly:
00015a           	.BYTE 0x7E
                 ;    1220 
                 ;    1221 DWORD jdn(int dd, int mm, int yy) {
                 
                 	.CSEG
                 ;    1222 	int a=0, y=0, m=0;
                 ;    1223 	a = ((14 - mm) / 12);
                 ;	dd -> Y+10
                 ;	mm -> Y+8
                 ;	yy -> Y+6
                 ;	a -> R16,R17
                 ;	y -> R18,R19
                 ;	m -> R20,R21
                 ;    1224 	y = yy+4800-a;
                 ;    1225 	m = mm+12*a-3;	
                 ;    1226 	return (DWORD)((153*m+2)/5  + 365*y - (y/100) - 32045 + dd + (y/4)  + (y/400));
                 ;    1227 }
                 ;    1228 
                 ;    1229 void decodeLunarYear(int yy, DWORD k) {	
                 ;    1230 	int regularMonths[12];
                 ;    1231 	int monthLengths[2]={29,30};
                 ;    1232 	DWORD offsetOfTet=0,currentJD=0,solarNY=0;
                 ;    1233 	int leapMonth=0,leapMonthLength=0;
                 ;    1234 	int i=0, j=0,mm=0;
                 ;    1235 	offsetOfTet = k >> 17;
                 ;	yy -> Y+54
                 ;	k -> Y+50
                 ;	regularMonths -> Y+26
                 ;	monthLengths -> Y+22
                 ;	offsetOfTet -> Y+18
                 ;	currentJD -> Y+14
                 ;	solarNY -> Y+10
                 ;	leapMonth -> R16,R17
                 ;	leapMonthLength -> R18,R19
                 ;	i -> R20,R21
                 ;	j -> Y+8
                 ;	mm -> Y+6
                 ;    1236 	leapMonth = k & 0xf;
                 ;    1237 	leapMonthLength = monthLengths[k >> 16 & 0x1];
                 ;    1238 	solarNY = jdn(1, 1, yy);
                 ;    1239 	currentJD = (DWORD)(solarNY+offsetOfTet);
                 ;    1240 	j = k >> 4;
                 ;    1241 	for(i = 0; i < 12; i++) {
                 ;    1242 		regularMonths[12 - i - 1] = monthLengths[j & 0x1];
                 ;    1243 		j >>= 1;
                 ;    1244 	}
                 ;    1245 	if (leapMonth == 0) {
                 ;    1246 		for(mm = 1; mm <= 12; mm++) {
                 ;    1247 			ly[mm].day = 1;
                 ;    1248 			ly[mm].month = mm;
                 ;    1249 			ly[mm].year = yy;
                 ;    1250 			ly[mm].leap = 0;
                 ;    1251 			ly[mm].jd = currentJD;
                 ;    1252 			currentJD += regularMonths[mm-1];
                 ;    1253 		}
                 ;    1254 	} else {
                 ;    1255 		for(mm = 1; mm <= leapMonth; mm++) {
                 ;    1256 			ly[mm].day = 1;
                 ;    1257 			ly[mm].month = mm;
                 ;    1258 			ly[mm].year = yy;
                 ;    1259 			ly[mm].leap = 0;
                 ;    1260 			ly[mm].jd = currentJD;
                 ;    1261 			currentJD += regularMonths[mm-1];
                 ;    1262 		}		
                 ;    1263 		ly[mm].day = 1;
                 ;    1264 			ly[mm].month = leapMonth;
                 ;    1265 			ly[mm].year = yy;
                 ;    1266 			ly[mm].leap = 0;
                 ;    1267 			ly[mm].jd = currentJD;
                 ;    1268 		currentJD += leapMonthLength;
                 ;    1269 		for(mm = leapMonth+2; mm <= 13; mm++) {
                 ;    1270 			ly[mm].day = 1;
                 ;    1271 			ly[mm].month = mm-1;
                 ;    1272 			ly[mm].year = yy;
                 ;    1273 			ly[mm].leap = 0;
                 ;    1274 			ly[mm].jd = currentJD;
                 ;    1275 			currentJD += regularMonths[mm-2];
                 ;    1276 		}
                 ;    1277 	}	
                 ;    1278 }
                 ;    1279 
                 ;    1280 void getYearInfo(int yyyy) {
                 ;    1281 	DWORD yearCode = 0;
                 ;    1282 	yearCode = TK21[yyyy - 2000];
                 ;	yyyy -> Y+4
                 ;	yearCode -> Y+0
                 ;    1283 	decodeLunarYear(yyyy, yearCode);
                 ;    1284 }
                 ;    1285 
                 ;    1286 void getLunarDate(int dd, int mm, int yyyy) {
                 ;    1287 	int i =13;
                 ;    1288 	DWORD jd =0;	
                 ;    1289 	getYearInfo(yyyy);
                 ;	dd -> Y+10
                 ;	mm -> Y+8
                 ;	yyyy -> Y+6
                 ;	i -> R16,R17
                 ;	jd -> Y+2
                 ;    1290 	jd = jdn(dd, mm, yyyy);
                 ;    1291 	if (jd < ly[1].jd) {
                 ;    1292 		getYearInfo(yyyy - 1);
                 ;    1293 	}	
                 ;    1294 	if (ly[13].jd==0) i=12;
                 ;    1295 	while (jd < ly[i].jd) {
                 ;    1296 		i--;
                 ;    1297 	}	
                 ;    1298 	ld.day = ly[i].day + jd - ly[i].jd;	
                 ;    1299 	ld.month = ly[i].month;
                 ;    1300 	ld.year = ly[i].year;
                 ;    1301 	ld.leap = ly[i].leap;
                 ;    1302 	ld.jd = jd;
                 ;    1303 }
                 ;    1304 
                 ;    1305 void getLunarStr(char* sz, short h, short m, short dd, short mm, int yyyy){	
                 ;    1306 	getLunarDate(dd, mm, yyyy);	
                 ;	*sz -> Y+10
                 ;	h -> Y+8
                 ;	m -> Y+6
                 ;	dd -> Y+4
                 ;	mm -> Y+2
                 ;	yyyy -> Y+0
                 ;    1307 	
                 ;    1308 	sprintf(sz,"B©y giê lµ %02d:%02d ngµy %d/%d/%d (%d/%d ¢m lÞch)",	            
                 ;    1309                 h,m,dd,mm,yyyy,
                 ;    1310                 ld.day,ld.month);
                 ;    1311              
                 ;    1312 /*	sprintf(sz,"%s %s,%s,%s",
                 ;    1313 	    TUAN[(ld[4] + 1)%7],
                 ;    1314 	    CAN[(ld[4] + 9)%10],CHI[(ld[4]+1)%12],
                 ;    1315 	    CAN[(ld[2]*12+ld[1]+3)%10],CHI[(ld[1]+1)%12],
                 ;    1316 	    CAN[(ld[2]+6)%10],CHI[(ld[2]+8)%12]);
                 ;    1317 */	    
                 ;    1318 }
                 
                 _getchar:
0008db 9b5f           sbis usr,rxc
0008dc cffe           rjmp _getchar
0008dd b1ec           in   r30,udr
0008de 9508      	RET
                 _putchar:
0008df 9b5d           sbis usr,udre
0008e0 cffe           rjmp _putchar
0008e1 81e8           ld   r30,y
0008e2 b9ec           out  udr,r30
0008e3 9621      	ADIW R28,1
0008e4 9508      	RET
                 __put_G5:
0008e5 81a8      	LD   R26,Y
0008e6 81b9      	LDD  R27,Y+1
0008e7 d298      	RCALL __GETW1P
0008e8 9730      	SBIW R30,0
0008e9 f049      	BREQ _0xB3
0008ea 91ed      	LD   R30,X+
0008eb 91fd      	LD   R31,X+
0008ec 9631      	ADIW R30,1
0008ed 93fe      	ST   -X,R31
0008ee 93ee      	ST   -X,R30
0008ef 9731      	SBIW R30,1
0008f0 81aa      	LDD  R26,Y+2
0008f1 83a0      	STD  Z+0,R26
0008f2 c003      	RJMP _0xB4
                 _0xB3:
0008f3 81ea      	LDD  R30,Y+2
0008f4 93ea      	ST   -Y,R30
0008f5 dfe9      	RCALL _putchar
                 _0xB4:
0008f6 c1c0      	RJMP _0x113
                 __print_G5:
0008f7 9726      	SBIW R28,6
0008f8 d294      	RCALL __SAVELOCR6
0008f9 e000      	LDI  R16,0
                 _0xB5:
0008fa 89e8      	LDD  R30,Y+16
0008fb 89f9      	LDD  R31,Y+16+1
0008fc 9631      	ADIW R30,1
0008fd 8be8      	STD  Y+16,R30
0008fe 8bf9      	STD  Y+16+1,R31
0008ff 9731      	SBIW R30,1
000900 91e4      	LPM  R30,Z
000901 2f3e      	MOV  R19,R30
000902 30e0      	CPI  R30,0
000903 f409      	BRNE PC+2
000904 c14a      	RJMP _0xB7
000905 2fe0      	MOV  R30,R16
000906 30e0      	CPI  R30,0
000907 f459      	BRNE _0xBB
000908 3235      	CPI  R19,37
000909 f411      	BRNE _0xBC
00090a e001      	LDI  R16,LOW(1)
00090b c006      	RJMP _0xBD
                 _0xBC:
00090c 933a      	ST   -Y,R19
00090d 85ed      	LDD  R30,Y+13
00090e 85fe      	LDD  R31,Y+13+1
00090f 93fa      	ST   -Y,R31
000910 93ea      	ST   -Y,R30
000911 dfd3      	RCALL __put_G5
                 _0xBD:
000912 c13b      	RJMP _0xBA
                 _0xBB:
000913 30e1      	CPI  R30,LOW(0x1)
000914 f4c9      	BRNE _0xBE
000915 3235      	CPI  R19,37
000916 f439      	BRNE _0xBF
000917 933a      	ST   -Y,R19
000918 85ed      	LDD  R30,Y+13
000919 85fe      	LDD  R31,Y+13+1
00091a 93fa      	ST   -Y,R31
00091b 93ea      	ST   -Y,R30
00091c dfc8      	RCALL __put_G5
00091d c12f      	RJMP _0x11F
                 _0xBF:
00091e e002      	LDI  R16,LOW(2)
00091f e050      	LDI  R21,LOW(0)
000920 e010      	LDI  R17,LOW(0)
000921 323d      	CPI  R19,45
000922 f411      	BRNE _0xC0
000923 e011      	LDI  R17,LOW(1)
000924 c129      	RJMP _0xBA
                 _0xC0:
000925 323b      	CPI  R19,43
000926 f411      	BRNE _0xC1
000927 e25b      	LDI  R21,LOW(43)
000928 c125      	RJMP _0xBA
                 _0xC1:
000929 3230      	CPI  R19,32
00092a f411      	BRNE _0xC2
00092b e250      	LDI  R21,LOW(32)
00092c c121      	RJMP _0xBA
                 _0xC2:
00092d c002      	RJMP _0xC3
                 _0xBE:
00092e 30e2      	CPI  R30,LOW(0x2)
00092f f439      	BRNE _0xC4
                 _0xC3:
000930 e040      	LDI  R20,LOW(0)
000931 e003      	LDI  R16,LOW(3)
000932 3330      	CPI  R19,48
000933 f411      	BRNE _0xC5
000934 6810      	ORI  R17,LOW(128)
000935 c118      	RJMP _0xBA
                 _0xC5:
000936 c003      	RJMP _0xC6
                 _0xC4:
000937 30e3      	CPI  R30,LOW(0x3)
000938 f009      	BREQ PC+2
000939 c114      	RJMP _0xBA
                 _0xC6:
00093a 3330      	CPI  R19,48
00093b f010      	BRLO _0xC9
00093c 333a      	CPI  R19,58
00093d f008      	BRLO _0xCA
                 _0xC9:
00093e c009      	RJMP _0xC8
                 _0xCA:
00093f 2fa4      	MOV  R26,R20
000940 e0ea      	LDI  R30,LOW(10)
000941 9fea      	MUL  R30,R26
000942 01f0      	MOVW R30,R0
000943 2f4e      	MOV  R20,R30
000944 2fe3      	MOV  R30,R19
000945 53e0      	SUBI R30,LOW(48)
000946 0f4e      	ADD  R20,R30
000947 c106      	RJMP _0xBA
                 _0xC8:
000948 2fe3      	MOV  R30,R19
000949 36e3      	CPI  R30,LOW(0x63)
00094a f471      	BRNE _0xCE
00094b 85ae      	LDD  R26,Y+14
00094c 85bf      	LDD  R27,Y+14+1
00094d 9714      	SBIW R26,4
00094e 87ae      	STD  Y+14,R26
00094f 87bf      	STD  Y+14+1,R27
000950 9614      	ADIW R26,4
000951 91ec      	LD   R30,X
000952 93ea      	ST   -Y,R30
000953 85ed      	LDD  R30,Y+13
000954 85fe      	LDD  R31,Y+13+1
000955 93fa      	ST   -Y,R31
000956 93ea      	ST   -Y,R30
000957 df8d      	RCALL __put_G5
000958 c0f4      	RJMP _0xCF
                 _0xCE:
000959 37e3      	CPI  R30,LOW(0x73)
00095a f471      	BRNE _0xD1
00095b 85ae      	LDD  R26,Y+14
00095c 85bf      	LDD  R27,Y+14+1
00095d 9714      	SBIW R26,4
00095e 87ae      	STD  Y+14,R26
00095f 87bf      	STD  Y+14+1,R27
000960 9614      	ADIW R26,4
000961 d21e      	RCALL __GETW1P
000962 83ee      	STD  Y+6,R30
000963 83ff      	STD  Y+6+1,R31
000964 93fa      	ST   -Y,R31
000965 93ea      	ST   -Y,R30
000966 d1a4      	RCALL _strlen
000967 2f0e      	MOV  R16,R30
000968 c010      	RJMP _0xD2
                 _0xD1:
000969 37e0      	CPI  R30,LOW(0x70)
00096a f491      	BRNE _0xD4
00096b 85ae      	LDD  R26,Y+14
00096c 85bf      	LDD  R27,Y+14+1
00096d 9714      	SBIW R26,4
00096e 87ae      	STD  Y+14,R26
00096f 87bf      	STD  Y+14+1,R27
000970 9614      	ADIW R26,4
000971 d20e      	RCALL __GETW1P
000972 83ee      	STD  Y+6,R30
000973 83ff      	STD  Y+6+1,R31
000974 93fa      	ST   -Y,R31
000975 93ea      	ST   -Y,R30
000976 d19e      	RCALL _strlenf
000977 2f0e      	MOV  R16,R30
000978 6018      	ORI  R17,LOW(8)
                 _0xD2:
000979 6012      	ORI  R17,LOW(2)
00097a 771f      	ANDI R17,LOW(127)
00097b e020      	LDI  R18,LOW(0)
00097c c03c      	RJMP _0xD5
                 _0xD4:
00097d 36e4      	CPI  R30,LOW(0x64)
00097e f011      	BREQ _0xD8
00097f 36e9      	CPI  R30,LOW(0x69)
000980 f411      	BRNE _0xD9
                 _0xD8:
000981 6014      	ORI  R17,LOW(4)
000982 c002      	RJMP _0xDA
                 _0xD9:
000983 37e5      	CPI  R30,LOW(0x75)
000984 f431      	BRNE _0xDB
                 _0xDA:
000985 eeec      	LDI  R30,LOW(_tbl10_G5*2)
000986 e0f1      	LDI  R31,HIGH(_tbl10_G5*2)
000987 83ee      	STD  Y+6,R30
000988 83ff      	STD  Y+6+1,R31
000989 e005      	LDI  R16,LOW(5)
00098a c00c      	RJMP _0xDC
                 _0xDB:
00098b 35e8      	CPI  R30,LOW(0x58)
00098c f411      	BRNE _0xDE
00098d 6018      	ORI  R17,LOW(8)
00098e c003      	RJMP _0xDF
                 _0xDE:
00098f 37e8      	CPI  R30,LOW(0x78)
000990 f009      	BREQ PC+2
000991 c0bb      	RJMP _0x110
                 _0xDF:
000992 efe6      	LDI  R30,LOW(_tbl16_G5*2)
000993 e0f1      	LDI  R31,HIGH(_tbl16_G5*2)
000994 83ee      	STD  Y+6,R30
000995 83ff      	STD  Y+6+1,R31
000996 e004      	LDI  R16,LOW(4)
                 _0xDC:
000997 ff12      	SBRS R17,2
000998 c017      	RJMP _0xE1
000999 85ae      	LDD  R26,Y+14
00099a 85bf      	LDD  R27,Y+14+1
00099b 9714      	SBIW R26,4
00099c 87ae      	STD  Y+14,R26
00099d 87bf      	STD  Y+14+1,R27
00099e 9614      	ADIW R26,4
00099f d1e0      	RCALL __GETW1P
0009a0 87ea      	STD  Y+10,R30
0009a1 87fb      	STD  Y+10+1,R31
0009a2 85aa      	LDD  R26,Y+10
0009a3 85bb      	LDD  R27,Y+10+1
0009a4 9710      	SBIW R26,0
0009a5 f424      	BRGE _0xE2
0009a6 d19e      	RCALL __ANEGW1
0009a7 87ea      	STD  Y+10,R30
0009a8 87fb      	STD  Y+10+1,R31
0009a9 e25d      	LDI  R21,LOW(45)
                 _0xE2:
0009aa 3050      	CPI  R21,0
0009ab f011      	BREQ _0xE3
0009ac 5f0f      	SUBI R16,-LOW(1)
0009ad c001      	RJMP _0xE4
                 _0xE3:
0009ae 7f1b      	ANDI R17,LOW(251)
                 _0xE4:
0009af c009      	RJMP _0xE5
                 _0xE1:
0009b0 85ae      	LDD  R26,Y+14
0009b1 85bf      	LDD  R27,Y+14+1
0009b2 9714      	SBIW R26,4
0009b3 87ae      	STD  Y+14,R26
0009b4 87bf      	STD  Y+14+1,R27
0009b5 9614      	ADIW R26,4
0009b6 d1c9      	RCALL __GETW1P
0009b7 87ea      	STD  Y+10,R30
0009b8 87fb      	STD  Y+10+1,R31
                 _0xE5:
                 _0xD5:
0009b9 fd10      	SBRC R17,0
0009ba c015      	RJMP _0xE6
                 _0xE7:
0009bb 1704      	CP   R16,R20
0009bc f498      	BRSH _0xE9
0009bd ff17      	SBRS R17,7
0009be c008      	RJMP _0xEA
0009bf ff12      	SBRS R17,2
0009c0 c004      	RJMP _0xEB
0009c1 7f1b      	ANDI R17,LOW(251)
0009c2 2f35      	MOV  R19,R21
0009c3 5001      	SUBI R16,LOW(1)
0009c4 c001      	RJMP _0xEC
                 _0xEB:
0009c5 e330      	LDI  R19,LOW(48)
                 _0xEC:
0009c6 c001      	RJMP _0xED
                 _0xEA:
0009c7 e230      	LDI  R19,LOW(32)
                 _0xED:
0009c8 933a      	ST   -Y,R19
0009c9 85ed      	LDD  R30,Y+13
0009ca 85fe      	LDD  R31,Y+13+1
0009cb 93fa      	ST   -Y,R31
0009cc 93ea      	ST   -Y,R30
0009cd df17      	RCALL __put_G5
0009ce 5041      	SUBI R20,LOW(1)
0009cf cfeb      	RJMP _0xE7
                 _0xE9:
                 _0xE6:
0009d0 2f20      	MOV  R18,R16
0009d1 ff11      	SBRS R17,1
0009d2 c01d      	RJMP _0xEE
                 _0xEF:
0009d3 3020      	CPI  R18,0
0009d4 f0d1      	BREQ _0xF1
0009d5 ff13      	SBRS R17,3
0009d6 c008      	RJMP _0xF2
0009d7 81ee      	LDD  R30,Y+6
0009d8 81ff      	LDD  R31,Y+6+1
0009d9 9631      	ADIW R30,1
0009da 83ee      	STD  Y+6,R30
0009db 83ff      	STD  Y+6+1,R31
0009dc 9731      	SBIW R30,1
0009dd 91e4      	LPM  R30,Z
0009de c005      	RJMP _0x120
                 _0xF2:
0009df 81ae      	LDD  R26,Y+6
0009e0 81bf      	LDD  R27,Y+6+1
0009e1 91ed      	LD   R30,X+
0009e2 83ae      	STD  Y+6,R26
0009e3 83bf      	STD  Y+6+1,R27
                 _0x120:
0009e4 93ea      	ST   -Y,R30
0009e5 85ed      	LDD  R30,Y+13
0009e6 85fe      	LDD  R31,Y+13+1
0009e7 93fa      	ST   -Y,R31
0009e8 93ea      	ST   -Y,R30
0009e9 defb      	RCALL __put_G5
0009ea 3040      	CPI  R20,0
0009eb f009      	BREQ _0xF4
0009ec 5041      	SUBI R20,LOW(1)
                 _0xF4:
0009ed 5021      	SUBI R18,LOW(1)
0009ee cfe4      	RJMP _0xEF
                 _0xF1:
0009ef c050      	RJMP _0xF5
                 _0xEE:
                 _0xF7:
0009f0 e330      	LDI  R19,LOW(48)
0009f1 81ee      	LDD  R30,Y+6
0009f2 81ff      	LDD  R31,Y+6+1
0009f3 9632      	ADIW R30,2
0009f4 83ee      	STD  Y+6,R30
0009f5 83ff      	STD  Y+6+1,R31
0009f6 9732      	SBIW R30,2
0009f7 d18c      	RCALL __GETW1PF
0009f8 87e8      	STD  Y+8,R30
0009f9 87f9      	STD  Y+8+1,R31
                 _0xF9:
0009fa 85e8      	LDD  R30,Y+8
0009fb 85f9      	LDD  R31,Y+8+1
0009fc 85aa      	LDD  R26,Y+10
0009fd 85bb      	LDD  R27,Y+10+1
0009fe 17ae      	CP   R26,R30
0009ff 07bf      	CPC  R27,R31
000a00 f050      	BRLO _0xFB
000a01 5f3f      	SUBI R19,-LOW(1)
000a02 85a8      	LDD  R26,Y+8
000a03 85b9      	LDD  R27,Y+8+1
000a04 85ea      	LDD  R30,Y+10
000a05 85fb      	LDD  R31,Y+10+1
000a06 1bea      	SUB  R30,R26
000a07 0bfb      	SBC  R31,R27
000a08 87ea      	STD  Y+10,R30
000a09 87fb      	STD  Y+10+1,R31
000a0a cfef      	RJMP _0xF9
                 _0xFB:
000a0b 333a      	CPI  R19,58
000a0c f028      	BRLO _0xFC
000a0d ff13      	SBRS R17,3
000a0e c002      	RJMP _0xFD
000a0f 5f39      	SUBI R19,-LOW(7)
000a10 c001      	RJMP _0xFE
                 _0xFD:
000a11 5d39      	SUBI R19,-LOW(39)
                 _0xFE:
                 _0xFC:
000a12 fd14      	SBRC R17,4
000a13 c01d      	RJMP _0x100
000a14 3331      	CPI  R19,49
000a15 f420      	BRSH _0x102
000a16 85a8      	LDD  R26,Y+8
000a17 85b9      	LDD  R27,Y+8+1
000a18 9711      	SBIW R26,1
000a19 f409      	BRNE _0x101
                 _0x102:
000a1a c009      	RJMP _0x121
                 _0x101:
000a1b 1742      	CP   R20,R18
000a1c f010      	BRLO _0x106
000a1d ff10      	SBRS R17,0
000a1e c001      	RJMP _0x107
                 _0x106:
000a1f c01a      	RJMP _0x105
                 _0x107:
000a20 e230      	LDI  R19,LOW(32)
000a21 ff17      	SBRS R17,7
000a22 c00e      	RJMP _0x108
000a23 e330      	LDI  R19,LOW(48)
                 _0x121:
000a24 6110      	ORI  R17,LOW(16)
000a25 ff12      	SBRS R17,2
000a26 c00a      	RJMP _0x109
000a27 7f1b      	ANDI R17,LOW(251)
000a28 935a      	ST   -Y,R21
000a29 85ed      	LDD  R30,Y+13
000a2a 85fe      	LDD  R31,Y+13+1
000a2b 93fa      	ST   -Y,R31
000a2c 93ea      	ST   -Y,R30
000a2d deb7      	RCALL __put_G5
000a2e 3040      	CPI  R20,0
000a2f f009      	BREQ _0x10A
000a30 5041      	SUBI R20,LOW(1)
                 _0x10A:
                 _0x109:
                 _0x108:
                 _0x100:
000a31 933a      	ST   -Y,R19
000a32 85ed      	LDD  R30,Y+13
000a33 85fe      	LDD  R31,Y+13+1
000a34 93fa      	ST   -Y,R31
000a35 93ea      	ST   -Y,R30
000a36 deae      	RCALL __put_G5
000a37 3040      	CPI  R20,0
000a38 f009      	BREQ _0x10B
000a39 5041      	SUBI R20,LOW(1)
                 _0x10B:
                 _0x105:
000a3a 5021      	SUBI R18,LOW(1)
000a3b 85a8      	LDD  R26,Y+8
000a3c 85b9      	LDD  R27,Y+8+1
000a3d 9712      	SBIW R26,2
000a3e f008      	BRLO _0xF8
000a3f cfb0      	RJMP _0xF7
                 _0xF8:
                 _0xF5:
000a40 ff10      	SBRS R17,0
000a41 c00b      	RJMP _0x10C
                 _0x10D:
000a42 3040      	CPI  R20,0
000a43 f049      	BREQ _0x10F
000a44 5041      	SUBI R20,LOW(1)
000a45 e2e0      	LDI  R30,LOW(32)
000a46 93ea      	ST   -Y,R30
000a47 85ed      	LDD  R30,Y+13
000a48 85fe      	LDD  R31,Y+13+1
000a49 93fa      	ST   -Y,R31
000a4a 93ea      	ST   -Y,R30
000a4b de99      	RCALL __put_G5
000a4c cff5      	RJMP _0x10D
                 _0x10F:
                 _0x10C:
                 _0x110:
                 _0xCF:
                 _0x11F:
000a4d e000      	LDI  R16,LOW(0)
                 _0xBA:
000a4e ceab      	RJMP _0xB5
                 _0xB7:
000a4f d144      	RCALL __LOADLOCR6
000a50 9662      	ADIW R28,18
000a51 9508      	RET
                 _printf:
000a52 92ff      	PUSH R15
000a53 2ef8      	MOV  R15,R24
000a54 9722      	SBIW R28,2
000a55 d13b      	RCALL __SAVELOCR2
000a56 01de      	MOVW R26,R28
000a57 d0e9      	RCALL __ADDW2R15
000a58 018d      	MOVW R16,R26
000a59 e0e0      	LDI  R30,0
000a5a 83ea      	STD  Y+2,R30
000a5b 83eb      	STD  Y+2+1,R30
000a5c 01de      	MOVW R26,R28
000a5d 9614      	ADIW R26,4
000a5e d0e2      	RCALL __ADDW2R15
000a5f d120      	RCALL __GETW1P
000a60 93fa      	ST   -Y,R31
000a61 93ea      	ST   -Y,R30
000a62 931a      	ST   -Y,R17
000a63 930a      	ST   -Y,R16
000a64 01fe      	MOVW R30,R28
000a65 9636      	ADIW R30,6
000a66 93fa      	ST   -Y,R31
000a67 93ea      	ST   -Y,R30
000a68 de8e      	RCALL __print_G5
000a69 d12e      	RCALL __LOADLOCR2
000a6a 9624      	ADIW R28,4
000a6b 90ff      	POP  R15
000a6c 9508      	RET
                 _rtc_init:
000a6d 81ea      	LDD  R30,Y+2
000a6e 70e3      	ANDI R30,LOW(0x3)
000a6f 83ea      	STD  Y+2,R30
000a70 81e9      	LDD  R30,Y+1
000a71 30e0      	CPI  R30,0
000a72 f019      	BREQ _0x111
000a73 81ea      	LDD  R30,Y+2
000a74 61e0      	ORI  R30,0x10
000a75 83ea      	STD  Y+2,R30
                 _0x111:
000a76 81e8      	LD   R30,Y
000a77 30e0      	CPI  R30,0
000a78 f019      	BREQ _0x112
000a79 81ea      	LDD  R30,Y+2
000a7a 68e0      	ORI  R30,0x80
000a7b 83ea      	STD  Y+2,R30
                 _0x112:
000a7c d041      	RCALL _i2c_start
000a7d ede0      	LDI  R30,LOW(208)
000a7e 93ea      	ST   -Y,R30
000a7f d072      	RCALL _i2c_write
000a80 e0e7      	LDI  R30,LOW(7)
000a81 93ea      	ST   -Y,R30
000a82 d06f      	RCALL _i2c_write
000a83 81ea      	LDD  R30,Y+2
000a84 93ea      	ST   -Y,R30
000a85 d06c      	RCALL _i2c_write
000a86 d046      	RCALL _i2c_stop
000a87 c02f      	RJMP _0x113
                 _rtc_set_time:
000a88 d035      	RCALL _i2c_start
000a89 ede0      	LDI  R30,LOW(208)
000a8a 93ea      	ST   -Y,R30
000a8b d066      	RCALL _i2c_write
000a8c e0e0      	LDI  R30,LOW(0)
000a8d 93ea      	ST   -Y,R30
000a8e d063      	RCALL _i2c_write
000a8f 81e8      	LD   R30,Y
000a90 93ea      	ST   -Y,R30
000a91 d0a6      	RCALL _bin2bcd
000a92 93ea      	ST   -Y,R30
000a93 d05e      	RCALL _i2c_write
000a94 81e9      	LDD  R30,Y+1
000a95 93ea      	ST   -Y,R30
000a96 d0a1      	RCALL _bin2bcd
000a97 93ea      	ST   -Y,R30
000a98 d059      	RCALL _i2c_write
000a99 81ea      	LDD  R30,Y+2
000a9a 93ea      	ST   -Y,R30
000a9b d09c      	RCALL _bin2bcd
000a9c 93ea      	ST   -Y,R30
000a9d d054      	RCALL _i2c_write
000a9e d02e      	RCALL _i2c_stop
000a9f c017      	RJMP _0x113
                 _rtc_set_date:
000aa0 d01d      	RCALL _i2c_start
000aa1 ede0      	LDI  R30,LOW(208)
000aa2 93ea      	ST   -Y,R30
000aa3 d04e      	RCALL _i2c_write
000aa4 e0e4      	LDI  R30,LOW(4)
000aa5 93ea      	ST   -Y,R30
000aa6 d04b      	RCALL _i2c_write
000aa7 81ea      	LDD  R30,Y+2
000aa8 93ea      	ST   -Y,R30
000aa9 d08e      	RCALL _bin2bcd
000aaa 93ea      	ST   -Y,R30
000aab d046      	RCALL _i2c_write
000aac 81e9      	LDD  R30,Y+1
000aad 93ea      	ST   -Y,R30
000aae d089      	RCALL _bin2bcd
000aaf 93ea      	ST   -Y,R30
000ab0 d041      	RCALL _i2c_write
000ab1 81e8      	LD   R30,Y
000ab2 93ea      	ST   -Y,R30
000ab3 d084      	RCALL _bin2bcd
000ab4 93ea      	ST   -Y,R30
000ab5 d03c      	RCALL _i2c_write
000ab6 d016      	RCALL _i2c_stop
                 _0x113:
000ab7 9623      	ADIW R28,3
000ab8 9508      	RET
                 
                 	.equ __i2c_dir=__i2c_port-1
                 	.equ __i2c_pin=__i2c_port-2
                 _i2c_init:
000ab9 9892      	cbi  __i2c_port,__scl_bit
000aba 9893      	cbi  __i2c_port,__sda_bit
000abb 9a8a      	sbi  __i2c_dir,__scl_bit
000abc 988b      	cbi  __i2c_dir,__sda_bit
000abd c015      	rjmp __i2c_delay2
                 _i2c_start:
000abe 988b      	cbi  __i2c_dir,__sda_bit
000abf 988a      	cbi  __i2c_dir,__scl_bit
000ac0 27ee      	clr  r30
000ac1 0000      	nop
000ac2 9b83      	sbis __i2c_pin,__sda_bit
000ac3 9508      	ret
000ac4 9b82      	sbis __i2c_pin,__scl_bit
000ac5 9508      	ret
000ac6 d004      	rcall __i2c_delay1
000ac7 9a8b      	sbi  __i2c_dir,__sda_bit
000ac8 d002      	rcall __i2c_delay1
000ac9 9a8a      	sbi  __i2c_dir,__scl_bit
000aca e0e1      	ldi  r30,1
                 __i2c_delay1:
000acb e16b      	ldi  r22,27
000acc c007      	rjmp __i2c_delay2l
                 _i2c_stop:
000acd 9a8b      	sbi  __i2c_dir,__sda_bit
000ace 9a8a      	sbi  __i2c_dir,__scl_bit
000acf d003      	rcall __i2c_delay2
000ad0 988a      	cbi  __i2c_dir,__scl_bit
000ad1 dff9      	rcall __i2c_delay1
000ad2 988b      	cbi  __i2c_dir,__sda_bit
                 __i2c_delay2:
000ad3 e365      	ldi  r22,53
                 __i2c_delay2l:
000ad4 956a      	dec  r22
000ad5 f7f1      	brne __i2c_delay2l
000ad6 9508      	ret
                 _i2c_read:
000ad7 e078      	ldi  r23,8
                 __i2c_read0:
000ad8 988a      	cbi  __i2c_dir,__scl_bit
000ad9 dff1      	rcall __i2c_delay1
                 __i2c_read3:
000ada 9b82      	sbis __i2c_pin,__scl_bit
000adb cffe      	rjmp __i2c_read3
000adc dfee      	rcall __i2c_delay1
000add 9488      	clc
000ade 9983      	sbic __i2c_pin,__sda_bit
000adf 9408      	sec
000ae0 9a8a      	sbi  __i2c_dir,__scl_bit
000ae1 dff1      	rcall __i2c_delay2
000ae2 1fee      	rol  r30
000ae3 957a      	dec  r23
000ae4 f799      	brne __i2c_read0
000ae5 9179      	ld   r23,y+
000ae6 2377      	tst  r23
000ae7 f411      	brne __i2c_read1
000ae8 988b      	cbi  __i2c_dir,__sda_bit
000ae9 c001      	rjmp __i2c_read2
                 __i2c_read1:
000aea 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_read2:
000aeb dfdf      	rcall __i2c_delay1
000aec 988a      	cbi  __i2c_dir,__scl_bit
000aed dfe5      	rcall __i2c_delay2
000aee 9a8a      	sbi  __i2c_dir,__scl_bit
000aef dfdb      	rcall __i2c_delay1
000af0 988b      	cbi  __i2c_dir,__sda_bit
000af1 cfd9      	rjmp __i2c_delay1
                 
                 _i2c_write:
000af2 91e9      	ld   r30,y+
000af3 e078      	ldi  r23,8
                 __i2c_write0:
000af4 0fee      	lsl  r30
000af5 f410      	brcc __i2c_write1
000af6 988b      	cbi  __i2c_dir,__sda_bit
000af7 c001      	rjmp __i2c_write2
                 __i2c_write1:
000af8 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_write2:
000af9 dfd9      	rcall __i2c_delay2
000afa 988a      	cbi  __i2c_dir,__scl_bit
000afb dfcf      	rcall __i2c_delay1
                 __i2c_write3:
000afc 9b82      	sbis __i2c_pin,__scl_bit
000afd cffe      	rjmp __i2c_write3
000afe dfcc      	rcall __i2c_delay1
000aff 9a8a      	sbi  __i2c_dir,__scl_bit
000b00 957a      	dec  r23
000b01 f791      	brne __i2c_write0
000b02 988b      	cbi  __i2c_dir,__sda_bit
000b03 dfc7      	rcall __i2c_delay1
000b04 988a      	cbi  __i2c_dir,__scl_bit
000b05 dfcd      	rcall __i2c_delay2
000b06 e0e1      	ldi  r30,1
000b07 9983      	sbic __i2c_pin,__sda_bit
000b08 27ee      	clr  r30
000b09 9a8a      	sbi  __i2c_dir,__scl_bit
000b0a 9508      	ret
                 
                 _strlen:
000b0b 91a9      	ld   r26,y+
000b0c 91b9      	ld   r27,y+
000b0d 27ee      	clr  r30
000b0e 27ff      	clr  r31
                 __strlen0:
000b0f 916d      	ld   r22,x+
000b10 2366      	tst  r22
000b11 f011      	breq __strlen1
000b12 9631      	adiw r30,1
000b13 cffb      	rjmp __strlen0
                 __strlen1:
000b14 9508      	ret
                 
                 _strlenf:
000b15 27aa      	clr  r26
000b16 27bb      	clr  r27
000b17 91e9      	ld   r30,y+
000b18 91f9      	ld   r31,y+
                 __strlenf0:
000b19 9005      	lpm  r0,z+
000b1a 2000      	tst  r0
000b1b f011      	breq __strlenf1
000b1c 9611      	adiw r26,1
000b1d cffb      	rjmp __strlenf0
                 __strlenf1:
000b1e 01fd      	movw r30,r26
000b1f 9508      	ret
                 
                 _delay_ms:
000b20 91e9      	ld   r30,y+
000b21 91f9      	ld   r31,y+
000b22 9630      	adiw r30,0
000b23 f039      	breq __delay_ms1
                 __delay_ms0:
000b24 ea80
000b25 e09f
000b26 9701
000b27 f7f1      	__DELAY_USW 0xFA0
000b28 95a8      	wdr
000b29 9731      	sbiw r30,1
000b2a f7c9      	brne __delay_ms0
                 __delay_ms1:
000b2b 9508      	ret
                 
                 _bcd2bin:
000b2c 81e8      	ld   r30,y
000b2d 95e2      	swap r30
000b2e 70ef      	andi r30,0xf
000b2f 2fae      	mov  r26,r30
000b30 0faa      	lsl  r26
000b31 0faa      	lsl  r26
000b32 0fea      	add  r30,r26
000b33 0fee      	lsl  r30
000b34 91a9      	ld   r26,y+
000b35 70af      	andi r26,0xf
000b36 0fea      	add  r30,r26
000b37 9508      	ret
                 
                 _bin2bcd:
000b38 91a9      	ld   r26,y+
000b39 27ee      	clr  r30
                 __bin2bcd0:
000b3a 50aa      	subi r26,10
000b3b f012      	brmi __bin2bcd1
000b3c 5fe0      	subi r30,-16
000b3d cffc      	rjmp __bin2bcd0
                 __bin2bcd1:
000b3e 5fa6      	subi r26,-10
000b3f 0fea      	add  r30,r26
000b40 9508      	ret
                 
                 __ADDW2R15:
000b41 2400      	CLR  R0
000b42 0daf      	ADD  R26,R15
000b43 1db0      	ADC  R27,R0
000b44 9508      	RET
                 
                 __ANEGW1:
000b45 95e0      	COM  R30
000b46 95f0      	COM  R31
000b47 9631      	ADIW R30,1
000b48 9508      	RET
                 
                 __LSLW4:
000b49 0fee      	LSL  R30
000b4a 1fff      	ROL  R31
                 __LSLW3:
000b4b 0fee      	LSL  R30
000b4c 1fff      	ROL  R31
                 __LSLW2:
000b4d 0fee      	LSL  R30
000b4e 1fff      	ROL  R31
000b4f 0fee      	LSL  R30
000b50 1fff      	ROL  R31
000b51 9508      	RET
                 
                 __MULW12U:
000b52 9ffa      	MUL  R31,R26
000b53 2df0      	MOV  R31,R0
000b54 9feb      	MUL  R30,R27
000b55 0df0      	ADD  R31,R0
000b56 9fea      	MUL  R30,R26
000b57 2de0      	MOV  R30,R0
000b58 0df1      	ADD  R31,R1
000b59 9508      	RET
                 
                 __MULW12:
000b5a d017      	RCALL __CHKSIGNW
000b5b dff6      	RCALL __MULW12U
000b5c f40e      	BRTC __MULW121
000b5d dfe7      	RCALL __ANEGW1
                 __MULW121:
000b5e 9508      	RET
                 
                 __DIVW21U:
000b5f 2400      	CLR  R0
000b60 2411      	CLR  R1
000b61 e190      	LDI  R25,16
                 __DIVW21U1:
000b62 0faa      	LSL  R26
000b63 1fbb      	ROL  R27
000b64 1c00      	ROL  R0
000b65 1c11      	ROL  R1
000b66 1a0e      	SUB  R0,R30
000b67 0a1f      	SBC  R1,R31
000b68 f418      	BRCC __DIVW21U2
000b69 0e0e      	ADD  R0,R30
000b6a 1e1f      	ADC  R1,R31
000b6b c001      	RJMP __DIVW21U3
                 __DIVW21U2:
000b6c 60a1      	SBR  R26,1
                 __DIVW21U3:
000b6d 959a      	DEC  R25
000b6e f799      	BRNE __DIVW21U1
000b6f 01fd      	MOVW R30,R26
000b70 01d0      	MOVW R26,R0
000b71 9508      	RET
                 
                 __CHKSIGNW:
000b72 94e8      	CLT
000b73 fff7      	SBRS R31,7
000b74 c002      	RJMP __CHKSW1
000b75 dfcf      	RCALL __ANEGW1
000b76 9468      	SET
                 __CHKSW1:
000b77 ffb7      	SBRS R27,7
000b78 c006      	RJMP __CHKSW2
000b79 95a0      	COM  R26
000b7a 95b0      	COM  R27
000b7b 9611      	ADIW R26,1
000b7c f800      	BLD  R0,0
000b7d 9403      	INC  R0
000b7e fa00      	BST  R0,0
                 __CHKSW2:
000b7f 9508      	RET
                 
                 __GETW1P:
000b80 91ed      	LD   R30,X+
000b81 91fc      	LD   R31,X
000b82 9711      	SBIW R26,1
000b83 9508      	RET
                 
                 __GETW1PF:
000b84 9005      	LPM  R0,Z+
000b85 91f4      	LPM  R31,Z
000b86 2de0      	MOV  R30,R0
000b87 9508      	RET
                 
                 __PUTPARD1:
000b88 937a      	ST   -Y,R23
000b89 936a      	ST   -Y,R22
000b8a 93fa      	ST   -Y,R31
000b8b 93ea      	ST   -Y,R30
000b8c 9508      	RET
                 
                 __SAVELOCR6:
000b8d 935a      	ST   -Y,R21
                 __SAVELOCR5:
000b8e 934a      	ST   -Y,R20
                 __SAVELOCR4:
000b8f 933a      	ST   -Y,R19
                 __SAVELOCR3:
000b90 932a      	ST   -Y,R18
                 __SAVELOCR2:
000b91 931a      	ST   -Y,R17
000b92 930a      	ST   -Y,R16
000b93 9508      	RET
                 
                 __LOADLOCR6:
000b94 815d      	LDD  R21,Y+5
                 __LOADLOCR5:
000b95 814c      	LDD  R20,Y+4
                 __LOADLOCR4:
000b96 813b      	LDD  R19,Y+3
                 __LOADLOCR3:
000b97 812a      	LDD  R18,Y+2
                 __LOADLOCR2:
000b98 8119      	LDD  R17,Y+1
000b99 8108      	LD   R16,Y
000b9a 9508      	RET
                 
                 __LOADLOCR2P:
000b9b 9109      	LD   R16,Y+
000b9c 9119      	LD   R17,Y+
000b9d 9508      	RET
                 
                 __INITLOCB:
                 __INITLOCW:
000b9e 0fac      	ADD R26,R28
000b9f 1fbd      	ADC R27,R29
                 __INITLOC0:
000ba0 9005      	LPM  R0,Z+
000ba1 920d      	ST   X+,R0
000ba2 958a      	DEC  R24
000ba3 f7e1      	BRNE __INITLOC0
000ba4 9508      	RET
                 
                 ;END OF CODE MARKER
                 __END_OF_CODE:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

ATmega8515 register use summary:
r0 :  24 r1 :   6 r2 :  36 r3 :   0 r4 :  10 r5 :   7 r6 :   5 r7 :   3 
r8 :  24 r9 :   7 r10:   6 r11:  11 r12:  12 r13:   5 r14:   8 r15:   4 
r16:  97 r17:  54 r18:  19 r19:  39 r20:  28 r21:  17 r22:  15 r23:   8 
r24:  14 r25:   5 r26: 196 r27: 110 r28:  26 r29:   2 r30: 854 r31: 324 
x  :  28 y  : 467 z  :  14 
Registers used: 34 out of 35 (97.1%)

ATmega8515 instruction use summary:
adc   :  13 add   :  24 adiw  :  54 and   :   1 andi  :  26 asr   :   0 
bclr  :   0 bld   :  24 brbc  :   0 brbs  :   0 brcc  :   2 brcs  :   0 
break :   0 breq  :  27 brge  :   5 brhc  :   0 brhs  :   0 brid  :   0 
brie  :   0 brlo  :  25 brlt  :   2 brmi  :   1 brne  :  50 brpl  :   0 
brsh  :  20 brtc  :   1 brts  :   0 brvc  :   0 brvs  :   0 bset  :   0 
bst   :   1 cbi   :  34 cbr   :   0 clc   :   1 clh   :   0 cli   :   2 
cln   :   0 clr   :  32 cls   :   0 clt   :  13 clv   :   0 clz   :   0 
com   :   5 cp    :  22 cpc   :  33 cpi   :  78 cpse  :   0 dec   :   6 
eor   :   0 fmul  :   0 fmuls :   0 fmulsu:   0 icall :   0 ijmp  :   0 
in    :   9 inc   :   1 ld    :  46 ldd   : 151 ldi   : 324 lds   : 121 
lpm   :  13 lsl   :  18 lsr   :   4 mov   :  44 movw  :  44 mul   :   4 
muls  :   0 mulsu :   0 neg   :   0 nop   :   4 or    :   6 ori   :  14 
out   :  60 pop   :   9 push  :   9 rcall : 206 ret   :  51 reti  :   2 
rjmp  : 162 rol   :   8 ror   :   0 sbc   :  10 sbci  :  17 sbi   :  29 
sbic  :   2 sbis  :   6 sbiw  :  35 sbr   :   1 sbrc  :   7 sbrs  :  21 
sec   :   1 seh   :   0 sei   :   2 sen   :   0 ser   :   0 ses   :   0 
set   :   9 sev   :   0 sez   :   0 sleep :   0 spm   :   0 st    : 254 
std   :  45 sts   : 114 sub   :  10 subi  :  42 swap  :   1 tst   :   4 
wdr   :   6 
Instructions used: 69 out of 109 (63.3%)

ATmega8515 memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x00174a   5326    636   5962    8192  72.8%
[.dseg] 0x000060 0x0001d8      0    248    248     512  48.4%
[.eseg] 0x000000 0x000000      0      0      0     512   0.0%

Assembly complete, 0 errors, 9 warnings
