
AVRASM ver. 2.1.9  main.asm Fri Feb 09 21:09:25 2007

main.asm(990): Including file 'main.vec'
main.asm(991): Including file 'main.inc'
main.inc(2): warning: Register r4 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(9): warning: Register r6 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(10): warning: Register r7 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(11): warning: Register r9 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(14): warning: Register r11 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
main.inc(15): warning: Register r12 already defined by the .DEF directive
main.asm(991): 'main.inc' included form here
                 
                 
                 ;CodeVisionAVR C Compiler V1.25.2 Standard
                 ;(C) Copyright 1998-2006 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 
                 ;Chip type              : ATmega8515
                 ;Program type           : Application
                 ;Clock frequency        : 16.000000 MHz
                 ;Memory model           : Small
                 ;Optimize for           : Speed
                 ;(s)printf features     : int, width
                 ;(s)scanf features      : int, width
                 ;External SRAM size     : 0
                 ;Data Stack size        : 128 byte(s)
                 ;Heap size              : 0 byte(s)
                 ;Promote char to int    : No
                 ;char is unsigned       : Yes
                 ;8 bit enums            : Yes
                 ;Word align FLASH struct: No
                 ;Enhanced core instructions    : On
                 ;Automatic register allocation : On
                 
                 	#pragma AVRPART ADMIN PART_NAME ATmega8515
                 	#pragma AVRPART MEMORY PROG_FLASH 8192
                 	#pragma AVRPART MEMORY EEPROM 512
                 	#pragma AVRPART MEMORY INT_SRAM SIZE 512
                 	#pragma AVRPART MEMORY INT_SRAM START_ADDR 0x60
                 
                 	.EQU UDRE=0x5
                 	.EQU RXC=0x7
                 	.EQU USR=0xB
                 	.EQU UDR=0xC
                 	.EQU SPSR=0xE
                 	.EQU SPDR=0xF
                 	.EQU EERE=0x0
                 	.EQU EEWE=0x1
                 	.EQU EEMWE=0x2
                 	.EQU EECR=0x1C
                 	.EQU EEDR=0x1D
                 	.EQU EEARL=0x1E
                 	.EQU EEARH=0x1F
                 	.EQU WDTCR=0x21
                 	.EQU MCUCSR=0x34
                 	.EQU MCUCR=0x35
                 	.EQU EMCUCR=0x36
                 	.EQU GICR=0x3B
                 	.EQU SPL=0x3D
                 	.EQU SPH=0x3E
                 	.EQU SREG=0x3F
                 
                 	.DEF R0X0=R0
                 	.DEF R0X1=R1
                 	.DEF R0X2=R2
                 	.DEF R0X3=R3
                 	.DEF R0X4=R4
                 	.DEF R0X5=R5
                 	.DEF R0X6=R6
                 	.DEF R0X7=R7
                 	.DEF R0X8=R8
                 	.DEF R0X9=R9
                 	.DEF R0XA=R10
                 	.DEF R0XB=R11
                 	.DEF R0XC=R12
                 	.DEF R0XD=R13
                 	.DEF R0XE=R14
                 	.DEF R0XF=R15
                 	.DEF R0X10=R16
                 	.DEF R0X11=R17
                 	.DEF R0X12=R18
                 	.DEF R0X13=R19
                 	.DEF R0X14=R20
                 	.DEF R0X15=R21
                 	.DEF R0X16=R22
                 	.DEF R0X17=R23
                 	.DEF R0X18=R24
                 	.DEF R0X19=R25
                 	.DEF R0X1A=R26
                 	.DEF R0X1B=R27
                 	.DEF R0X1C=R28
                 	.DEF R0X1D=R29
                 	.DEF R0X1E=R30
                 	.DEF R0X1F=R31
                 
                 	.EQU __se_bit=0x20
                 
                 	.MACRO __CPD1N
                 	CPI  R30,LOW(@0)
                 	LDI  R26,HIGH(@0)
                 	CPC  R31,R26
                 	LDI  R26,BYTE3(@0)
                 	CPC  R22,R26
                 	LDI  R26,BYTE4(@0)
                 	CPC  R23,R26
                 	.ENDM
                 
                 	.MACRO __CPD2N
                 	CPI  R26,LOW(@0)
                 	LDI  R30,HIGH(@0)
                 	CPC  R27,R30
                 	LDI  R30,BYTE3(@0)
                 	CPC  R24,R30
                 	LDI  R30,BYTE4(@0)
                 	CPC  R25,R30
                 	.ENDM
                 
                 	.MACRO __CPWRR
                 	CP   R@0,R@2
                 	CPC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __CPWRN
                 	CPI  R@0,LOW(@2)
                 	LDI  R30,HIGH(@2)
                 	CPC  R@1,R30
                 	.ENDM
                 
                 	.MACRO __ADDB1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDB2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	SBCI R31,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	SBCI R27,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	SBCI R22,BYTE3(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1N
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	SBCI R22,BYTE3(-@0)
                 	SBCI R23,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __ADDD2N
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	SBCI R24,BYTE3(-@0)
                 	SBCI R25,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __SUBD1N
                 	SUBI R30,LOW(@0)
                 	SBCI R31,HIGH(@0)
                 	SBCI R22,BYTE3(@0)
                 	SBCI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __SUBD2N
                 	SUBI R26,LOW(@0)
                 	SBCI R27,HIGH(@0)
                 	SBCI R24,BYTE3(@0)
                 	SBCI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDBMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ANDWMNN
                 	LDS  R30,@0+@1
                 	ANDI R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ANDI R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ANDD1N
                 	ANDI R30,LOW(@0)
                 	ANDI R31,HIGH(@0)
                 	ANDI R22,BYTE3(@0)
                 	ANDI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORBMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __ORWMNN
                 	LDS  R30,@0+@1
                 	ORI  R30,LOW(@2)
                 	STS  @0+@1,R30
                 	LDS  R30,@0+@1+1
                 	ORI  R30,HIGH(@2)
                 	STS  @0+@1+1,R30
                 	.ENDM
                 
                 	.MACRO __ORD1N
                 	ORI  R30,LOW(@0)
                 	ORI  R31,HIGH(@0)
                 	ORI  R22,BYTE3(@0)
                 	ORI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __DELAY_USB
                 	LDI  R24,LOW(@0)
                 __DELAY_USB_LOOP:
                 	DEC  R24
                 	BRNE __DELAY_USB_LOOP
                 	.ENDM
                 
                 	.MACRO __DELAY_USW
                 	LDI  R24,LOW(@0)
                 	LDI  R25,HIGH(@0)
                 __DELAY_USW_LOOP:
                 	SBIW R24,1
                 	BRNE __DELAY_USW_LOOP
                 	.ENDM
                 
                 	.MACRO __CLRD1S
                 	LDI  R30,0
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R30
                 	STD  Y+@0+2,R30
                 	STD  Y+@0+3,R30
                 	.ENDM
                 
                 	.MACRO __GETD1S
                 	LDD  R30,Y+@0
                 	LDD  R31,Y+@0+1
                 	LDD  R22,Y+@0+2
                 	LDD  R23,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __PUTD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R31
                 	STD  Y+@0+2,R22
                 	STD  Y+@0+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTD2S
                 	STD  Y+@0,R26
                 	STD  Y+@0+1,R27
                 	STD  Y+@0+2,R24
                 	STD  Y+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __POINTB1MN
                 	LDI  R30,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW1MN
                 	LDI  R30,LOW(@0+@1)
                 	LDI  R31,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1M
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	.ENDM
                 
                 	.MACRO __POINTW1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	LDI  R22,BYTE3(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTB2MN
                 	LDI  R26,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW2MN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTBRM
                 	LDI  R@0,LOW(@1)
                 	.ENDM
                 
                 	.MACRO __POINTWRM
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __POINTBRMN
                 	LDI  R@0,LOW(@1+@2)
                 	.ENDM
                 
                 	.MACRO __POINTWRMN
                 	LDI  R@0,LOW(@2+@3)
                 	LDI  R@1,HIGH(@2+@3)
                 	.ENDM
                 
                 	.MACRO __POINTWRFN
                 	LDI  R@0,LOW(@2*2+@3)
                 	LDI  R@1,HIGH(@2*2+@3)
                 	.ENDM
                 
                 	.MACRO __GETD1N
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2N
                 	LDI  R26,LOW(@0)
                 	LDI  R27,HIGH(@0)
                 	LDI  R24,BYTE3(@0)
                 	LDI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2S
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	LDD  R24,Y+@0+2
                 	LDD  R25,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB1MN
                 	LDS  R30,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETB1HMN
                 	LDS  R31,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	LDS  R22,@0+@1+2
                 	LDS  R23,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __GETBRMN
                 	LDS  R@0,@1+@2
                 	.ENDM
                 
                 	.MACRO __GETWRMN
                 	LDS  R@0,@2+@3
                 	LDS  R@1,@2+@3+1
                 	.ENDM
                 
                 	.MACRO __GETWRZ
                 	LDD  R@0,Z+@2
                 	LDD  R@1,Z+@2+1
                 	.ENDM
                 
                 	.MACRO __GETD2Z
                 	LDD  R26,Z+@0
                 	LDD  R27,Z+@0+1
                 	LDD  R24,Z+@0+2
                 	LDD  R25,Z+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB2MN
                 	LDS  R26,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	LDS  R24,@0+@1+2
                 	LDS  R25,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __PUTB1MN
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	STS  @0+@1+2,R22
                 	STS  @0+@1+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTBR0MN
                 	STS  @0+@1,R0
                 	.ENDM
                 
                 	.MACRO __PUTDZ2
                 	STD  Z+@0,R26
                 	STD  Z+@0+1,R27
                 	STD  Z+@0+2,R24
                 	STD  Z+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __PUTBMRN
                 	STS  @0+@1,R@2
                 	.ENDM
                 
                 	.MACRO __PUTWMRN
                 	STS  @0+@1,R@2
                 	STS  @0+@1+1,R@3
                 	.ENDM
                 
                 	.MACRO __PUTBZR
                 	STD  Z+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWZR
                 	STD  Z+@2,R@0
                 	STD  Z+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __GETW1R
                 	MOV  R30,R@0
                 	MOV  R31,R@1
                 	.ENDM
                 
                 	.MACRO __GETW2R
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	.ENDM
                 
                 	.MACRO __GETWRN
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __PUTW1R
                 	MOV  R@0,R30
                 	MOV  R@1,R31
                 	.ENDM
                 
                 	.MACRO __PUTW2R
                 	MOV  R@0,R26
                 	MOV  R@1,R27
                 	.ENDM
                 
                 	.MACRO __ADDWRN
                 	SUBI R@0,LOW(-@2)
                 	SBCI R@1,HIGH(-@2)
                 	.ENDM
                 
                 	.MACRO __ADDWRR
                 	ADD  R@0,R@2
                 	ADC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __SUBWRN
                 	SUBI R@0,LOW(@2)
                 	SBCI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __SUBWRR
                 	SUB  R@0,R@2
                 	SBC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ANDWRN
                 	ANDI R@0,LOW(@2)
                 	ANDI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ANDWRR
                 	AND  R@0,R@2
                 	AND  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ORWRN
                 	ORI  R@0,LOW(@2)
                 	ORI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ORWRR
                 	OR   R@0,R@2
                 	OR   R@1,R@3
                 	.ENDM
                 
                 	.MACRO __EORWRR
                 	EOR  R@0,R@2
                 	EOR  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __GETWRS
                 	LDD  R@0,Y+@2
                 	LDD  R@1,Y+@2+1
                 	.ENDM
                 
                 	.MACRO __PUTWSR
                 	STD  Y+@2,R@0
                 	STD  Y+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __MOVEWRR
                 	MOV  R@0,R@2
                 	MOV  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __INWR
                 	IN   R@0,@2
                 	IN   R@1,@2+1
                 	.ENDM
                 
                 	.MACRO __OUTWR
                 	OUT  @2+1,R@1
                 	OUT  @2,R@0
                 	.ENDM
                 
                 	.MACRO __CALL1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	RCALL __GETW1PF
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	RCALL __EEPROMRDW
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __GETW1STACK
                 	IN   R26,SPL
                 	IN   R27,SPH
                 	ADIW R26,@0+1
                 	LD   R30,X+
                 	LD   R31,X
                 	.ENDM
                 
                 	.MACRO __NBST
                 	BST  R@0,@1
                 	IN   R30,SREG
                 	LDI  R31,0x40
                 	EOR  R30,R31
                 	OUT  SREG,R30
                 	.ENDM
                 
                 
                 	.MACRO __PUTB1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	RCALL __PUTDP1
                 	.ENDM
                 
                 
                 	.MACRO __GETB1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R30,Z
                 	.ENDM
                 
                 	.MACRO __GETB1HSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	.ENDM
                 
                 	.MACRO __GETW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z+
                 	LD   R23,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __GETB2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R26,X
                 	.ENDM
                 
                 	.MACRO __GETW2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	.ENDM
                 
                 	.MACRO __GETD2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R1,X+
                 	LD   R24,X+
                 	LD   R25,X
                 	MOVW R26,R0
                 	.ENDM
                 
                 	.MACRO __GETBRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	LD   R@0,Z
                 	.ENDM
                 
                 	.MACRO __GETWRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	LD   R@0,Z+
                 	LD   R@1,Z
                 	.ENDM
                 
                 	.MACRO __LSLW8SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	CLR  R30
                 	.ENDM
                 
                 	.MACRO __PUTB1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __CLRW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __CLRD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __PUTB2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R26
                 	.ENDM
                 
                 	.MACRO __PUTW2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z,R27
                 	.ENDM
                 
                 	.MACRO __PUTD2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z+,R27
                 	ST   Z+,R24
                 	ST   Z,R25
                 	.ENDM
                 
                 	.MACRO __PUTBSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTWSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	ST   Z+,R@0
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __MULBRR
                 	MULS R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRRU
                 	MUL  R@0,R@1
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRR0
                 	MULS R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBRRU0
                 	MUL  R@0,R@1
                 	.ENDM
                 
                 	.MACRO __MULBNWRU
                 	LDI  R26,@2
                 	MUL  R26,R@0
                 	MOVW R30,R0
                 	MUL  R26,R@1
                 	ADD  R31,R0
                 	.ENDM
                 
                 	.CSEG
                 	.ORG 0
                 
                 	.INCLUDE "main.vec"
                 
                 ;INTERRUPT VECTORS
000000 c073      	RJMP __RESET
000001 cffe      	RJMP 0x00
000002 cffd      	RJMP 0x00
000003 cffc      	RJMP 0x00
000004 cffb      	RJMP 0x00
000005 cffa      	RJMP 0x00
000006 cff9      	RJMP 0x00
000007 c09c      	RJMP _timer0_ovf_isr
000008 cff7      	RJMP 0x00
000009 c981      	RJMP _usart_rx_isr
00000a cff5      	RJMP 0x00
00000b cff4      	RJMP 0x00
00000c cff3      	RJMP 0x00
00000d cff2      	RJMP 0x00
00000e cff1      	RJMP 0x00
00000f cff0      	RJMP 0x00
000010 cfef      	RJMP 0x00
                 
                 	.INCLUDE "main.inc"
                 
                 	.DEF _x=R4
                 _3:
main.inc(4): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000011 0014      	.DB  0x14
                 _4:
main.inc(6): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000012 0002      	.DB  0x2
                 _5:
main.inc(8): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000013 0004      	.DB  0x4
                 	.DEF _rx_message=R6
                 	.DEF _rx_wparam=R7
                 	.DEF _rx_lparam=R9
                 _0x8C:
main.inc(13): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000014 0000      	.DB  0x0
                 	.DEF _rx_wr_index=R11
                 	.DEF _rx_counter=R12
                 _tbl10_G4:
000015 2710
000016 03e8
000017 0064
000018 000a      	.DB  0x10,0x27,0xE8,0x3,0x64,0x0,0xA,0x0
000019 0001      	.DB  0x1,0x0
                 _tbl16_G4:
00001a 1000
00001b 0100
00001c 0010
00001d 0001      	.DB  0x0,0x10,0x0,0x1,0x10,0x0,0x1,0x0
                 _0:
00001e 696c
00001f 656e
000020 253d
000021 2064      	.DB  0x6C,0x69,0x6E,0x65,0x3D,0x25,0x64,0x20
000022 6172
000023 6574
000024 253d
000025 2064      	.DB  0x72,0x61,0x74,0x65,0x3D,0x25,0x64,0x20
000026 7974
000027 6570
000028 253d
000029 2064      	.DB  0x74,0x79,0x70,0x65,0x3D,0x25,0x64,0x20
00002a 656c
00002b 3d6e
00002c 6425
00002d 0a0d      	.DB  0x6C,0x65,0x6E,0x3D,0x25,0x64,0xD,0xA
00002e 4c00
00002f 4d43
000030 2053
000031 3376      	.DB  0x0,0x4C,0x43,0x4D,0x53,0x20,0x76,0x33
000032 302e
000033 2035
000034 6544
000035 6973      	.DB  0x2E,0x30,0x35,0x20,0x44,0x65,0x73,0x69
000036 6e67
000037 6465
000038 6220
000039 2079      	.DB  0x67,0x6E,0x65,0x64,0x20,0x62,0x79,0x20
00003a 7543
00003b 6e6f
00003c 5167
00003d 6175      	.DB  0x43,0x75,0x6F,0x6E,0x67,0x51,0x75,0x61
00003e 0d79
00003f 000a
000040 7563
000041 6e6f      	.DB  0x79,0xD,0xA,0x0,0x63,0x75,0x6F,0x6E
000042 3367
000043 6869
000044 7475
000045 7940      	.DB  0x67,0x33,0x69,0x68,0x75,0x74,0x40,0x79
000046 6861
000047 6f6f
000048 632e
000049 6d6f      	.DB  0x61,0x68,0x6F,0x6F,0x2E,0x63,0x6F,0x6D
00004a 2d20
00004b 3020
00004c 3139
00004d 3635      	.DB  0x20,0x2D,0x20,0x30,0x39,0x31,0x35,0x36
00004e 3135
00004f 3030
000050 0d31
000051 000a      	.DB  0x35,0x31,0x30,0x30,0x31,0xD,0xA,0x0
000052 6552
000053 656c
000054 7361
000055 2065      	.DB  0x52,0x65,0x6C,0x65,0x61,0x73,0x65,0x20
000056 6164
000057 6574
000058 203a
000059 3930      	.DB  0x64,0x61,0x74,0x65,0x3A,0x20,0x30,0x39
00005a 302f
00005b 2f32
00005c 3032
00005d 3730      	.DB  0x2F,0x30,0x32,0x2F,0x32,0x30,0x30,0x37
00005e 4b00
00005f 5945
000060 5020
000061 4552      	.DB  0x0,0x4B,0x45,0x59,0x20,0x50,0x52,0x45
000062 5353
000063 4445
000064 0a0d
main.inc(39): warning: .cseg .db misalignment - padding zero byte
main.asm(991): 'main.inc' included form here
000065 0000      	.DB  0x53,0x53,0x45,0x44,0xD,0xA,0x0
                 
                 ;REGISTER BIT VARIABLES INITIALIZATION
                 __REG_BIT_VARS:
000066 0008      	.DW  0x0008
                 
                 __GLOBAL_INI_TBL:
000067 0002      	.DW  0x02
000068 0002      	.DW  0x02
000069 00cc      	.DW  __REG_BIT_VARS*2
                 
00006a 0001      	.DW  0x01
00006b 0100      	.DW  _scroll_rate_G1
00006c 0022      	.DW  _3*2
                 
00006d 0001      	.DW  0x01
00006e 0101      	.DW  _scroll_temp_G1
00006f 0024      	.DW  _4*2
                 
000070 0001      	.DW  0x01
000071 0102      	.DW  _scroll_type_G1
000072 0026      	.DW  _5*2
                 
000073 0000      	.DW  0
                 _0x128:
                 
                 __RESET:
000074 94f8      	CLI
000075 27ee      	CLR  R30
000076 bbec      	OUT  EECR,R30
                 
                 ;INTERRUPT VECTORS ARE PLACED
                 ;AT THE START OF FLASH
000077 e0f1      	LDI  R31,1
000078 bffb      	OUT  GICR,R31
000079 bfeb      	OUT  GICR,R30
00007a bfe5      	OUT  MCUCR,R30
00007b bfe6      	OUT  EMCUCR,R30
                 
                 ;DISABLE WATCHDOG
00007c e1f8      	LDI  R31,0x18
00007d bdf1      	OUT  WDTCR,R31
00007e bde1      	OUT  WDTCR,R30
                 
                 ;CLEAR R2-R14
00007f e08d      	LDI  R24,13
000080 e0a2      	LDI  R26,2
000081 27bb      	CLR  R27
                 __CLEAR_REG:
000082 93ed      	ST   X+,R30
000083 958a      	DEC  R24
000084 f7e9      	BRNE __CLEAR_REG
                 
                 ;CLEAR SRAM
000085 e080      	LDI  R24,LOW(0x200)
000086 e092      	LDI  R25,HIGH(0x200)
000087 e6a0      	LDI  R26,0x60
                 __CLEAR_SRAM:
000088 93ed      	ST   X+,R30
000089 9701      	SBIW R24,1
00008a f7e9      	BRNE __CLEAR_SRAM
                 
                 ;GLOBAL VARIABLES INITIALIZATION
00008b ecee      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
00008c e0f0      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
                 __GLOBAL_INI_NEXT:
00008d 9185      	LPM  R24,Z+
00008e 9195      	LPM  R25,Z+
00008f 9700      	SBIW R24,0
000090 f061      	BREQ __GLOBAL_INI_END
000091 91a5      	LPM  R26,Z+
000092 91b5      	LPM  R27,Z+
000093 9005      	LPM  R0,Z+
000094 9015      	LPM  R1,Z+
000095 01bf      	MOVW R22,R30
000096 01f0      	MOVW R30,R0
                 __GLOBAL_INI_LOOP:
000097 9005      	LPM  R0,Z+
000098 920d      	ST   X+,R0
000099 9701      	SBIW R24,1
00009a f7e1      	BRNE __GLOBAL_INI_LOOP
00009b 01fb      	MOVW R30,R22
00009c cff0      	RJMP __GLOBAL_INI_NEXT
                 __GLOBAL_INI_END:
                 
                 ;STACK POINTER INITIALIZATION
00009d e5ef      	LDI  R30,LOW(0x25F)
00009e bfed      	OUT  SPL,R30
00009f e0e2      	LDI  R30,HIGH(0x25F)
0000a0 bfee      	OUT  SPH,R30
                 
                 ;DATA STACK POINTER INITIALIZATION
0000a1 eec0      	LDI  R28,LOW(0xE0)
0000a2 e0d0      	LDI  R29,HIGH(0xE0)
                 
0000a3 c8a8      	RJMP _main
                 
                 	.ESEG
                 	.ORG 0
                 
                 	.DSEG
                 	.ORG 0xE0
                 ;       1 /*****************************************************
                 ;       2 This program was produced by the
                 ;       3 CodeWizardAVR V1.24.6 Professional
                 ;       4 Automatic Program Generator
                 ;       5 © Copyright 1998-2005 Pavel Haiduc, HP InfoTech s.r.l.
                 ;       6 http://www.hpinfotech.com
                 ;       7 e-mail:office@hpinfotech.com
                 ;       8 
                 ;       9 Project : 
                 ;      10 Version : 
                 ;      11 Date    : 11/10/2005
                 ;      12 Author  : CUONGDD                            
                 ;      13 Company : 3iGROUP                           
                 ;      14 Comments: 
                 ;      15 
                 ;      16 
                 ;      17 Chip type           : ATmega16/162/8515
                 ;      18 Program type        : Application
                 ;      19 Clock frequency     : 8.000000 MHz
                 ;      20 Memory model        : Small
                 ;      21 External SRAM size  : 0
                 ;      22 Data Stack size     : 256
                 ;      23 *****************************************************/
                 ;      24 
                 ;      25 #include "define.h"      
                 ;      26 
                 ;      27 // DS1307 Real Time Clock functions
                 ;      28 #include <ds1307.h>
                 ;      29                                       
                 ;      30 // Declare your global variables here     
                 ;      31 static PBYTE start_mem;         
                 _start_mem_G1:
0000e0           	.BYTE 0x2
                 ;      32 
                 ;      33 
                 ;      34 bit power_off = 0;
                 ;      35 bit is_stopping = 0;    
                 ;      36 bit key_pressed = 0;   
                 ;      37 bit is_half_top = 1;
                 ;      38 
                 ;      39 unsigned long temp[4];
                 _temp:
0000e2           	.BYTE 0x10
                 ;      40 unsigned long dw_temp;         
                 _dw_temp:
0000f2           	.BYTE 0x4
                 ;      41     
                 ;      42 register UINT x=0;
                 ;      43 
                 ;      44 static UINT  scroll_count = 0;  
                 _scroll_count_G1:
0000f6           	.BYTE 0x2
                 ;      45 static UINT  scroll_updown = 0;                                   
                 _scroll_updown_G1:
0000f8           	.BYTE 0x2
                 ;      46 static UINT  tick_count  = 0;       
                 _tick_count_G1:
0000fa           	.BYTE 0x2
                 ;      47 static BYTE  frame_index = 0;   
                 _frame_index_G1:
0000fc           	.BYTE 0x1
                 ;      48 static BYTE  scroll_step = 0;
                 _scroll_step_G1:
0000fd           	.BYTE 0x1
                 ;      49 static UINT  text_length = 0;              
                 _text_length_G1:
0000fe           	.BYTE 0x2
                 ;      50 static BYTE  scroll_rate = 20; 
                 _scroll_rate_G1:
000100           	.BYTE 0x1
                 ;      51 static BYTE  scroll_temp = MIN_RATE;
                 _scroll_temp_G1:
000101           	.BYTE 0x1
                 ;      52 static BYTE  scroll_type = SCROLLING;            
                 _scroll_type_G1:
000102           	.BYTE 0x1
                 ;      53              
                 ;      54 // Global variables for message control
                 ;      55 BYTE  rx_message = UNKNOWN_MSG;
                 ;      56 WORD  rx_wparam  = 0;
                 ;      57 WORD  rx_lparam  = 0;
                 ;      58 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;      59                             
                 ;      60 extern void reset_serial();         
                 ;      61 extern void send_echo_msg();    
                 ;      62 extern BYTE eeprom_read(BYTE deviceID, WORD address);
                 ;      63 extern void eeprom_write(BYTE deviceID, WORD address, BYTE data);
                 ;      64 extern WORD eeprom_read_w(BYTE deviceID, WORD address);
                 ;      65 extern void eeprom_write_w(BYTE deviceID, WORD address, WORD data);
                 ;      66 extern void eeprom_write_page(BYTE deviceID, WORD address, PBYTE buffer, BYTE page_size);
                 ;      67 extern void eeprom_read_page(BYTE deviceID, WORD address, PBYTE buffer, BYTE page_size);
                 ;      68 
                 ;      69 static void _displayFrame();
                 ;      70 static void _doScroll();   
                 ;      71 void LoadFrame(BYTE index);
                 ;      72 void BlankRAM(PBYTE start_addr,PBYTE end_addr);
                 ;      73 
                 ;      74 ///////////////////////////////////////////////////////////////
                 ;      75 // Timer 0 overflow interrupt service routine , 40.5 us per tick                 
                 ;      76 ///////////////////////////////////////////////////////////////
                 ;      77 interrupt [TIM0_OVF] void timer0_ovf_isr(void)
                 ;      78 {       
                 
                 	.CSEG
                 _timer0_ovf_isr:
0000a4 93ea      	ST   -Y,R30
0000a5 93fa      	ST   -Y,R31
0000a6 b7ef      	IN   R30,SREG
0000a7 93ea      	ST   -Y,R30
                 ;      79     TCNT0 = 0x05;       // 1ms = 4*250 = 1000 us
0000a8 e0e5      	LDI  R30,LOW(5)
0000a9 bfe2      	OUT  0x32,R30
                 ;      80     ++tick_count;    
0000aa 91e0 00fa 	LDS  R30,_tick_count_G1
0000ac 91f0 00fb 	LDS  R31,_tick_count_G1+1
0000ae 9631      	ADIW R30,1
0000af 93e0 00fa 	STS  _tick_count_G1,R30
0000b1 93f0 00fb 	STS  _tick_count_G1+1,R31
                 ;      81 }
0000b3 91e9      	LD   R30,Y+
0000b4 bfef      	OUT  SREG,R30
0000b5 91f9      	LD   R31,Y+
0000b6 91e9      	LD   R30,Y+
0000b7 9518      	RETI
                 ;      82 
                 ;      83 ///////////////////////////////////////////////////////////////
                 ;      84 // static function(s) for led matrix display panel
                 ;      85 ///////////////////////////////////////////////////////////////
                 ;      86 
                 ;      87 static void _putData_0()
                 ;      88 {                                 
                 __putData_0_G1:
                 ;      89     for (x=0; x< SCREEN_WIDTH; x++){         
0000b8 2444      	CLR  R4
0000b9 2455      	CLR  R5
                 _0x7:
0000ba eae0      	LDI  R30,LOW(160)
0000bb e0f0      	LDI  R31,HIGH(160)
0000bc 164e      	CP   R4,R30
0000bd 065f      	CPC  R5,R31
0000be f488      	BRSH _0x8
                 ;      90 		DATA_PORT = start_mem[(4)*(x) + 0];       		
0000bf 01f2      	MOVW R30,R4
0000c0 dc5c      	RCALL __LSLW2
0000c1 9630      	ADIW R30,0
0000c2 91a0 00e0 	LDS  R26,_start_mem_G1
0000c4 91b0 00e1 	LDS  R27,_start_mem_G1+1
0000c6 0fae      	ADD  R26,R30
0000c7 1fbf      	ADC  R27,R31
0000c8 91ec      	LD   R30,X
0000c9 bbe8      	OUT  0x18,R30
                 ;      91 		DATA_CLK = 1;
0000ca 9a93      	SBI  0x12,3
                 ;      92 		DATA_CLK = 0;					         
0000cb 9893      	CBI  0x12,3
                 ;      93 	}         
0000cc 01f2      	MOVW R30,R4
0000cd 9631      	ADIW R30,1
0000ce 012f      	MOVW R4,R30
0000cf cfea      	RJMP _0x7
                 _0x8:
                 ;      94 	  
                 ;      95     DATA_STB0 = 1;
0000d0 9a94      	SBI  0x12,4
                 ;      96     DATA_STB0 = 0;     
0000d1 9894      	CBI  0x12,4
                 ;      97          
                 ;      98     for (x=0; x< SCREEN_WIDTH; x++){ 
0000d2 2444      	CLR  R4
0000d3 2455      	CLR  R5
                 _0xA:
0000d4 eae0      	LDI  R30,LOW(160)
0000d5 e0f0      	LDI  R31,HIGH(160)
0000d6 164e      	CP   R4,R30
0000d7 065f      	CPC  R5,R31
0000d8 f488      	BRSH _0xB
                 ;      99         DATA_PORT = start_mem[(4)*(x) + 1];       		
0000d9 01f2      	MOVW R30,R4
0000da dc42      	RCALL __LSLW2
0000db 9631      	ADIW R30,1
0000dc 91a0 00e0 	LDS  R26,_start_mem_G1
0000de 91b0 00e1 	LDS  R27,_start_mem_G1+1
0000e0 0fae      	ADD  R26,R30
0000e1 1fbf      	ADC  R27,R31
0000e2 91ec      	LD   R30,X
0000e3 bbe8      	OUT  0x18,R30
                 ;     100 		DATA_CLK = 1;
0000e4 9a93      	SBI  0x12,3
                 ;     101 		DATA_CLK = 0;	
0000e5 9893      	CBI  0x12,3
                 ;     102 	}
0000e6 01f2      	MOVW R30,R4
0000e7 9631      	ADIW R30,1
0000e8 012f      	MOVW R4,R30
0000e9 cfea      	RJMP _0xA
                 _0xB:
                 ;     103 	           
                 ;     104     DATA_STB1 = 1;       
0000ea 9a95      	SBI  0x12,5
                 ;     105     DATA_STB1 = 0;    
0000eb 9895      	CBI  0x12,5
                 ;     106          
                 ;     107     for (x=0; x< SCREEN_WIDTH; x++){ 
0000ec 2444      	CLR  R4
0000ed 2455      	CLR  R5
                 _0xD:
0000ee eae0      	LDI  R30,LOW(160)
0000ef e0f0      	LDI  R31,HIGH(160)
0000f0 164e      	CP   R4,R30
0000f1 065f      	CPC  R5,R31
0000f2 f488      	BRSH _0xE
                 ;     108         DATA_PORT = start_mem[(4)*(x) + 2];       		
0000f3 01f2      	MOVW R30,R4
0000f4 dc28      	RCALL __LSLW2
0000f5 9632      	ADIW R30,2
0000f6 91a0 00e0 	LDS  R26,_start_mem_G1
0000f8 91b0 00e1 	LDS  R27,_start_mem_G1+1
0000fa 0fae      	ADD  R26,R30
0000fb 1fbf      	ADC  R27,R31
0000fc 91ec      	LD   R30,X
0000fd bbe8      	OUT  0x18,R30
                 ;     109 		DATA_CLK = 1;
0000fe 9a93      	SBI  0x12,3
                 ;     110 		DATA_CLK = 0;	
0000ff 9893      	CBI  0x12,3
                 ;     111 	}
000100 01f2      	MOVW R30,R4
000101 9631      	ADIW R30,1
000102 012f      	MOVW R4,R30
000103 cfea      	RJMP _0xD
                 _0xE:
                 ;     112 	           
                 ;     113     DATA_STB2 = 1;       
000104 9a3a      	SBI  0x7,2
                 ;     114     DATA_STB2 = 0;                
000105 983a      	CBI  0x7,2
                 ;     115 } 
000106 9508      	RET
                 ;     116 
                 ;     117 #define __DATA_SHIFT()    \
                 ;     118 {\
                 ;     119     temp[0] = (unsigned long)start_mem[((unsigned int)4)*(x) + 0];\
                 ;     120     temp[1] = (unsigned long)start_mem[((unsigned int)4)*(x) + 1];\
                 ;     121     temp[2] = (unsigned long)start_mem[((unsigned int)4)*(x) + 2];\
                 ;     122     temp[3] = (unsigned long)start_mem[((unsigned int)4)*(x) + 3];\
                 ;     123     dw_temp = ~((temp[0]&0x000000FF) | ((temp[1]<<8)&0x0000FF00) | \
                 ;     124               ((temp[2]<<16)&0x00FF0000) | ((temp[3]<<24)&0xFF000000));\
                 ;     125     if (is_half_top){\
                 ;     126         dw_temp = dw_temp>>scroll_updown;\
                 ;     127     }\
                 ;     128     else{\
                 ;     129         dw_temp = dw_temp<<scroll_updown;\
                 ;     130     }\
                 ;     131 }
                 ;     132         
                 ;     133 static void _putData_1()
                 ;     134 {                                        	               
                 __putData_1_G1:
                 ;     135     for (x=0; x< SCREEN_WIDTH; x++){  
000107 2444      	CLR  R4
000108 2455      	CLR  R5
                 _0x10:
000109 eae0      	LDI  R30,LOW(160)
00010a e0f0      	LDI  R31,HIGH(160)
00010b 164e      	CP   R4,R30
00010c 065f      	CPC  R5,R31
00010d f008      	BRLO PC+2
00010e c0dc      	RJMP _0x11
                 ;     136         __DATA_SHIFT();
00010f 01f2      	MOVW R30,R4
000110 dc0c      	RCALL __LSLW2
000111 9630      	ADIW R30,0
000112 91a0 00e0 	LDS  R26,_start_mem_G1
000114 91b0 00e1 	LDS  R27,_start_mem_G1+1
000116 0fae      	ADD  R26,R30
000117 1fbf      	ADC  R27,R31
000118 91ec      	LD   R30,X
000119 27ff      	CLR  R31
00011a 2766      	CLR  R22
00011b 2777      	CLR  R23
00011c 93e0 00e2 	STS  _temp,R30
00011e 93f0 00e3 	STS  _temp+1,R31
000120 9360 00e4 	STS  _temp+2,R22
000122 9370 00e5 	STS  _temp+3,R23
000124 01f2      	MOVW R30,R4
000125 dbf7      	RCALL __LSLW2
000126 9631      	ADIW R30,1
000127 91a0 00e0 	LDS  R26,_start_mem_G1
000129 91b0 00e1 	LDS  R27,_start_mem_G1+1
00012b 0fae      	ADD  R26,R30
00012c 1fbf      	ADC  R27,R31
00012d 91ec      	LD   R30,X
00012e 27ff      	CLR  R31
00012f 2766      	CLR  R22
000130 2777      	CLR  R23
000131 93e0 00e6
000133 93f0 00e7
000135 9360 00e8
000137 9370 00e9 	__PUTD1MN _temp,4
000139 01f2      	MOVW R30,R4
00013a dbe2      	RCALL __LSLW2
00013b 9632      	ADIW R30,2
00013c 91a0 00e0 	LDS  R26,_start_mem_G1
00013e 91b0 00e1 	LDS  R27,_start_mem_G1+1
000140 0fae      	ADD  R26,R30
000141 1fbf      	ADC  R27,R31
000142 91ec      	LD   R30,X
000143 27ff      	CLR  R31
000144 2766      	CLR  R22
000145 2777      	CLR  R23
000146 93e0 00ea
000148 93f0 00eb
00014a 9360 00ec
00014c 9370 00ed 	__PUTD1MN _temp,8
00014e 01f2      	MOVW R30,R4
00014f dbcd      	RCALL __LSLW2
000150 9633      	ADIW R30,3
000151 91a0 00e0 	LDS  R26,_start_mem_G1
000153 91b0 00e1 	LDS  R27,_start_mem_G1+1
000155 0fae      	ADD  R26,R30
000156 1fbf      	ADC  R27,R31
000157 91ec      	LD   R30,X
000158 27ff      	CLR  R31
000159 2766      	CLR  R22
00015a 2777      	CLR  R23
00015b 93e0 00ee
00015d 93f0 00ef
00015f 9360 00f0
000161 9370 00f1 	__PUTD1MN _temp,12
000163 91e0 00e2 	LDS  R30,_temp
000165 91f0 00e3 	LDS  R31,_temp+1
000167 9160 00e4 	LDS  R22,_temp+2
000169 9170 00e5 	LDS  R23,_temp+3
00016b 7fef
00016c 70f0
00016d 7060
00016e 7070      	__ANDD1N 0xFF
00016f 937f      	PUSH R23
000170 936f      	PUSH R22
000171 93ff      	PUSH R31
000172 93ef      	PUSH R30
000173 91a0 00e6
000175 91b0 00e7
000177 9180 00e8
000179 9190 00e9 	__GETD2MN _temp,4
00017b e0e8      	LDI  R30,LOW(8)
00017c db84      	RCALL __LSLD12
00017d 70e0
00017e 7fff
00017f 7060
000180 7070      	__ANDD1N 0xFF00
000181 91af      	POP  R26
000182 91bf      	POP  R27
000183 918f      	POP  R24
000184 919f      	POP  R25
000185 db72      	RCALL __ORD12
000186 01df      	MOVW R26,R30
000187 01cb      	MOVW R24,R22
000188 91e0 00ea
00018a 91f0 00eb
00018c 9160 00ec
00018e 9170 00ed 	__GETD1MN _temp,8
000190 db96      	RCALL __LSLD16
000191 70e0
000192 70f0
000193 7f6f
000194 7070      	__ANDD1N 0xFF0000
000195 db62      	RCALL __ORD12
000196 937f      	PUSH R23
000197 936f      	PUSH R22
000198 93ff      	PUSH R31
000199 93ef      	PUSH R30
00019a 91a0 00ee
00019c 91b0 00ef
00019e 9180 00f0
0001a0 9190 00f1 	__GETD2MN _temp,12
0001a2 e1e8      	LDI  R30,LOW(24)
0001a3 db5d      	RCALL __LSLD12
0001a4 70e0
0001a5 70f0
0001a6 7060
0001a7 7f7f      	__ANDD1N 0xFF000000
0001a8 91af      	POP  R26
0001a9 91bf      	POP  R27
0001aa 918f      	POP  R24
0001ab 919f      	POP  R25
0001ac db4b      	RCALL __ORD12
0001ad db7e      	RCALL __COMD1
0001ae 93e0 00f2 	STS  _dw_temp,R30
0001b0 93f0 00f3 	STS  _dw_temp+1,R31
0001b2 9360 00f4 	STS  _dw_temp+2,R22
0001b4 9370 00f5 	STS  _dw_temp+3,R23
0001b6 fe23      	SBRS R2,3
0001b7 c010      	RJMP _0x12
0001b8 91e0 00f8 	LDS  R30,_scroll_updown_G1
0001ba 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
0001bc 91a0 00f2 	LDS  R26,_dw_temp
0001be 91b0 00f3 	LDS  R27,_dw_temp+1
0001c0 9180 00f4 	LDS  R24,_dw_temp+2
0001c2 9190 00f5 	LDS  R25,_dw_temp+3
0001c4 2766      	CLR  R22
0001c5 2777      	CLR  R23
0001c6 db46      	RCALL __LSRD12
0001c7 c00f      	RJMP _0x122
                 _0x12:
0001c8 91e0 00f8 	LDS  R30,_scroll_updown_G1
0001ca 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
0001cc 91a0 00f2 	LDS  R26,_dw_temp
0001ce 91b0 00f3 	LDS  R27,_dw_temp+1
0001d0 9180 00f4 	LDS  R24,_dw_temp+2
0001d2 9190 00f5 	LDS  R25,_dw_temp+3
0001d4 2766      	CLR  R22
0001d5 2777      	CLR  R23
0001d6 db2a      	RCALL __LSLD12
                 _0x122:
0001d7 93e0 00f2 	STS  _dw_temp,R30
0001d9 93f0 00f3 	STS  _dw_temp+1,R31
0001db 9360 00f4 	STS  _dw_temp+2,R22
0001dd 9370 00f5 	STS  _dw_temp+3,R23
                 ;     137 		DATA_PORT = ~(BYTE)(dw_temp & 0x000000ff);       		
0001df 7fef
0001e0 70f0
0001e1 7060
0001e2 7070      	__ANDD1N 0xFF
0001e3 db48      	RCALL __COMD1
0001e4 bbe8      	OUT  0x18,R30
                 ;     138 		DATA_CLK = 1;
0001e5 9a93      	SBI  0x12,3
                 ;     139 		DATA_CLK = 0;					         
0001e6 9893      	CBI  0x12,3
                 ;     140 	}         
0001e7 01f2      	MOVW R30,R4
0001e8 9631      	ADIW R30,1
0001e9 012f      	MOVW R4,R30
0001ea cf1e      	RJMP _0x10
                 _0x11:
                 ;     141 	  
                 ;     142     DATA_STB0 = 1;
0001eb 9a94      	SBI  0x12,4
                 ;     143     DATA_STB0 = 0;     
0001ec 9894      	CBI  0x12,4
                 ;     144          
                 ;     145     for (x=0; x< SCREEN_WIDTH; x++){ 
0001ed 2444      	CLR  R4
0001ee 2455      	CLR  R5
                 _0x15:
0001ef eae0      	LDI  R30,LOW(160)
0001f0 e0f0      	LDI  R31,HIGH(160)
0001f1 164e      	CP   R4,R30
0001f2 065f      	CPC  R5,R31
0001f3 f008      	BRLO PC+2
0001f4 c0e1      	RJMP _0x16
                 ;     146         __DATA_SHIFT();
0001f5 01f2      	MOVW R30,R4
0001f6 db26      	RCALL __LSLW2
0001f7 9630      	ADIW R30,0
0001f8 91a0 00e0 	LDS  R26,_start_mem_G1
0001fa 91b0 00e1 	LDS  R27,_start_mem_G1+1
0001fc 0fae      	ADD  R26,R30
0001fd 1fbf      	ADC  R27,R31
0001fe 91ec      	LD   R30,X
0001ff 27ff      	CLR  R31
000200 2766      	CLR  R22
000201 2777      	CLR  R23
000202 93e0 00e2 	STS  _temp,R30
000204 93f0 00e3 	STS  _temp+1,R31
000206 9360 00e4 	STS  _temp+2,R22
000208 9370 00e5 	STS  _temp+3,R23
00020a 01f2      	MOVW R30,R4
00020b db11      	RCALL __LSLW2
00020c 9631      	ADIW R30,1
00020d 91a0 00e0 	LDS  R26,_start_mem_G1
00020f 91b0 00e1 	LDS  R27,_start_mem_G1+1
000211 0fae      	ADD  R26,R30
000212 1fbf      	ADC  R27,R31
000213 91ec      	LD   R30,X
000214 27ff      	CLR  R31
000215 2766      	CLR  R22
000216 2777      	CLR  R23
000217 93e0 00e6
000219 93f0 00e7
00021b 9360 00e8
00021d 9370 00e9 	__PUTD1MN _temp,4
00021f 01f2      	MOVW R30,R4
000220 dafc      	RCALL __LSLW2
000221 9632      	ADIW R30,2
000222 91a0 00e0 	LDS  R26,_start_mem_G1
000224 91b0 00e1 	LDS  R27,_start_mem_G1+1
000226 0fae      	ADD  R26,R30
000227 1fbf      	ADC  R27,R31
000228 91ec      	LD   R30,X
000229 27ff      	CLR  R31
00022a 2766      	CLR  R22
00022b 2777      	CLR  R23
00022c 93e0 00ea
00022e 93f0 00eb
000230 9360 00ec
000232 9370 00ed 	__PUTD1MN _temp,8
000234 01f2      	MOVW R30,R4
000235 dae7      	RCALL __LSLW2
000236 9633      	ADIW R30,3
000237 91a0 00e0 	LDS  R26,_start_mem_G1
000239 91b0 00e1 	LDS  R27,_start_mem_G1+1
00023b 0fae      	ADD  R26,R30
00023c 1fbf      	ADC  R27,R31
00023d 91ec      	LD   R30,X
00023e 27ff      	CLR  R31
00023f 2766      	CLR  R22
000240 2777      	CLR  R23
000241 93e0 00ee
000243 93f0 00ef
000245 9360 00f0
000247 9370 00f1 	__PUTD1MN _temp,12
000249 91e0 00e2 	LDS  R30,_temp
00024b 91f0 00e3 	LDS  R31,_temp+1
00024d 9160 00e4 	LDS  R22,_temp+2
00024f 9170 00e5 	LDS  R23,_temp+3
000251 7fef
000252 70f0
000253 7060
000254 7070      	__ANDD1N 0xFF
000255 937f      	PUSH R23
000256 936f      	PUSH R22
000257 93ff      	PUSH R31
000258 93ef      	PUSH R30
000259 91a0 00e6
00025b 91b0 00e7
00025d 9180 00e8
00025f 9190 00e9 	__GETD2MN _temp,4
000261 e0e8      	LDI  R30,LOW(8)
000262 da9e      	RCALL __LSLD12
000263 70e0
000264 7fff
000265 7060
000266 7070      	__ANDD1N 0xFF00
000267 91af      	POP  R26
000268 91bf      	POP  R27
000269 918f      	POP  R24
00026a 919f      	POP  R25
00026b da8c      	RCALL __ORD12
00026c 01df      	MOVW R26,R30
00026d 01cb      	MOVW R24,R22
00026e 91e0 00ea
000270 91f0 00eb
000272 9160 00ec
000274 9170 00ed 	__GETD1MN _temp,8
000276 dab0      	RCALL __LSLD16
000277 70e0
000278 70f0
000279 7f6f
00027a 7070      	__ANDD1N 0xFF0000
00027b da7c      	RCALL __ORD12
00027c 937f      	PUSH R23
00027d 936f      	PUSH R22
00027e 93ff      	PUSH R31
00027f 93ef      	PUSH R30
000280 91a0 00ee
000282 91b0 00ef
000284 9180 00f0
000286 9190 00f1 	__GETD2MN _temp,12
000288 e1e8      	LDI  R30,LOW(24)
000289 da77      	RCALL __LSLD12
00028a 70e0
00028b 70f0
00028c 7060
00028d 7f7f      	__ANDD1N 0xFF000000
00028e 91af      	POP  R26
00028f 91bf      	POP  R27
000290 918f      	POP  R24
000291 919f      	POP  R25
000292 da65      	RCALL __ORD12
000293 da98      	RCALL __COMD1
000294 93e0 00f2 	STS  _dw_temp,R30
000296 93f0 00f3 	STS  _dw_temp+1,R31
000298 9360 00f4 	STS  _dw_temp+2,R22
00029a 9370 00f5 	STS  _dw_temp+3,R23
00029c fe23      	SBRS R2,3
00029d c010      	RJMP _0x17
00029e 91e0 00f8 	LDS  R30,_scroll_updown_G1
0002a0 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
0002a2 91a0 00f2 	LDS  R26,_dw_temp
0002a4 91b0 00f3 	LDS  R27,_dw_temp+1
0002a6 9180 00f4 	LDS  R24,_dw_temp+2
0002a8 9190 00f5 	LDS  R25,_dw_temp+3
0002aa 2766      	CLR  R22
0002ab 2777      	CLR  R23
0002ac da60      	RCALL __LSRD12
0002ad c00f      	RJMP _0x123
                 _0x17:
0002ae 91e0 00f8 	LDS  R30,_scroll_updown_G1
0002b0 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
0002b2 91a0 00f2 	LDS  R26,_dw_temp
0002b4 91b0 00f3 	LDS  R27,_dw_temp+1
0002b6 9180 00f4 	LDS  R24,_dw_temp+2
0002b8 9190 00f5 	LDS  R25,_dw_temp+3
0002ba 2766      	CLR  R22
0002bb 2777      	CLR  R23
0002bc da44      	RCALL __LSLD12
                 _0x123:
0002bd 93e0 00f2 	STS  _dw_temp,R30
0002bf 93f0 00f3 	STS  _dw_temp+1,R31
0002c1 9360 00f4 	STS  _dw_temp+2,R22
0002c3 9370 00f5 	STS  _dw_temp+3,R23
                 ;     147 		DATA_PORT = ~(BYTE)(dw_temp>>8 & 0x000000ff);  
0002c5 91e0 00f2 	LDS  R30,_dw_temp
0002c7 91f0 00f3 	LDS  R31,_dw_temp+1
0002c9 2fef      	MOV  R30,R31
0002ca 7fef
0002cb 70f0
0002cc 7060
0002cd 7070      	__ANDD1N 0xFF
0002ce da5d      	RCALL __COMD1
0002cf bbe8      	OUT  0x18,R30
                 ;     148 		DATA_CLK = 1;
0002d0 9a93      	SBI  0x12,3
                 ;     149 		DATA_CLK = 0;				
0002d1 9893      	CBI  0x12,3
                 ;     150 	}
0002d2 01f2      	MOVW R30,R4
0002d3 9631      	ADIW R30,1
0002d4 012f      	MOVW R4,R30
0002d5 cf19      	RJMP _0x15
                 _0x16:
                 ;     151 	           
                 ;     152     DATA_STB1 = 1;       
0002d6 9a95      	SBI  0x12,5
                 ;     153     DATA_STB1 = 0;    
0002d7 9895      	CBI  0x12,5
                 ;     154          
                 ;     155     for (x=0; x< SCREEN_WIDTH; x++){ 
0002d8 2444      	CLR  R4
0002d9 2455      	CLR  R5
                 _0x1A:
0002da eae0      	LDI  R30,LOW(160)
0002db e0f0      	LDI  R31,HIGH(160)
0002dc 164e      	CP   R4,R30
0002dd 065f      	CPC  R5,R31
0002de f008      	BRLO PC+2
0002df c0dd      	RJMP _0x1B
                 ;     156         __DATA_SHIFT();
0002e0 01f2      	MOVW R30,R4
0002e1 da3b      	RCALL __LSLW2
0002e2 9630      	ADIW R30,0
0002e3 91a0 00e0 	LDS  R26,_start_mem_G1
0002e5 91b0 00e1 	LDS  R27,_start_mem_G1+1
0002e7 0fae      	ADD  R26,R30
0002e8 1fbf      	ADC  R27,R31
0002e9 91ec      	LD   R30,X
0002ea 27ff      	CLR  R31
0002eb 2766      	CLR  R22
0002ec 2777      	CLR  R23
0002ed 93e0 00e2 	STS  _temp,R30
0002ef 93f0 00e3 	STS  _temp+1,R31
0002f1 9360 00e4 	STS  _temp+2,R22
0002f3 9370 00e5 	STS  _temp+3,R23
0002f5 01f2      	MOVW R30,R4
0002f6 da26      	RCALL __LSLW2
0002f7 9631      	ADIW R30,1
0002f8 91a0 00e0 	LDS  R26,_start_mem_G1
0002fa 91b0 00e1 	LDS  R27,_start_mem_G1+1
0002fc 0fae      	ADD  R26,R30
0002fd 1fbf      	ADC  R27,R31
0002fe 91ec      	LD   R30,X
0002ff 27ff      	CLR  R31
000300 2766      	CLR  R22
000301 2777      	CLR  R23
000302 93e0 00e6
000304 93f0 00e7
000306 9360 00e8
000308 9370 00e9 	__PUTD1MN _temp,4
00030a 01f2      	MOVW R30,R4
00030b da11      	RCALL __LSLW2
00030c 9632      	ADIW R30,2
00030d 91a0 00e0 	LDS  R26,_start_mem_G1
00030f 91b0 00e1 	LDS  R27,_start_mem_G1+1
000311 0fae      	ADD  R26,R30
000312 1fbf      	ADC  R27,R31
000313 91ec      	LD   R30,X
000314 27ff      	CLR  R31
000315 2766      	CLR  R22
000316 2777      	CLR  R23
000317 93e0 00ea
000319 93f0 00eb
00031b 9360 00ec
00031d 9370 00ed 	__PUTD1MN _temp,8
00031f 01f2      	MOVW R30,R4
000320 d9fc      	RCALL __LSLW2
000321 9633      	ADIW R30,3
000322 91a0 00e0 	LDS  R26,_start_mem_G1
000324 91b0 00e1 	LDS  R27,_start_mem_G1+1
000326 0fae      	ADD  R26,R30
000327 1fbf      	ADC  R27,R31
000328 91ec      	LD   R30,X
000329 27ff      	CLR  R31
00032a 2766      	CLR  R22
00032b 2777      	CLR  R23
00032c 93e0 00ee
00032e 93f0 00ef
000330 9360 00f0
000332 9370 00f1 	__PUTD1MN _temp,12
000334 91e0 00e2 	LDS  R30,_temp
000336 91f0 00e3 	LDS  R31,_temp+1
000338 9160 00e4 	LDS  R22,_temp+2
00033a 9170 00e5 	LDS  R23,_temp+3
00033c 7fef
00033d 70f0
00033e 7060
00033f 7070      	__ANDD1N 0xFF
000340 937f      	PUSH R23
000341 936f      	PUSH R22
000342 93ff      	PUSH R31
000343 93ef      	PUSH R30
000344 91a0 00e6
000346 91b0 00e7
000348 9180 00e8
00034a 9190 00e9 	__GETD2MN _temp,4
00034c e0e8      	LDI  R30,LOW(8)
00034d d9b3      	RCALL __LSLD12
00034e 70e0
00034f 7fff
000350 7060
000351 7070      	__ANDD1N 0xFF00
000352 91af      	POP  R26
000353 91bf      	POP  R27
000354 918f      	POP  R24
000355 919f      	POP  R25
000356 d9a1      	RCALL __ORD12
000357 01df      	MOVW R26,R30
000358 01cb      	MOVW R24,R22
000359 91e0 00ea
00035b 91f0 00eb
00035d 9160 00ec
00035f 9170 00ed 	__GETD1MN _temp,8
000361 d9c5      	RCALL __LSLD16
000362 70e0
000363 70f0
000364 7f6f
000365 7070      	__ANDD1N 0xFF0000
000366 d991      	RCALL __ORD12
000367 937f      	PUSH R23
000368 936f      	PUSH R22
000369 93ff      	PUSH R31
00036a 93ef      	PUSH R30
00036b 91a0 00ee
00036d 91b0 00ef
00036f 9180 00f0
000371 9190 00f1 	__GETD2MN _temp,12
000373 e1e8      	LDI  R30,LOW(24)
000374 d98c      	RCALL __LSLD12
000375 70e0
000376 70f0
000377 7060
000378 7f7f      	__ANDD1N 0xFF000000
000379 91af      	POP  R26
00037a 91bf      	POP  R27
00037b 918f      	POP  R24
00037c 919f      	POP  R25
00037d d97a      	RCALL __ORD12
00037e d9ad      	RCALL __COMD1
00037f 93e0 00f2 	STS  _dw_temp,R30
000381 93f0 00f3 	STS  _dw_temp+1,R31
000383 9360 00f4 	STS  _dw_temp+2,R22
000385 9370 00f5 	STS  _dw_temp+3,R23
000387 fe23      	SBRS R2,3
000388 c010      	RJMP _0x1C
000389 91e0 00f8 	LDS  R30,_scroll_updown_G1
00038b 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
00038d 91a0 00f2 	LDS  R26,_dw_temp
00038f 91b0 00f3 	LDS  R27,_dw_temp+1
000391 9180 00f4 	LDS  R24,_dw_temp+2
000393 9190 00f5 	LDS  R25,_dw_temp+3
000395 2766      	CLR  R22
000396 2777      	CLR  R23
000397 d975      	RCALL __LSRD12
000398 c00f      	RJMP _0x124
                 _0x1C:
000399 91e0 00f8 	LDS  R30,_scroll_updown_G1
00039b 91f0 00f9 	LDS  R31,_scroll_updown_G1+1
00039d 91a0 00f2 	LDS  R26,_dw_temp
00039f 91b0 00f3 	LDS  R27,_dw_temp+1
0003a1 9180 00f4 	LDS  R24,_dw_temp+2
0003a3 9190 00f5 	LDS  R25,_dw_temp+3
0003a5 2766      	CLR  R22
0003a6 2777      	CLR  R23
0003a7 d959      	RCALL __LSLD12
                 _0x124:
0003a8 93e0 00f2 	STS  _dw_temp,R30
0003aa 93f0 00f3 	STS  _dw_temp+1,R31
0003ac 9360 00f4 	STS  _dw_temp+2,R22
0003ae 9370 00f5 	STS  _dw_temp+3,R23
                 ;     157 		DATA_PORT = ~(BYTE)(dw_temp>>16 & 0x000000ff);  
0003b0 d971      	RCALL __LSRD16
0003b1 7fef
0003b2 70f0
0003b3 7060
0003b4 7070      	__ANDD1N 0xFF
0003b5 d976      	RCALL __COMD1
0003b6 bbe8      	OUT  0x18,R30
                 ;     158 		DATA_CLK = 1;
0003b7 9a93      	SBI  0x12,3
                 ;     159 		DATA_CLK = 0;				
0003b8 9893      	CBI  0x12,3
                 ;     160 	}
0003b9 01f2      	MOVW R30,R4
0003ba 9631      	ADIW R30,1
0003bb 012f      	MOVW R4,R30
0003bc cf1d      	RJMP _0x1A
                 _0x1B:
                 ;     161 	           
                 ;     162     DATA_STB2 = 1;       
0003bd 9a3a      	SBI  0x7,2
                 ;     163     DATA_STB2 = 0;
0003be 983a      	CBI  0x7,2
                 ;     164     
                 ;     165 }
0003bf 9508      	RET
                 ;     166 
                 ;     167 static void _displayFrame()
                 ;     168 {   
                 __displayFrame_G1:
                 ;     169     if (scroll_type == SCROLL_LEFT || 
                 ;     170         scroll_type == SCROLL_RIGHT ||
                 ;     171         scroll_type == SCROLLING){
0003c0 91a0 0102 	LDS  R26,_scroll_type_G1
0003c2 30a0      	CPI  R26,LOW(0x0)
0003c3 f021      	BREQ _0x1F
0003c4 30a1      	CPI  R26,LOW(0x1)
0003c5 f011      	BREQ _0x1F
0003c6 30a4      	CPI  R26,LOW(0x4)
0003c7 f411      	BRNE _0x1E
                 _0x1F:
                 ;     172 	    _putData_0();	            	
0003c8 dcef      	RCALL __putData_0_G1
                 ;     173 	}
                 ;     174 	else if (scroll_type == UP_LEFT ||
0003c9 c00b      	RJMP _0x21
                 _0x1E:
                 ;     175 	    scroll_type == DOWN_LEFT ||
                 ;     176 	    scroll_type == SCROLL_UP ||
                 ;     177 	    scroll_type == SCROLL_DOWN ){
0003ca 91a0 0102 	LDS  R26,_scroll_type_G1
0003cc 30a2      	CPI  R26,LOW(0x2)
0003cd f031      	BREQ _0x23
0003ce 30a3      	CPI  R26,LOW(0x3)
0003cf f021      	BREQ _0x23
0003d0 30a5      	CPI  R26,LOW(0x5)
0003d1 f011      	BREQ _0x23
0003d2 30a6      	CPI  R26,LOW(0x6)
0003d3 f409      	BRNE _0x22
                 _0x23:
                 ;     178 	    _putData_1();	            	
0003d4 dd32      	RCALL __putData_1_G1
                 ;     179 	}
                 ;     180 }     
                 _0x22:
                 _0x21:
0003d5 9508      	RET
                 ;     181                                                                                   
                 ;     182 static void _doScroll()
                 ;     183 {
                 __doScroll_G1:
                 ;     184 #ifdef KEY_PRESS                               
                 ;     185   if (key_pressed==1){
0003d6 fe22      	SBRS R2,2
0003d7 c003      	RJMP _0x25
                 ;     186     is_stopping =1;
0003d8 9468      	SET
0003d9 f821      	BLD  R2,1
                 ;     187     return;
0003da 9508      	RET
                 ;     188   }             
                 ;     189 #endif //KEY_PRESS  
                 ;     190   if (tick_count > scroll_rate){    
                 _0x25:
0003db 91e0 0100 	LDS  R30,_scroll_rate_G1
0003dd 91a0 00fa 	LDS  R26,_tick_count_G1
0003df 91b0 00fb 	LDS  R27,_tick_count_G1+1
0003e1 e0f0      	LDI  R31,0
0003e2 17ea      	CP   R30,R26
0003e3 07fb      	CPC  R31,R27
0003e4 f008      	BRLO PC+2
0003e5 c280      	RJMP _0x26
                 ;     191     switch (scroll_type)
0003e6 91e0 0102 	LDS  R30,_scroll_type_G1
                 ;     192     {
                 ;     193     case SCROLL_LEFT:    
0003e8 30e0      	CPI  R30,0
0003e9 f009      	BREQ PC+2
0003ea c067      	RJMP _0x2A
                 ;     194         if (scroll_step==0){           
0003eb 91e0 00fd 	LDS  R30,_scroll_step_G1
0003ed 30e0      	CPI  R30,0
0003ee f511      	BRNE _0x2B
                 ;     195             if (scroll_rate> MIN_RATE){
0003ef 91a0 0100 	LDS  R26,_scroll_rate_G1
0003f1 30a3      	CPI  R26,LOW(0x3)
0003f2 f038      	BRLO _0x2C
                 ;     196                 scroll_temp = scroll_rate;
0003f3 91e0 0100 	LDS  R30,_scroll_rate_G1
0003f5 93e0 0101 	STS  _scroll_temp_G1,R30
                 ;     197                 scroll_rate = MIN_RATE;
0003f7 e0e2      	LDI  R30,LOW(2)
0003f8 93e0 0100 	STS  _scroll_rate_G1,R30
                 ;     198             }
                 ;     199             start_mem += 4;
                 _0x2C:
0003fa 91e0 00e0 	LDS  R30,_start_mem_G1
0003fc 91f0 00e1 	LDS  R31,_start_mem_G1+1
0003fe 9634      	ADIW R30,4
0003ff 93e0 00e0 	STS  _start_mem_G1,R30
000401 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     200             if (start_mem ==START_RAM_TEXT +4*(SCREEN_WIDTH)){
000403 91a0 00e0 	LDS  R26,_start_mem_G1
000405 91b0 00e1 	LDS  R27,_start_mem_G1+1
000407 30a0      	CPI  R26,LOW(0xA00)
000408 e0ea      	LDI  R30,HIGH(0xA00)
000409 07be      	CPC  R27,R30
00040a f429      	BRNE _0x2D
                 ;     201                 scroll_step++;
00040b 91e0 00fd 	LDS  R30,_scroll_step_G1
00040d 5fef      	SUBI R30,-LOW(1)
00040e 93e0 00fd 	STS  _scroll_step_G1,R30
                 ;     202             }
                 ;     203         }
                 _0x2D:
                 ;     204         else if (scroll_step==1){  
000410 c040      	RJMP _0x2E
                 _0x2B:
000411 91a0 00fd 	LDS  R26,_scroll_step_G1
000413 30a1      	CPI  R26,LOW(0x1)
000414 f4c1      	BRNE _0x2F
                 ;     205             if (++scroll_count > MAX_STOP_TIME){   
000415 91a0 00f6 	LDS  R26,_scroll_count_G1
000417 91b0 00f7 	LDS  R27,_scroll_count_G1+1
000419 9611      	ADIW R26,1
00041a 93a0 00f6 	STS  _scroll_count_G1,R26
00041c 93b0 00f7 	STS  _scroll_count_G1+1,R27
00041e 36a5      	CPI  R26,LOW(0x65)
00041f e0e0      	LDI  R30,HIGH(0x65)
000420 07be      	CPC  R27,R30
000421 f050      	BRLO _0x30
                 ;     206                 scroll_step++;         
000422 91e0 00fd 	LDS  R30,_scroll_step_G1
000424 5fef      	SUBI R30,-LOW(1)
000425 93e0 00fd 	STS  _scroll_step_G1,R30
000427 50e1      	SUBI R30,LOW(1)
                 ;     207                 scroll_rate = scroll_temp;         
000428 91e0 0101 	LDS  R30,_scroll_temp_G1
00042a 93e0 0100 	STS  _scroll_rate_G1,R30
                 ;     208             }
                 ;     209         }  
                 _0x30:
                 ;     210         else if (scroll_step==2){  
00042c c024      	RJMP _0x31
                 _0x2F:
00042d 91a0 00fd 	LDS  R26,_scroll_step_G1
00042f 30a2      	CPI  R26,LOW(0x2)
000430 f501      	BRNE _0x32
                 ;     211             start_mem += 4;
000431 91e0 00e0 	LDS  R30,_start_mem_G1
000433 91f0 00e1 	LDS  R31,_start_mem_G1+1
000435 9634      	ADIW R30,4
000436 93e0 00e0 	STS  _start_mem_G1,R30
000438 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     212             if (start_mem > START_RAM_TEXT +4*(text_length+SCREEN_WIDTH+SCREEN_HIDE)){                  
00043a 91e0 00fe 	LDS  R30,_text_length_G1
00043c 91f0 00ff 	LDS  R31,_text_length_G1+1
00043e 54e0      	SUBI R30,LOW(-192)
00043f 4fff      	SBCI R31,HIGH(-192)
000440 d8dc      	RCALL __LSLW2
000441 58e0      	SUBI R30,LOW(-1920)
000442 4ff8      	SBCI R31,HIGH(-1920)
000443 91a0 00e0 	LDS  R26,_start_mem_G1
000445 91b0 00e1 	LDS  R27,_start_mem_G1+1
000447 17ea      	CP   R30,R26
000448 07fb      	CPC  R31,R27
000449 f438      	BRSH _0x33
                 ;     213        	        LoadFrame(++frame_index);
00044a 91e0 00fc 	LDS  R30,_frame_index_G1
00044c 5fef      	SUBI R30,-LOW(1)
00044d 93e0 00fc 	STS  _frame_index_G1,R30
00044f 93ea      	ST   -Y,R30
000450 d35b      	RCALL _LoadFrame
                 ;     214            	}
                 ;     215         }              
                 _0x33:
                 ;     216         break;
                 _0x32:
                 _0x31:
                 _0x2E:
000451 c208      	RJMP _0x29
                 ;     217     case SCROLL_RIGHT:
                 _0x2A:
000452 30e1      	CPI  R30,LOW(0x1)
000453 f009      	BREQ PC+2
000454 c053      	RJMP _0x34
                 ;     218         if (scroll_step==0){   
000455 91e0 00fd 	LDS  R30,_scroll_step_G1
000457 30e0      	CPI  R30,0
000458 f4b9      	BRNE _0x35
                 ;     219             start_mem += 4;
000459 91e0 00e0 	LDS  R30,_start_mem_G1
00045b 91f0 00e1 	LDS  R31,_start_mem_G1+1
00045d 9634      	ADIW R30,4
00045e 93e0 00e0 	STS  _start_mem_G1,R30
000460 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     220             if (start_mem ==START_RAM_TEXT +4*(SCREEN_WIDTH)){
000462 91a0 00e0 	LDS  R26,_start_mem_G1
000464 91b0 00e1 	LDS  R27,_start_mem_G1+1
000466 30a0      	CPI  R26,LOW(0xA00)
000467 e0ea      	LDI  R30,HIGH(0xA00)
000468 07be      	CPC  R27,R30
000469 f429      	BRNE _0x36
                 ;     221                 scroll_step++;
00046a 91e0 00fd 	LDS  R30,_scroll_step_G1
00046c 5fef      	SUBI R30,-LOW(1)
00046d 93e0 00fd 	STS  _scroll_step_G1,R30
                 ;     222             }
                 ;     223         }
                 _0x36:
                 ;     224         else if (scroll_step==1){  
00046f c037      	RJMP _0x37
                 _0x35:
000470 91a0 00fd 	LDS  R26,_scroll_step_G1
000472 30a1      	CPI  R26,LOW(0x1)
000473 f4b9      	BRNE _0x38
                 ;     225             if (++scroll_count > MAX_STOP_TIME){   
000474 91a0 00f6 	LDS  R26,_scroll_count_G1
000476 91b0 00f7 	LDS  R27,_scroll_count_G1+1
000478 9611      	ADIW R26,1
000479 93a0 00f6 	STS  _scroll_count_G1,R26
00047b 93b0 00f7 	STS  _scroll_count_G1+1,R27
00047d 36a5      	CPI  R26,LOW(0x65)
00047e e0e0      	LDI  R30,HIGH(0x65)
00047f 07be      	CPC  R27,R30
000480 f048      	BRLO _0x39
                 ;     226                 scroll_step++;  
000481 91e0 00fd 	LDS  R30,_scroll_step_G1
000483 5fef      	SUBI R30,-LOW(1)
000484 93e0 00fd 	STS  _scroll_step_G1,R30
000486 50e1      	SUBI R30,LOW(1)
                 ;     227                 scroll_rate = MIN_RATE;                                
000487 e0e2      	LDI  R30,LOW(2)
000488 93e0 0100 	STS  _scroll_rate_G1,R30
                 ;     228             }
                 ;     229         }  
                 _0x39:
                 ;     230         else if (scroll_step==2){  
00048a c01c      	RJMP _0x3A
                 _0x38:
00048b 91a0 00fd 	LDS  R26,_scroll_step_G1
00048d 30a2      	CPI  R26,LOW(0x2)
00048e f4c1      	BRNE _0x3B
                 ;     231             start_mem -= 4;
00048f 91e0 00e0 	LDS  R30,_start_mem_G1
000491 91f0 00e1 	LDS  R31,_start_mem_G1+1
000493 9734      	SBIW R30,4
000494 93e0 00e0 	STS  _start_mem_G1,R30
000496 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     232             if (start_mem <= START_RAM_TEXT){                  
000498 91a0 00e0 	LDS  R26,_start_mem_G1
00049a 91b0 00e1 	LDS  R27,_start_mem_G1+1
00049c 38a1      	CPI  R26,LOW(0x781)
00049d e0e7      	LDI  R30,HIGH(0x781)
00049e 07be      	CPC  R27,R30
00049f f438      	BRSH _0x3C
                 ;     233        	        LoadFrame(++frame_index);
0004a0 91e0 00fc 	LDS  R30,_frame_index_G1
0004a2 5fef      	SUBI R30,-LOW(1)
0004a3 93e0 00fc 	STS  _frame_index_G1,R30
0004a5 93ea      	ST   -Y,R30
0004a6 d305      	RCALL _LoadFrame
                 ;     234            	}
                 ;     235         }  
                 _0x3C:
                 ;     236         break;                
                 _0x3B:
                 _0x3A:
                 _0x37:
0004a7 c1b2      	RJMP _0x29
                 ;     237     case UP_LEFT:                             
                 _0x34:
0004a8 30e2      	CPI  R30,LOW(0x2)
0004a9 f009      	BREQ PC+2
0004aa c054      	RJMP _0x3D
                 ;     238        	if (scroll_step==0){
0004ab 91e0 00fd 	LDS  R30,_scroll_step_G1
0004ad 30e0      	CPI  R30,0
0004ae f491      	BRNE _0x3E
                 ;     239             if (--scroll_updown <=0){                
0004af 91a0 00f8 	LDS  R26,_scroll_updown_G1
0004b1 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
0004b3 9711      	SBIW R26,1
0004b4 93a0 00f8 	STS  _scroll_updown_G1,R26
0004b6 93b0 00f9 	STS  _scroll_updown_G1+1,R27
0004b8 9710      	SBIW R26,0
0004b9 f431      	BRNE _0x3F
                 ;     240                 scroll_step++;                
0004ba 5fef      	SUBI R30,-LOW(1)
0004bb 93e0 00fd 	STS  _scroll_step_G1,R30
0004bd 50e1      	SUBI R30,LOW(1)
                 ;     241                 is_half_top =1;   
0004be 9468      	SET
0004bf f823      	BLD  R2,3
                 ;     242             }
                 ;     243         }
                 _0x3F:
                 ;     244         else if (scroll_step==1){  
0004c0 c03d      	RJMP _0x40
                 _0x3E:
0004c1 91a0 00fd 	LDS  R26,_scroll_step_G1
0004c3 30a1      	CPI  R26,LOW(0x1)
0004c4 f4c9      	BRNE _0x41
                 ;     245             if (++scroll_count > MAX_STOP_TIME){   
0004c5 91a0 00f6 	LDS  R26,_scroll_count_G1
0004c7 91b0 00f7 	LDS  R27,_scroll_count_G1+1
0004c9 9611      	ADIW R26,1
0004ca 93a0 00f6 	STS  _scroll_count_G1,R26
0004cc 93b0 00f7 	STS  _scroll_count_G1+1,R27
0004ce 36a5      	CPI  R26,LOW(0x65)
0004cf e0e0      	LDI  R30,HIGH(0x65)
0004d0 07be      	CPC  R27,R30
0004d1 f058      	BRLO _0x42
                 ;     246                 scroll_step++;
0004d2 91e0 00fd 	LDS  R30,_scroll_step_G1
0004d4 5fef      	SUBI R30,-LOW(1)
0004d5 93e0 00fd 	STS  _scroll_step_G1,R30
0004d7 50e1      	SUBI R30,LOW(1)
                 ;     247                 scroll_updown = 0;                  
0004d8 e0e0      	LDI  R30,0
0004d9 93e0 00f8 	STS  _scroll_updown_G1,R30
0004db 93e0 00f9 	STS  _scroll_updown_G1+1,R30
                 ;     248             }
                 ;     249         }        
                 _0x42:
                 ;     250         else{
0004dd c020      	RJMP _0x43
                 _0x41:
                 ;     251             start_mem += 4;
0004de 91e0 00e0 	LDS  R30,_start_mem_G1
0004e0 91f0 00e1 	LDS  R31,_start_mem_G1+1
0004e2 9634      	ADIW R30,4
0004e3 93e0 00e0 	STS  _start_mem_G1,R30
0004e5 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     252             if (start_mem > START_RAM_TEXT +4*(text_length+SCREEN_WIDTH+SCREEN_HIDE)){                  
0004e7 91e0 00fe 	LDS  R30,_text_length_G1
0004e9 91f0 00ff 	LDS  R31,_text_length_G1+1
0004eb 54e0      	SUBI R30,LOW(-192)
0004ec 4fff      	SBCI R31,HIGH(-192)
0004ed d82f      	RCALL __LSLW2
0004ee 58e0      	SUBI R30,LOW(-1920)
0004ef 4ff8      	SBCI R31,HIGH(-1920)
0004f0 91a0 00e0 	LDS  R26,_start_mem_G1
0004f2 91b0 00e1 	LDS  R27,_start_mem_G1+1
0004f4 17ea      	CP   R30,R26
0004f5 07fb      	CPC  R31,R27
0004f6 f438      	BRSH _0x44
                 ;     253        	        LoadFrame(++frame_index);
0004f7 91e0 00fc 	LDS  R30,_frame_index_G1
0004f9 5fef      	SUBI R30,-LOW(1)
0004fa 93e0 00fc 	STS  _frame_index_G1,R30
0004fc 93ea      	ST   -Y,R30
0004fd d2ae      	RCALL _LoadFrame
                 ;     254            	}
                 ;     255         }  	  
                 _0x44:
                 _0x43:
                 _0x40:
                 ;     256         break;
0004fe c15b      	RJMP _0x29
                 ;     257     case DOWN_LEFT:   
                 _0x3D:
0004ff 30e3      	CPI  R30,LOW(0x3)
000500 f009      	BREQ PC+2
000501 c054      	RJMP _0x45
                 ;     258         if (scroll_step==0){
000502 91e0 00fd 	LDS  R30,_scroll_step_G1
000504 30e0      	CPI  R30,0
000505 f491      	BRNE _0x46
                 ;     259             if (--scroll_updown <=0){                
000506 91a0 00f8 	LDS  R26,_scroll_updown_G1
000508 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
00050a 9711      	SBIW R26,1
00050b 93a0 00f8 	STS  _scroll_updown_G1,R26
00050d 93b0 00f9 	STS  _scroll_updown_G1+1,R27
00050f 9710      	SBIW R26,0
000510 f431      	BRNE _0x47
                 ;     260                 scroll_step++;                
000511 5fef      	SUBI R30,-LOW(1)
000512 93e0 00fd 	STS  _scroll_step_G1,R30
000514 50e1      	SUBI R30,LOW(1)
                 ;     261                 is_half_top =0;   
000515 94e8      	CLT
000516 f823      	BLD  R2,3
                 ;     262             }
                 ;     263         }
                 _0x47:
                 ;     264         else if (scroll_step==1){                  
000517 c03d      	RJMP _0x48
                 _0x46:
000518 91a0 00fd 	LDS  R26,_scroll_step_G1
00051a 30a1      	CPI  R26,LOW(0x1)
00051b f4c9      	BRNE _0x49
                 ;     265             if (++scroll_count > MAX_STOP_TIME){   
00051c 91a0 00f6 	LDS  R26,_scroll_count_G1
00051e 91b0 00f7 	LDS  R27,_scroll_count_G1+1
000520 9611      	ADIW R26,1
000521 93a0 00f6 	STS  _scroll_count_G1,R26
000523 93b0 00f7 	STS  _scroll_count_G1+1,R27
000525 36a5      	CPI  R26,LOW(0x65)
000526 e0e0      	LDI  R30,HIGH(0x65)
000527 07be      	CPC  R27,R30
000528 f058      	BRLO _0x4A
                 ;     266                 scroll_step++;                
000529 91e0 00fd 	LDS  R30,_scroll_step_G1
00052b 5fef      	SUBI R30,-LOW(1)
00052c 93e0 00fd 	STS  _scroll_step_G1,R30
00052e 50e1      	SUBI R30,LOW(1)
                 ;     267                 scroll_updown = 0;
00052f e0e0      	LDI  R30,0
000530 93e0 00f8 	STS  _scroll_updown_G1,R30
000532 93e0 00f9 	STS  _scroll_updown_G1+1,R30
                 ;     268             }
                 ;     269         }
                 _0x4A:
                 ;     270         else{
000534 c020      	RJMP _0x4B
                 _0x49:
                 ;     271             start_mem += 4;
000535 91e0 00e0 	LDS  R30,_start_mem_G1
000537 91f0 00e1 	LDS  R31,_start_mem_G1+1
000539 9634      	ADIW R30,4
00053a 93e0 00e0 	STS  _start_mem_G1,R30
00053c 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     272             if (start_mem > START_RAM_TEXT +4*(text_length+SCREEN_WIDTH+SCREEN_HIDE)){                  
00053e 91e0 00fe 	LDS  R30,_text_length_G1
000540 91f0 00ff 	LDS  R31,_text_length_G1+1
000542 54e0      	SUBI R30,LOW(-192)
000543 4fff      	SBCI R31,HIGH(-192)
000544 d7d8      	RCALL __LSLW2
000545 58e0      	SUBI R30,LOW(-1920)
000546 4ff8      	SBCI R31,HIGH(-1920)
000547 91a0 00e0 	LDS  R26,_start_mem_G1
000549 91b0 00e1 	LDS  R27,_start_mem_G1+1
00054b 17ea      	CP   R30,R26
00054c 07fb      	CPC  R31,R27
00054d f438      	BRSH _0x4C
                 ;     273        	        LoadFrame(++frame_index);
00054e 91e0 00fc 	LDS  R30,_frame_index_G1
000550 5fef      	SUBI R30,-LOW(1)
000551 93e0 00fc 	STS  _frame_index_G1,R30
000553 93ea      	ST   -Y,R30
000554 d257      	RCALL _LoadFrame
                 ;     274            	}
                 ;     275         }  	  
                 _0x4C:
                 _0x4B:
                 _0x48:
                 ;     276         break;   
000555 c104      	RJMP _0x29
                 ;     277     case SCROLL_UP:
                 _0x45:
000556 30e5      	CPI  R30,LOW(0x5)
000557 f009      	BREQ PC+2
000558 c069      	RJMP _0x4D
                 ;     278         if (scroll_step==0){
000559 91e0 00fd 	LDS  R30,_scroll_step_G1
00055b 30e0      	CPI  R30,0
00055c f491      	BRNE _0x4E
                 ;     279             if (--scroll_updown <=0){                
00055d 91a0 00f8 	LDS  R26,_scroll_updown_G1
00055f 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
000561 9711      	SBIW R26,1
000562 93a0 00f8 	STS  _scroll_updown_G1,R26
000564 93b0 00f9 	STS  _scroll_updown_G1+1,R27
000566 9710      	SBIW R26,0
000567 f431      	BRNE _0x4F
                 ;     280                 scroll_step++;                
000568 5fef      	SUBI R30,-LOW(1)
000569 93e0 00fd 	STS  _scroll_step_G1,R30
00056b 50e1      	SUBI R30,LOW(1)
                 ;     281                 is_half_top =1;   
00056c 9468      	SET
00056d f823      	BLD  R2,3
                 ;     282             }
                 ;     283         }
                 _0x4F:
                 ;     284         else if (scroll_step==1){  
00056e c052      	RJMP _0x50
                 _0x4E:
00056f 91a0 00fd 	LDS  R26,_scroll_step_G1
000571 30a1      	CPI  R26,LOW(0x1)
000572 f4a1      	BRNE _0x51
                 ;     285             if (++scroll_count > MAX_STOP_TIME){   
000573 91a0 00f6 	LDS  R26,_scroll_count_G1
000575 91b0 00f7 	LDS  R27,_scroll_count_G1+1
000577 9611      	ADIW R26,1
000578 93a0 00f6 	STS  _scroll_count_G1,R26
00057a 93b0 00f7 	STS  _scroll_count_G1+1,R27
00057c 36a5      	CPI  R26,LOW(0x65)
00057d e0e0      	LDI  R30,HIGH(0x65)
00057e 07be      	CPC  R27,R30
00057f f030      	BRLO _0x52
                 ;     286                 scroll_step++;                  
000580 91e0 00fd 	LDS  R30,_scroll_step_G1
000582 5fef      	SUBI R30,-LOW(1)
000583 93e0 00fd 	STS  _scroll_step_G1,R30
000585 50e1      	SUBI R30,LOW(1)
                 ;     287             }
                 ;     288         }        
                 _0x52:
                 ;     289         else if (scroll_step==2){
000586 c03a      	RJMP _0x53
                 _0x51:
000587 91a0 00fd 	LDS  R26,_scroll_step_G1
000589 30a2      	CPI  R26,LOW(0x2)
00058a f5b1      	BRNE _0x54
                 ;     290             if (++scroll_updown >=SCREEN_HEIGHT){                
00058b 91a0 00f8 	LDS  R26,_scroll_updown_G1
00058d 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
00058f 9611      	ADIW R26,1
000590 93a0 00f8 	STS  _scroll_updown_G1,R26
000592 93b0 00f9 	STS  _scroll_updown_G1+1,R27
000594 9750      	SBIW R26,16
000595 f158      	BRLO _0x55
                 ;     291                 scroll_step =0;
000596 e0e0      	LDI  R30,LOW(0)
000597 93e0 00fd 	STS  _scroll_step_G1,R30
                 ;     292                 scroll_count=0;                
000599 e0e0      	LDI  R30,0
00059a 93e0 00f6 	STS  _scroll_count_G1,R30
00059c 93e0 00f7 	STS  _scroll_count_G1+1,R30
                 ;     293                 is_half_top =0; 
00059e 94e8      	CLT
00059f f823      	BLD  R2,3
                 ;     294                 start_mem += 4*SCREEN_WIDTH;                                  
0005a0 91e0 00e0 	LDS  R30,_start_mem_G1
0005a2 91f0 00e1 	LDS  R31,_start_mem_G1+1
0005a4 58e0      	SUBI R30,LOW(-640)
0005a5 4ffd      	SBCI R31,HIGH(-640)
0005a6 93e0 00e0 	STS  _start_mem_G1,R30
0005a8 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     295                 if (start_mem >= (START_RAM_TEXT +4*(text_length+SCREEN_WIDTH))){
0005aa 91e0 00fe 	LDS  R30,_text_length_G1
0005ac 91f0 00ff 	LDS  R31,_text_length_G1+1
0005ae 56e0      	SUBI R30,LOW(-160)
0005af 4fff      	SBCI R31,HIGH(-160)
0005b0 d76c      	RCALL __LSLW2
0005b1 58e0      	SUBI R30,LOW(-1920)
0005b2 4ff8      	SBCI R31,HIGH(-1920)
0005b3 91a0 00e0 	LDS  R26,_start_mem_G1
0005b5 91b0 00e1 	LDS  R27,_start_mem_G1+1
0005b7 17ae      	CP   R26,R30
0005b8 07bf      	CPC  R27,R31
0005b9 f038      	BRLO _0x56
                 ;     296                     LoadFrame(++frame_index);
0005ba 91e0 00fc 	LDS  R30,_frame_index_G1
0005bc 5fef      	SUBI R30,-LOW(1)
0005bd 93e0 00fc 	STS  _frame_index_G1,R30
0005bf 93ea      	ST   -Y,R30
0005c0 d1eb      	RCALL _LoadFrame
                 ;     297                 }  
                 ;     298             }
                 _0x56:
                 ;     299         }
                 _0x55:
                 ;     300         	  
                 ;     301         break;        
                 _0x54:
                 _0x53:
                 _0x50:
0005c1 c098      	RJMP _0x29
                 ;     302     case SCROLL_DOWN:    
                 _0x4D:
0005c2 30e6      	CPI  R30,LOW(0x6)
0005c3 f009      	BREQ PC+2
0005c4 c069      	RJMP _0x57
                 ;     303         if (scroll_step==0){
0005c5 91e0 00fd 	LDS  R30,_scroll_step_G1
0005c7 30e0      	CPI  R30,0
0005c8 f491      	BRNE _0x58
                 ;     304             if (--scroll_updown <=0){                
0005c9 91a0 00f8 	LDS  R26,_scroll_updown_G1
0005cb 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
0005cd 9711      	SBIW R26,1
0005ce 93a0 00f8 	STS  _scroll_updown_G1,R26
0005d0 93b0 00f9 	STS  _scroll_updown_G1+1,R27
0005d2 9710      	SBIW R26,0
0005d3 f431      	BRNE _0x59
                 ;     305                 scroll_step++;                
0005d4 5fef      	SUBI R30,-LOW(1)
0005d5 93e0 00fd 	STS  _scroll_step_G1,R30
0005d7 50e1      	SUBI R30,LOW(1)
                 ;     306                 is_half_top =0;   
0005d8 94e8      	CLT
0005d9 f823      	BLD  R2,3
                 ;     307             }
                 ;     308         }
                 _0x59:
                 ;     309         else if (scroll_step==1){  
0005da c052      	RJMP _0x5A
                 _0x58:
0005db 91a0 00fd 	LDS  R26,_scroll_step_G1
0005dd 30a1      	CPI  R26,LOW(0x1)
0005de f4a1      	BRNE _0x5B
                 ;     310             if (++scroll_count > MAX_STOP_TIME){   
0005df 91a0 00f6 	LDS  R26,_scroll_count_G1
0005e1 91b0 00f7 	LDS  R27,_scroll_count_G1+1
0005e3 9611      	ADIW R26,1
0005e4 93a0 00f6 	STS  _scroll_count_G1,R26
0005e6 93b0 00f7 	STS  _scroll_count_G1+1,R27
0005e8 36a5      	CPI  R26,LOW(0x65)
0005e9 e0e0      	LDI  R30,HIGH(0x65)
0005ea 07be      	CPC  R27,R30
0005eb f030      	BRLO _0x5C
                 ;     311                 scroll_step++;                  
0005ec 91e0 00fd 	LDS  R30,_scroll_step_G1
0005ee 5fef      	SUBI R30,-LOW(1)
0005ef 93e0 00fd 	STS  _scroll_step_G1,R30
0005f1 50e1      	SUBI R30,LOW(1)
                 ;     312             }
                 ;     313         }        
                 _0x5C:
                 ;     314         else if (scroll_step==2){
0005f2 c03a      	RJMP _0x5D
                 _0x5B:
0005f3 91a0 00fd 	LDS  R26,_scroll_step_G1
0005f5 30a2      	CPI  R26,LOW(0x2)
0005f6 f5b1      	BRNE _0x5E
                 ;     315             if (++scroll_updown >=SCREEN_HEIGHT){                
0005f7 91a0 00f8 	LDS  R26,_scroll_updown_G1
0005f9 91b0 00f9 	LDS  R27,_scroll_updown_G1+1
0005fb 9611      	ADIW R26,1
0005fc 93a0 00f8 	STS  _scroll_updown_G1,R26
0005fe 93b0 00f9 	STS  _scroll_updown_G1+1,R27
000600 9750      	SBIW R26,16
000601 f158      	BRLO _0x5F
                 ;     316                 scroll_step =0;
000602 e0e0      	LDI  R30,LOW(0)
000603 93e0 00fd 	STS  _scroll_step_G1,R30
                 ;     317                 scroll_count=0;                
000605 e0e0      	LDI  R30,0
000606 93e0 00f6 	STS  _scroll_count_G1,R30
000608 93e0 00f7 	STS  _scroll_count_G1+1,R30
                 ;     318                 is_half_top =1; 
00060a 9468      	SET
00060b f823      	BLD  R2,3
                 ;     319                 start_mem += 4*SCREEN_WIDTH;                                  
00060c 91e0 00e0 	LDS  R30,_start_mem_G1
00060e 91f0 00e1 	LDS  R31,_start_mem_G1+1
000610 58e0      	SUBI R30,LOW(-640)
000611 4ffd      	SBCI R31,HIGH(-640)
000612 93e0 00e0 	STS  _start_mem_G1,R30
000614 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     320                 if (start_mem >= (START_RAM_TEXT +4*(text_length+SCREEN_WIDTH))){
000616 91e0 00fe 	LDS  R30,_text_length_G1
000618 91f0 00ff 	LDS  R31,_text_length_G1+1
00061a 56e0      	SUBI R30,LOW(-160)
00061b 4fff      	SBCI R31,HIGH(-160)
00061c d700      	RCALL __LSLW2
00061d 58e0      	SUBI R30,LOW(-1920)
00061e 4ff8      	SBCI R31,HIGH(-1920)
00061f 91a0 00e0 	LDS  R26,_start_mem_G1
000621 91b0 00e1 	LDS  R27,_start_mem_G1+1
000623 17ae      	CP   R26,R30
000624 07bf      	CPC  R27,R31
000625 f038      	BRLO _0x60
                 ;     321                     LoadFrame(++frame_index);
000626 91e0 00fc 	LDS  R30,_frame_index_G1
000628 5fef      	SUBI R30,-LOW(1)
000629 93e0 00fc 	STS  _frame_index_G1,R30
00062b 93ea      	ST   -Y,R30
00062c d17f      	RCALL _LoadFrame
                 ;     322                 }  
                 ;     323             }
                 _0x60:
                 ;     324         }       
                 _0x5F:
                 ;     325         break;              
                 _0x5E:
                 _0x5D:
                 _0x5A:
00062d c02c      	RJMP _0x29
                 ;     326     case SCROLLING:   
                 _0x57:
00062e 30e4      	CPI  R30,LOW(0x4)
00062f f509      	BRNE _0x61
                 ;     327         start_mem += 4;
000630 91e0 00e0 	LDS  R30,_start_mem_G1
000632 91f0 00e1 	LDS  R31,_start_mem_G1+1
000634 9634      	ADIW R30,4
000635 93e0 00e0 	STS  _start_mem_G1,R30
000637 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     328         if (start_mem > START_RAM_TEXT +4*(text_length+SCREEN_WIDTH+SCREEN_HIDE))             
000639 91e0 00fe 	LDS  R30,_text_length_G1
00063b 91f0 00ff 	LDS  R31,_text_length_G1+1
00063d 54e0      	SUBI R30,LOW(-192)
00063e 4fff      	SBCI R31,HIGH(-192)
00063f d6dd      	RCALL __LSLW2
000640 58e0      	SUBI R30,LOW(-1920)
000641 4ff8      	SBCI R31,HIGH(-1920)
000642 91a0 00e0 	LDS  R26,_start_mem_G1
000644 91b0 00e1 	LDS  R27,_start_mem_G1+1
000646 17ea      	CP   R30,R26
000647 07fb      	CPC  R31,R27
000648 f438      	BRSH _0x62
                 ;     329    	    {         
                 ;     330    	        frame_index++;         
000649 91e0 00fc 	LDS  R30,_frame_index_G1
00064b 5fef      	SUBI R30,-LOW(1)
00064c 93e0 00fc 	STS  _frame_index_G1,R30
                 ;     331    	        LoadFrame(frame_index);
00064e 93ea      	ST   -Y,R30
00064f d15c      	RCALL _LoadFrame
                 ;     332        	}            	
                 ;     333         break;  
                 _0x62:
000650 c009      	RJMP _0x29
                 ;     334     case NOT_USE:
                 _0x61:
000651 30e7      	CPI  R30,LOW(0x7)
000652 f439      	BRNE _0x64
                 ;     335         frame_index++;
000653 91e0 00fc 	LDS  R30,_frame_index_G1
000655 5fef      	SUBI R30,-LOW(1)
000656 93e0 00fc 	STS  _frame_index_G1,R30
                 ;     336         LoadFrame(frame_index);
000658 93ea      	ST   -Y,R30
000659 d152      	RCALL _LoadFrame
                 ;     337         break;  
                 ;     338     default:
                 _0x64:
                 ;     339         break;
                 ;     340     }
                 _0x29:
                 ;     341 	tick_count = 0;
00065a e0e0      	LDI  R30,0
00065b 93e0 00fa 	STS  _tick_count_G1,R30
00065d 93e0 00fb 	STS  _tick_count_G1+1,R30
                 ;     342 	if (frame_index >= MAX_FRAME) frame_index=0;
00065f 91a0 00fc 	LDS  R26,_frame_index_G1
000661 30a2      	CPI  R26,LOW(0x2)
000662 f018      	BRLO _0x65
000663 e0e0      	LDI  R30,LOW(0)
000664 93e0 00fc 	STS  _frame_index_G1,R30
                 ;     343     		
                 ;     344   }
                 _0x65:
                 ;     345              
                 ;     346 }          
                 _0x26:
000666 9508      	RET
                 ;     347 ////////////////////////////////////////////////////////////////////
                 ;     348 // General functions
                 ;     349 //////////////////////////////////////////////////////////////////// 
                 ;     350 #define RESET_WATCHDOG()    #asm("WDR");
                 ;     351                                                                             
                 ;     352 void LoadConfig(BYTE index)
                 ;     353 {
                 _LoadConfig:
                 ;     354     BYTE devID = EEPROM_DEVICE_BASE;    
                 ;     355     WORD base = 0;   // base address
                 ;     356     devID += index<<1;                 
000667 d6ec      	RCALL __SAVELOCR3
                 ;	index -> Y+3
                 ;	devID -> R16
                 ;	base -> R17,R18
000668 ea00      	LDI  R16,160
000669 e010      	LDI  R17,0
00066a e020      	LDI  R18,0
00066b 81eb      	LDD  R30,Y+3
00066c 0fee      	LSL  R30
00066d 0f0e      	ADD  R16,R30
                 ;     357     if (index >=4){
00066e 81ab      	LDD  R26,Y+3
00066f 30a4      	CPI  R26,LOW(0x4)
000670 f010      	BRLO _0x66
                 ;     358         base = 0x8000;    
000671 e010
000672 e820      	__GETWRN 17,18,32768
                 ;     359     }                 
                 ;     360     devID &= 0xF7;      // clear bit A3 
                 _0x66:
000673 7f07      	ANDI R16,LOW(247)
                 ;     361     
                 ;     362     // init I2C bus
                 ;     363     i2c_init();
000674 d5f7      	RCALL _i2c_init
                 ;     364     LED_STATUS = 1;
000675 9ac4      	SBI  0x18,4
                 ;     365     scroll_rate = eeprom_read(devID, (WORD)base+0);    
000676 930a      	ST   -Y,R16
000677 2fe1
000678 2ff2      	__GETW1R 17,18
000679 9630      	ADIW R30,0
00067a 93fa      	ST   -Y,R31
00067b 93ea      	ST   -Y,R30
00067c d38d      	RCALL _eeprom_read
00067d 93e0 0100 	STS  _scroll_rate_G1,R30
                 ;     366     scroll_type = eeprom_read(devID, (WORD)base+1);    
00067f 930a      	ST   -Y,R16
000680 2fe1
000681 2ff2      	__GETW1R 17,18
000682 9631      	ADIW R30,1
000683 93fa      	ST   -Y,R31
000684 93ea      	ST   -Y,R30
000685 d384      	RCALL _eeprom_read
000686 93e0 0102 	STS  _scroll_type_G1,R30
                 ;     367     text_length = eeprom_read_w(devID, (WORD)base+2); 
000688 930a      	ST   -Y,R16
000689 2fe1
00068a 2ff2      	__GETW1R 17,18
00068b 9632      	ADIW R30,2
00068c 93fa      	ST   -Y,R31
00068d 93ea      	ST   -Y,R30
00068e d3ae      	RCALL _eeprom_read_w
00068f 93e0 00fe 	STS  _text_length_G1,R30
000691 93f0 00ff 	STS  _text_length_G1+1,R31
                 ;     368     printf("line=%d rate=%d type=%d len=%d\r\n",index,scroll_rate,scroll_type,text_length);     
000693 e3ec
000694 e0f0      	__POINTW1FN _0,0
000695 93fa      	ST   -Y,R31
000696 93ea      	ST   -Y,R30
000697 81ed      	LDD  R30,Y+5
000698 27ff      	CLR  R31
000699 2766      	CLR  R22
00069a 2777      	CLR  R23
00069b d6b0      	RCALL __PUTPARD1
00069c 91e0 0100 	LDS  R30,_scroll_rate_G1
00069e 27ff      	CLR  R31
00069f 2766      	CLR  R22
0006a0 2777      	CLR  R23
0006a1 d6aa      	RCALL __PUTPARD1
0006a2 91e0 0102 	LDS  R30,_scroll_type_G1
0006a4 27ff      	CLR  R31
0006a5 2766      	CLR  R22
0006a6 2777      	CLR  R23
0006a7 d6a4      	RCALL __PUTPARD1
0006a8 91e0 00fe 	LDS  R30,_text_length_G1
0006aa 91f0 00ff 	LDS  R31,_text_length_G1+1
0006ac 2766      	CLR  R22
0006ad 2777      	CLR  R23
0006ae d69d      	RCALL __PUTPARD1
0006af e180      	LDI  R24,16
0006b0 d5a0      	RCALL _printf
0006b1 9662      	ADIW R28,18
                 ;     369 
                 ;     370     if (text_length > DATA_LENGTH){
0006b2 91a0 00fe 	LDS  R26,_text_length_G1
0006b4 91b0 00ff 	LDS  R27,_text_length_G1+1
0006b6 3ca1      	CPI  R26,LOW(0xEC1)
0006b7 e0ee      	LDI  R30,HIGH(0xEC1)
0006b8 07be      	CPC  R27,R30
0006b9 f028      	BRLO _0x67
                 ;     371         text_length= 0;            
0006ba e0e0      	LDI  R30,0
0006bb 93e0 00fe 	STS  _text_length_G1,R30
0006bd 93e0 00ff 	STS  _text_length_G1+1,R30
                 ;     372     }
                 ;     373     if (scroll_type > NOT_USE){
                 _0x67:
0006bf 91a0 0102 	LDS  R26,_scroll_type_G1
0006c1 30a8      	CPI  R26,LOW(0x8)
0006c2 f018      	BRLO _0x68
                 ;     374         scroll_type = NOT_USE;
0006c3 e0e7      	LDI  R30,LOW(7)
0006c4 93e0 0102 	STS  _scroll_type_G1,R30
                 ;     375     }          
                 ;     376     if (scroll_rate > MAX_RATE){
                 _0x68:
0006c6 91a0 0100 	LDS  R26,_scroll_rate_G1
0006c8 36a5      	CPI  R26,LOW(0x65)
0006c9 f018      	BRLO _0x69
                 ;     377         scroll_rate = 0;
0006ca e0e0      	LDI  R30,LOW(0)
0006cb 93e0 0100 	STS  _scroll_rate_G1,R30
                 ;     378     }
                 ;     379     LED_STATUS = 0;   
                 _0x69:
0006cd 98c4      	CBI  0x18,4
                 ;     380 }
0006ce c01d      	RJMP _0x121
                 ;     381                        
                 ;     382 void SaveTextLength(BYTE index)
                 ;     383 {
                 _SaveTextLength:
                 ;     384     BYTE devID = EEPROM_DEVICE_BASE;    
                 ;     385     WORD base = 0;   // base address
                 ;     386     devID += index<<1;                 
0006cf d684      	RCALL __SAVELOCR3
                 ;	index -> Y+3
                 ;	devID -> R16
                 ;	base -> R17,R18
0006d0 ea00      	LDI  R16,160
0006d1 e010      	LDI  R17,0
0006d2 e020      	LDI  R18,0
0006d3 81eb      	LDD  R30,Y+3
0006d4 0fee      	LSL  R30
0006d5 0f0e      	ADD  R16,R30
                 ;     387     if (index >=4){
0006d6 81ab      	LDD  R26,Y+3
0006d7 30a4      	CPI  R26,LOW(0x4)
0006d8 f010      	BRLO _0x6A
                 ;     388         base = 0x8000;    
0006d9 e010
0006da e820      	__GETWRN 17,18,32768
                 ;     389     }                 
                 ;     390     devID &= 0xF7;      // clear bit A3 
                 _0x6A:
0006db 7f07      	ANDI R16,LOW(247)
                 ;     391     
                 ;     392     i2c_init();
0006dc d58f      	RCALL _i2c_init
                 ;     393     LED_STATUS = 1;   
0006dd 9ac4      	SBI  0x18,4
                 ;     394     eeprom_write_w(devID, base+2,text_length); 
0006de 930a      	ST   -Y,R16
0006df 2fe1
0006e0 2ff2      	__GETW1R 17,18
0006e1 9632      	ADIW R30,2
0006e2 93fa      	ST   -Y,R31
0006e3 93ea      	ST   -Y,R30
0006e4 91e0 00fe 	LDS  R30,_text_length_G1
0006e6 91f0 00ff 	LDS  R31,_text_length_G1+1
0006e8 93fa      	ST   -Y,R31
0006e9 93ea      	ST   -Y,R30
0006ea d373      	RCALL _eeprom_write_w
                 ;     395     LED_STATUS = 0;   
0006eb 98c4      	CBI  0x18,4
                 ;     396 }
                 _0x121:
0006ec d66e      	RCALL __LOADLOCR3
0006ed 9624      	ADIW R28,4
0006ee 9508      	RET
                 ;     397 
                 ;     398 void SaveConfig(BYTE rate,BYTE type, BYTE index)
                 ;     399 {                     
                 _SaveConfig:
                 ;     400     BYTE devID = EEPROM_DEVICE_BASE;    
                 ;     401     WORD base = 0;   // base address
                 ;     402     devID += index<<1;                 
0006ef d664      	RCALL __SAVELOCR3
                 ;	rate -> Y+5
                 ;	type -> Y+4
                 ;	index -> Y+3
                 ;	devID -> R16
                 ;	base -> R17,R18
0006f0 ea00      	LDI  R16,160
0006f1 e010      	LDI  R17,0
0006f2 e020      	LDI  R18,0
0006f3 81eb      	LDD  R30,Y+3
0006f4 0fee      	LSL  R30
0006f5 0f0e      	ADD  R16,R30
                 ;     403     if (index >=4){
0006f6 81ab      	LDD  R26,Y+3
0006f7 30a4      	CPI  R26,LOW(0x4)
0006f8 f010      	BRLO _0x6B
                 ;     404         base = 0x8000;    
0006f9 e010
0006fa e820      	__GETWRN 17,18,32768
                 ;     405     }                 
                 ;     406     devID &= 0xF7;      // clear bit A3  
                 _0x6B:
0006fb 7f07      	ANDI R16,LOW(247)
                 ;     407     i2c_init();
0006fc d56f      	RCALL _i2c_init
                 ;     408     LED_STATUS = 1;  
0006fd 9ac4      	SBI  0x18,4
                 ;     409     eeprom_write(devID, base+0,rate);    
0006fe 930a      	ST   -Y,R16
0006ff 2fe1
000700 2ff2      	__GETW1R 17,18
000701 9630      	ADIW R30,0
000702 93fa      	ST   -Y,R31
000703 93ea      	ST   -Y,R30
000704 85e8      	LDD  R30,Y+8
000705 93ea      	ST   -Y,R30
000706 d31e      	RCALL _eeprom_write
                 ;     410     eeprom_write(devID, base+1,type);    
000707 930a      	ST   -Y,R16
000708 2fe1
000709 2ff2      	__GETW1R 17,18
00070a 9631      	ADIW R30,1
00070b 93fa      	ST   -Y,R31
00070c 93ea      	ST   -Y,R30
00070d 81ef      	LDD  R30,Y+7
00070e 93ea      	ST   -Y,R30
00070f d315      	RCALL _eeprom_write
                 ;     411     LED_STATUS = 0;       
000710 98c4      	CBI  0x18,4
                 ;     412 }
000711 d649      	RCALL __LOADLOCR3
000712 9626      	ADIW R28,6
000713 9508      	RET
                 ;     413 
                 ;     414 void SaveToEEPROM(PBYTE address,WORD length,BYTE index)
                 ;     415 {                             
                 _SaveToEEPROM:
                 ;     416     PBYTE temp = 0;     
                 ;     417     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     418     WORD base = 0;   // base address
                 ;     419     devID += index<<1;                 
000714 d63d      	RCALL __SAVELOCR5
                 ;	*address -> Y+8
                 ;	length -> Y+6
                 ;	index -> Y+5
                 ;	*temp -> R16,R17
                 ;	devID -> R18
                 ;	base -> R19,R20
000715 e000      	LDI  R16,LOW(0x00)
000716 e010      	LDI  R17,HIGH(0x00)
000717 ea20      	LDI  R18,160
000718 e030      	LDI  R19,0
000719 e040      	LDI  R20,0
00071a 81ed      	LDD  R30,Y+5
00071b 0fee      	LSL  R30
00071c 0f2e      	ADD  R18,R30
                 ;     420     if (index >=4){
00071d 81ad      	LDD  R26,Y+5
00071e 30a4      	CPI  R26,LOW(0x4)
00071f f010      	BRLO _0x6C
                 ;     421         base = 0x8000;    
000720 e030
000721 e840      	__GETWRN 19,20,32768
                 ;     422     }         				
                 ;     423     temp = address;         
                 _0x6C:
000722 8508
000723 8519      	__GETWRS 16,17,8
                 ;     424         
                 ;     425     if (length > DATA_LENGTH)    
000724 81ae      	LDD  R26,Y+6
000725 81bf      	LDD  R27,Y+6+1
000726 3ca1      	CPI  R26,LOW(0xEC1)
000727 e0ee      	LDI  R30,HIGH(0xEC1)
000728 07be      	CPC  R27,R30
000729 f018      	BRLO _0x6D
                 ;     426         return; // invalid param 
00072a d62e      	RCALL __LOADLOCR5
00072b 962a      	ADIW R28,10
00072c 9508      	RET
                 ;     427     length = (WORD)address+4*(SCREEN_WIDTH+length);         
                 _0x6D:
00072d 81ee      	LDD  R30,Y+6
00072e 81ff      	LDD  R31,Y+6+1
00072f 56e0      	SUBI R30,LOW(-160)
000730 4fff      	SBCI R31,HIGH(-160)
000731 d5eb      	RCALL __LSLW2
000732 85a8      	LDD  R26,Y+8
000733 85b9      	LDD  R27,Y+8+1
000734 0fea      	ADD  R30,R26
000735 1ffb      	ADC  R31,R27
000736 83ee      	STD  Y+6,R30
000737 83ff      	STD  Y+6+1,R31
                 ;     428     if (length%EEPROM_PAGE)
000738 73ef      	ANDI R30,LOW(0x3F)
000739 f059      	BREQ _0x6E
                 ;     429         length = EEPROM_PAGE*(length/EEPROM_PAGE) + EEPROM_PAGE;  
00073a 81ae      	LDD  R26,Y+6
00073b 81bf      	LDD  R27,Y+6+1
00073c e4e0      	LDI  R30,LOW(64)
00073d e0f0      	LDI  R31,HIGH(64)
00073e d5f2      	RCALL __DIVW21U
00073f d5dd      	RCALL __LSLW2
000740 d5d8      	RCALL __LSLW4
000741 5ce0      	SUBI R30,LOW(-64)
000742 4fff      	SBCI R31,HIGH(-64)
000743 83ee      	STD  Y+6,R30
000744 83ff      	STD  Y+6+1,R31
                 ;     430     // init I2C bus
                 ;     431     i2c_init();
                 _0x6E:
000745 d526      	RCALL _i2c_init
                 ;     432     LED_STATUS = 1;        
000746 9ac4      	SBI  0x18,4
                 ;     433     
                 ;     434     for (temp = address; temp < length; temp+= EEPROM_PAGE) 
000747 8508
000748 8519      	__GETWRS 16,17,8
                 _0x70:
000749 81ee      	LDD  R30,Y+6
00074a 81ff      	LDD  R31,Y+6+1
00074b 170e      	CP   R16,R30
00074c 071f      	CPC  R17,R31
00074d f478      	BRSH _0x71
                 ;     435     {   
                 ;     436         RESET_WATCHDOG();                          	                                              
00074e 95a8      	WDR
                 ;     437         eeprom_write_page( devID, base+(WORD)temp, (PBYTE)temp, EEPROM_PAGE);	      
00074f 932a      	ST   -Y,R18
000750 01f8      	MOVW R30,R16
000751 0fe3      	ADD  R30,R19
000752 1ff4      	ADC  R31,R20
000753 93fa      	ST   -Y,R31
000754 93ea      	ST   -Y,R30
000755 931a      	ST   -Y,R17
000756 930a      	ST   -Y,R16
000757 e4e0      	LDI  R30,LOW(64)
000758 93ea      	ST   -Y,R30
000759 d357      	RCALL _eeprom_write_page
                 ;     438     }       
00075a 5c00
00075b 4f1f      	__ADDWRN 16,17,64
00075c cfec      	RJMP _0x70
                 _0x71:
                 ;     439         
                 ;     440     LED_STATUS = 0;   
00075d 98c4      	CBI  0x18,4
                 ;     441 }
00075e c016      	RJMP _0x120
                 ;     442                       
                 ;     443 void LoadToRAM(PBYTE address,WORD length,BYTE index)
                 ;     444 {                         
                 _LoadToRAM:
                 ;     445     PBYTE temp = 0;          
                 ;     446     BYTE devID = EEPROM_DEVICE_BASE;
                 ;     447     WORD base = 0;   // base address
                 ;     448     devID += index<<1;                 
00075f d5f2      	RCALL __SAVELOCR5
                 ;	*address -> Y+8
                 ;	length -> Y+6
                 ;	index -> Y+5
                 ;	*temp -> R16,R17
                 ;	devID -> R18
                 ;	base -> R19,R20
000760 e000      	LDI  R16,LOW(0x00)
000761 e010      	LDI  R17,HIGH(0x00)
000762 ea20      	LDI  R18,160
000763 e030      	LDI  R19,0
000764 e040      	LDI  R20,0
000765 81ed      	LDD  R30,Y+5
000766 0fee      	LSL  R30
000767 0f2e      	ADD  R18,R30
                 ;     449     if (index >=4){
000768 81ad      	LDD  R26,Y+5
000769 30a4      	CPI  R26,LOW(0x4)
00076a f010      	BRLO _0x72
                 ;     450         base = 0x8000;    
00076b e030
00076c e840      	__GETWRN 19,20,32768
                 ;     451     }       				
                 ;     452     temp = address;                 
                 _0x72:
00076d 8508
00076e 8519      	__GETWRS 16,17,8
                 ;     453 
                 ;     454     if (length > DATA_LENGTH)    
00076f 81ae      	LDD  R26,Y+6
000770 81bf      	LDD  R27,Y+6+1
000771 3ca1      	CPI  R26,LOW(0xEC1)
000772 e0ee      	LDI  R30,HIGH(0xEC1)
000773 07be      	CPC  R27,R30
000774 f018      	BRLO _0x73
                 ;     455         return; // invalid param
                 _0x120:
000775 d5e3      	RCALL __LOADLOCR5
000776 962a      	ADIW R28,10
000777 9508      	RET
                 ;     456     length = (WORD)address+4*(SCREEN_WIDTH+length);         
                 _0x73:
000778 81ee      	LDD  R30,Y+6
000779 81ff      	LDD  R31,Y+6+1
00077a 56e0      	SUBI R30,LOW(-160)
00077b 4fff      	SBCI R31,HIGH(-160)
00077c d5a0      	RCALL __LSLW2
00077d 85a8      	LDD  R26,Y+8
00077e 85b9      	LDD  R27,Y+8+1
00077f 0fea      	ADD  R30,R26
000780 1ffb      	ADC  R31,R27
000781 83ee      	STD  Y+6,R30
000782 83ff      	STD  Y+6+1,R31
                 ;     457     if (length%EEPROM_PAGE)
000783 73ef      	ANDI R30,LOW(0x3F)
000784 f059      	BREQ _0x74
                 ;     458         length = EEPROM_PAGE*(length/EEPROM_PAGE) + EEPROM_PAGE;  
000785 81ae      	LDD  R26,Y+6
000786 81bf      	LDD  R27,Y+6+1
000787 e4e0      	LDI  R30,LOW(64)
000788 e0f0      	LDI  R31,HIGH(64)
000789 d5a7      	RCALL __DIVW21U
00078a d592      	RCALL __LSLW2
00078b d58d      	RCALL __LSLW4
00078c 5ce0      	SUBI R30,LOW(-64)
00078d 4fff      	SBCI R31,HIGH(-64)
00078e 83ee      	STD  Y+6,R30
00078f 83ff      	STD  Y+6+1,R31
                 ;     459     // init I2C bus
                 ;     460     i2c_init();
                 _0x74:
000790 d4db      	RCALL _i2c_init
                 ;     461     LED_STATUS = 1;             
000791 9ac4      	SBI  0x18,4
                 ;     462  
                 ;     463     for (temp = address; temp < length; temp+= EEPROM_PAGE) 
000792 8508
000793 8519      	__GETWRS 16,17,8
                 _0x76:
000794 81ee      	LDD  R30,Y+6
000795 81ff      	LDD  R31,Y+6+1
000796 170e      	CP   R16,R30
000797 071f      	CPC  R17,R31
000798 f478      	BRSH _0x77
                 ;     464     {
                 ;     465         eeprom_read_page( devID, base+(WORD)temp, (PBYTE)temp, EEPROM_PAGE );	                                   
000799 932a      	ST   -Y,R18
00079a 01f8      	MOVW R30,R16
00079b 0fe3      	ADD  R30,R19
00079c 1ff4      	ADC  R31,R20
00079d 93fa      	ST   -Y,R31
00079e 93ea      	ST   -Y,R30
00079f 931a      	ST   -Y,R17
0007a0 930a      	ST   -Y,R16
0007a1 e4e0      	LDI  R30,LOW(64)
0007a2 93ea      	ST   -Y,R30
0007a3 d2d2      	RCALL _eeprom_read_page
                 ;     466         RESET_WATCHDOG();     
0007a4 95a8      	WDR
                 ;     467     }             
0007a5 5c00
0007a6 4f1f      	__ADDWRN 16,17,64
0007a7 cfec      	RJMP _0x76
                 _0x77:
                 ;     468 
                 ;     469     LED_STATUS = 0;   
0007a8 98c4      	CBI  0x18,4
                 ;     470 }
0007a9 d5af      	RCALL __LOADLOCR5
0007aa 962a      	ADIW R28,10
0007ab 9508      	RET
                 ;     471 
                 ;     472 void LoadFrame(BYTE index)
                 ;     473 {                 
                 _LoadFrame:
                 ;     474     if (index >= MAX_FRAME) index=0;  
                 ;	index -> Y+0
0007ac 81a8      	LD   R26,Y
0007ad 30a2      	CPI  R26,LOW(0x2)
0007ae f010      	BRLO _0x78
0007af e0e0      	LDI  R30,LOW(0)
0007b0 83e8      	ST   Y,R30
                 ;     475 
                 ;     476     LoadConfig(index);  
                 _0x78:
0007b1 81e8      	LD   R30,Y
0007b2 93ea      	ST   -Y,R30
0007b3 deb3      	RCALL _LoadConfig
                 ;     477     if (scroll_type >=NOT_USE){
0007b4 91a0 0102 	LDS  R26,_scroll_type_G1
0007b6 30a7      	CPI  R26,LOW(0x7)
0007b7 f008      	BRLO _0x79
                 ;     478         return;           
0007b8 c06c      	RJMP _0x11F
                 ;     479     }                   
                 ;     480     
                 ;     481     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);
                 _0x79:
0007b9 e0e0      	LDI  R30,LOW(1280)
0007ba e0f5      	LDI  R31,HIGH(1280)
0007bb 93fa      	ST   -Y,R31
0007bc 93ea      	ST   -Y,R30
0007bd e0e0      	LDI  R30,LOW(32768)
0007be e8f0      	LDI  R31,HIGH(32768)
0007bf 93fa      	ST   -Y,R31
0007c0 93ea      	ST   -Y,R30
0007c1 d08c      	RCALL _BlankRAM
                 ;     482     LoadToRAM((PBYTE)START_RAM_TEXT,text_length,index);
0007c2 e8e0      	LDI  R30,LOW(1920)
0007c3 e0f7      	LDI  R31,HIGH(1920)
0007c4 93fa      	ST   -Y,R31
0007c5 93ea      	ST   -Y,R30
0007c6 91e0 00fe 	LDS  R30,_text_length_G1
0007c8 91f0 00ff 	LDS  R31,_text_length_G1+1
0007ca 93fa      	ST   -Y,R31
0007cb 93ea      	ST   -Y,R30
0007cc 81ec      	LDD  R30,Y+4
0007cd 93ea      	ST   -Y,R30
0007ce df90      	RCALL _LoadToRAM
                 ;     483     scroll_count = 0;
0007cf e0e0      	LDI  R30,0
0007d0 93e0 00f6 	STS  _scroll_count_G1,R30
0007d2 93e0 00f7 	STS  _scroll_count_G1+1,R30
                 ;     484     is_stopping = 0; 
0007d4 94e8      	CLT
0007d5 f821      	BLD  R2,1
                 ;     485     scroll_step = 0;
0007d6 e0e0      	LDI  R30,LOW(0)
0007d7 93e0 00fd 	STS  _scroll_step_G1,R30
                 ;     486     scroll_updown = 0;
0007d9 e0e0      	LDI  R30,0
0007da 93e0 00f8 	STS  _scroll_updown_G1,R30
0007dc 93e0 00f9 	STS  _scroll_updown_G1+1,R30
                 ;     487     switch (scroll_type)
0007de 91e0 0102 	LDS  R30,_scroll_type_G1
                 ;     488     {
                 ;     489     case SCROLL_LEFT:
0007e0 30e0      	CPI  R30,0
0007e1 f011      	BREQ _0x7E
                 ;     490     case SCROLL_RIGHT:
0007e2 30e1      	CPI  R30,LOW(0x1)
0007e3 f439      	BRNE _0x7F
                 _0x7E:
                 ;     491         start_mem = (PBYTE)START_RAM_TEXT; 
0007e4 e8e0      	LDI  R30,LOW(1920)
0007e5 e0f7      	LDI  R31,HIGH(1920)
0007e6 93e0 00e0 	STS  _start_mem_G1,R30
0007e8 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     492         break;     
0007ea c02e      	RJMP _0x7C
                 ;     493     case SCROLL_UP:
                 _0x7F:
0007eb 30e5      	CPI  R30,LOW(0x5)
0007ec f011      	BREQ _0x81
                 ;     494     case UP_LEFT: 
0007ed 30e2      	CPI  R30,LOW(0x2)
0007ee f479      	BRNE _0x82
                 _0x81:
                 ;     495         is_half_top =0;
0007ef 94e8      	CLT
0007f0 f823      	BLD  R2,3
                 ;     496         scroll_updown = SCREEN_HEIGHT;                            
0007f1 e1e0      	LDI  R30,LOW(16)
0007f2 e0f0      	LDI  R31,HIGH(16)
0007f3 93e0 00f8 	STS  _scroll_updown_G1,R30
0007f5 93f0 00f9 	STS  _scroll_updown_G1+1,R31
                 ;     497         start_mem = (PBYTE)START_RAM_TEXT + (SCREEN_WIDTH<<2); 
0007f7 e0e0      	LDI  R30,LOW(2560)
0007f8 e0fa      	LDI  R31,HIGH(2560)
0007f9 93e0 00e0 	STS  _start_mem_G1,R30
0007fb 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     498         break;       
0007fd c01b      	RJMP _0x7C
                 ;     499     case SCROLL_DOWN:
                 _0x82:
0007fe 30e6      	CPI  R30,LOW(0x6)
0007ff f011      	BREQ _0x84
                 ;     500     case DOWN_LEFT:       
000800 30e3      	CPI  R30,LOW(0x3)
000801 f479      	BRNE _0x85
                 _0x84:
                 ;     501         is_half_top =1; 
000802 9468      	SET
000803 f823      	BLD  R2,3
                 ;     502         scroll_updown = SCREEN_HEIGHT;                            
000804 e1e0      	LDI  R30,LOW(16)
000805 e0f0      	LDI  R31,HIGH(16)
000806 93e0 00f8 	STS  _scroll_updown_G1,R30
000808 93f0 00f9 	STS  _scroll_updown_G1+1,R31
                 ;     503         start_mem = (PBYTE)START_RAM_TEXT + (SCREEN_WIDTH<<2); 
00080a e0e0      	LDI  R30,LOW(2560)
00080b e0fa      	LDI  R31,HIGH(2560)
00080c 93e0 00e0 	STS  _start_mem_G1,R30
00080e 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     504         break;  
000810 c008      	RJMP _0x7C
                 ;     505     case SCROLLING:
                 _0x85:
000811 30e4      	CPI  R30,LOW(0x4)
000812 f431      	BRNE _0x87
                 ;     506         start_mem = (PBYTE)START_RAM_TEXT;
000813 e8e0      	LDI  R30,LOW(1920)
000814 e0f7      	LDI  R31,HIGH(1920)
000815 93e0 00e0 	STS  _start_mem_G1,R30
000817 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     507         break;
                 ;     508     default: 
                 _0x87:
                 ;     509         break;
                 ;     510     }                   
                 _0x7C:
                 ;     511 #ifdef KEY_PRESS    
                 ;     512     if (key_pressed==1){
000819 fe22      	SBRS R2,2
00081a c006      	RJMP _0x88
                 ;     513         start_mem = (PBYTE)START_RAM_TEXT + (SCREEN_WIDTH<<2);
00081b e0e0      	LDI  R30,LOW(2560)
00081c e0fa      	LDI  R31,HIGH(2560)
00081d 93e0 00e0 	STS  _start_mem_G1,R30
00081f 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     514     }           
                 ;     515 #endif //KEY_PRESS
                 ;     516     PORTD=0xFF;       
                 _0x88:
000821 efef      	LDI  R30,LOW(255)
000822 bbe2      	OUT  0x12,R30
                 ;     517     DDRD=0x38;
000823 e3e8      	LDI  R30,LOW(56)
000824 bbe1      	OUT  0x11,R30
                 ;     518 }
                 _0x11F:
000825 9621      	ADIW R28,1
000826 9508      	RET
                 ;     519 
                 ;     520 void SerialToRAM(PBYTE address,WORD length)                                             
                 ;     521 {
                 _SerialToRAM:
                 ;     522     PBYTE temp = 0;          
                 ;     523     UINT i =0;     				
                 ;     524     temp   = address;    
000827 d52b      	RCALL __SAVELOCR4
                 ;	*address -> Y+6
                 ;	length -> Y+4
                 ;	*temp -> R16,R17
                 ;	i -> R18,R19
000828 e000      	LDI  R16,LOW(0x00)
000829 e010      	LDI  R17,HIGH(0x00)
00082a e020      	LDI  R18,0
00082b e030      	LDI  R19,0
00082c 810e
00082d 811f      	__GETWRS 16,17,6
                 ;     525     LED_STATUS = 1;
00082e 9ac4      	SBI  0x18,4
                 ;     526     for (i =0; i< (length<<2); i++)         
00082f e020
000830 e030      	__GETWRN 18,19,0
                 _0x8A:
000831 81ec      	LDD  R30,Y+4
000832 81fd      	LDD  R31,Y+4+1
000833 d4e9      	RCALL __LSLW2
000834 172e      	CP   R18,R30
000835 073f      	CPC  R19,R31
000836 f498      	BRSH _0x8B
                 ;     527     {                          
                 ;     528         BYTE data = 0;
                 ;     529         data = ~getchar();
000837 9721      	SBIW R28,1
000838 e081      	LDI  R24,1
000839 e0a0      	LDI  R26,LOW(0)
00083a e0b0      	LDI  R27,HIGH(0)
00083b e2e8      	LDI  R30,LOW(_0x8C*2)
00083c e0f0      	LDI  R31,HIGH(_0x8C*2)
00083d d524      	RCALL __INITLOCB
                 ;	*address -> Y+7
                 ;	length -> Y+5
                 ;	data -> Y+0
00083e d29a      	RCALL _getchar
00083f 95e0      	COM  R30
000840 83e8      	ST   Y,R30
                 ;     530         *temp = data;
000841 01d8      	MOVW R26,R16
000842 93ec      	ST   X,R30
                 ;     531         temp++;
000843 5f0f
000844 4f1f      	__ADDWRN 16,17,1
                 ;     532         RESET_WATCHDOG();                                     
000845 95a8      	WDR
                 ;     533     }              
000846 9621      	ADIW R28,1
000847 5f2f
000848 4f3f      	__ADDWRN 18,19,1
000849 cfe7      	RJMP _0x8A
                 _0x8B:
                 ;     534     LED_STATUS = 0;
00084a 98c4      	CBI  0x18,4
                 ;     535 }
00084b d50e      	RCALL __LOADLOCR4
00084c 9628      	ADIW R28,8
00084d 9508      	RET
                 ;     536                       
                 ;     537 void BlankRAM(PBYTE start_addr,PBYTE end_addr)
                 ;     538 {        
                 _BlankRAM:
                 ;     539     PBYTE temp = START_RAM;
                 ;     540     for (temp = start_addr; temp<= end_addr; temp++)    
00084e d506      	RCALL __SAVELOCR2
                 ;	*start_addr -> Y+4
                 ;	*end_addr -> Y+2
                 ;	*temp -> R16,R17
00084f e000      	LDI  R16,LOW(0x500)
000850 e015      	LDI  R17,HIGH(0x500)
000851 810c
000852 811d      	__GETWRS 16,17,4
                 _0x8E:
000853 81ea      	LDD  R30,Y+2
000854 81fb      	LDD  R31,Y+2+1
000855 17e0      	CP   R30,R16
000856 07f1      	CPC  R31,R17
000857 f030      	BRLO _0x8F
                 ;     541         *temp = 0xFF;             
000858 01d8      	MOVW R26,R16
000859 efef      	LDI  R30,LOW(255)
00085a 93ec      	ST   X,R30
                 ;     542 }
00085b 5f0f
00085c 4f1f      	__ADDWRN 16,17,1
00085d cff5      	RJMP _0x8E
                 _0x8F:
00085e d4fd      	RCALL __LOADLOCR2
00085f 9626      	ADIW R28,6
000860 9508      	RET
                 ;     543 
                 ;     544 
                 ;     545 ///////////////////////////////////////////////////////////////
                 ;     546 // END static function(s)
                 ;     547 ///////////////////////////////////////////////////////////////
                 ;     548 
                 ;     549 ///////////////////////////////////////////////////////////////           
                 ;     550 
                 ;     551 void InitDevice()
                 ;     552 {
                 _InitDevice:
                 ;     553 // Declare your local variables here
                 ;     554 // Crystal Oscillator division factor: 1  
                 ;     555 #ifdef _MEGA162_INCLUDED_ 
                 ;     556 #pragma optsize-
                 ;     557 CLKPR=0x80;
                 ;     558 CLKPR=0x00;
                 ;     559 #ifdef _OPTIMIZE_SIZE_
                 ;     560 #pragma optsize+
                 ;     561 #endif                    
                 ;     562 #endif
                 ;     563 
                 ;     564 PORTA=0x00;
000861 e0e0      	LDI  R30,LOW(0)
000862 bbeb      	OUT  0x1B,R30
                 ;     565 DDRA=0xFF;
000863 efef      	LDI  R30,LOW(255)
000864 bbea      	OUT  0x1A,R30
                 ;     566 
                 ;     567 PORTB=0x00;
000865 e0e0      	LDI  R30,LOW(0)
000866 bbe8      	OUT  0x18,R30
                 ;     568 DDRB=0xFF;
000867 efef      	LDI  R30,LOW(255)
000868 bbe7      	OUT  0x17,R30
                 ;     569 
                 ;     570 PORTC=0x00;
000869 e0e0      	LDI  R30,LOW(0)
00086a bbe5      	OUT  0x15,R30
                 ;     571 DDRC=0xFF;
00086b efef      	LDI  R30,LOW(255)
00086c bbe4      	OUT  0x14,R30
                 ;     572 
                 ;     573 PORTD=0xFF;
00086d bbe2      	OUT  0x12,R30
                 ;     574 DDRD=0x38; 
00086e e3e8      	LDI  R30,LOW(56)
00086f bbe1      	OUT  0x11,R30
                 ;     575 
                 ;     576 PORTE.0=1;
000870 9a38      	SBI  0x7,0
                 ;     577 DDRE.0=0;
000871 9830      	CBI  0x6,0
                 ;     578 
                 ;     579 PORTE.2=0;
000872 983a      	CBI  0x7,2
                 ;     580 DDRE.2=1;
000873 9a32      	SBI  0x6,2
                 ;     581 
                 ;     582 // Timer/Counter 0 initialization
                 ;     583 // Clock source: System Clock
                 ;     584 // Clock value: 250.000 kHz
                 ;     585 // Mode: Normal top=FFh
                 ;     586 // OC0 output: Disconnected
                 ;     587 TCCR0=0x03;     // 4 us per tick
000874 e0e3      	LDI  R30,LOW(3)
000875 bfe3      	OUT  0x33,R30
                 ;     588 TCNT0=0x05;     // 1ms = 4*250
000876 e0e5      	LDI  R30,LOW(5)
000877 bfe2      	OUT  0x32,R30
                 ;     589 OCR0=0x00;      // 255 -250 = TCNT0
000878 e0e0      	LDI  R30,LOW(0)
000879 bfe1      	OUT  0x31,R30
                 ;     590 
                 ;     591 #ifdef _MEGA162_INCLUDED_
                 ;     592 UCSR0A=0x00;
                 ;     593 UCSR0B=0x98;
                 ;     594 UCSR0C=0x86;
                 ;     595 UBRR0H=0x00;
                 ;     596 UBRR0L=0x67;      //  16 MHz     
                 ;     597 
                 ;     598 #else // _MEGA8515_INCLUDE_     
                 ;     599 UCSRA=0x00;
00087a b9eb      	OUT  0xB,R30
                 ;     600 UCSRB=0x98;
00087b e9e8      	LDI  R30,LOW(152)
00087c b9ea      	OUT  0xA,R30
                 ;     601 UCSRC=0x86;
00087d e8e6      	LDI  R30,LOW(134)
00087e bde0      	OUT  0x20,R30
                 ;     602 UBRRH=0x00;
00087f e0e0      	LDI  R30,LOW(0)
000880 bde0      	OUT  0x20,R30
                 ;     603 UBRRL=0x67;       // 8 MHz
000881 e6e7      	LDI  R30,LOW(103)
000882 b9e9      	OUT  0x9,R30
                 ;     604 #endif
                 ;     605 
                 ;     606 // Lower page wait state(s): None
                 ;     607 // Upper page wait state(s): None
                 ;     608 MCUCR=0x80;
000883 e8e0      	LDI  R30,LOW(128)
000884 bfe5      	OUT  0x35,R30
                 ;     609 EMCUCR=0x00;     
000885 e0e0      	LDI  R30,LOW(0)
000886 bfe6      	OUT  0x36,R30
                 ;     610 
                 ;     611 // Timer(s)/Counter(s) Interrupt(s) initialization
                 ;     612 TIMSK=0x02;
000887 e0e2      	LDI  R30,LOW(2)
000888 bfe9      	OUT  0x39,R30
                 ;     613 #ifdef _MEGA162_INCLUDED_
                 ;     614 ETIMSK=0x00;
                 ;     615 #endif            
                 ;     616 
                 ;     617 // I2C Bus initialization
                 ;     618 // i2c_init();
                 ;     619 
                 ;     620 // DS1307 Real Time Clock initialization
                 ;     621 // Square wave output on pin SQW/OUT: Off
                 ;     622 // SQW/OUT pin state: 1
                 ;     623 // rtc_init(3,0,1);
                 ;     624 
                 ;     625 //i2c_init(); // must be call before
                 ;     626 //rtc_init(3,0,1); // init RTC DS1307  
                 ;     627 //rtc_set_time(15,2,0);
                 ;     628 //rtc_set_date(9,5,6);    
                 ;     629                 
                 ;     630 // Watchdog Timer initialization
                 ;     631 // Watchdog Timer Prescaler: OSC/2048k     
                 ;     632 #ifdef __WATCH_DOG_
                 ;     633 WDTCR=0x1F;
000889 e1ef      	LDI  R30,LOW(31)
00088a bde1      	OUT  0x21,R30
                 ;     634 WDTCR=0x0F;
00088b e0ef      	LDI  R30,LOW(15)
00088c bde1      	OUT  0x21,R30
                 ;     635 #endif
                 ;     636 }
00088d 9508      	RET
                 ;     637 
                 ;     638 void PowerReset()
                 ;     639 {      
                 _PowerReset:
                 ;     640     start_mem = (PBYTE)START_RAM_TEXT;                    
00088e e8e0      	LDI  R30,LOW(1920)
00088f e0f7      	LDI  R31,HIGH(1920)
000890 93e0 00e0 	STS  _start_mem_G1,R30
000892 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     641 
                 ;     642     InitDevice();
000894 dfcc      	RCALL _InitDevice
                 ;     643        
                 ;     644     LED_STATUS = 0;
000895 98c4      	CBI  0x18,4
                 ;     645     BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);  
000896 e0e0      	LDI  R30,LOW(1280)
000897 e0f5      	LDI  R31,HIGH(1280)
000898 93fa      	ST   -Y,R31
000899 93ea      	ST   -Y,R30
00089a e0e0      	LDI  R30,LOW(32768)
00089b e8f0      	LDI  R31,HIGH(32768)
00089c 93fa      	ST   -Y,R31
00089d 93ea      	ST   -Y,R30
00089e dfaf      	RCALL _BlankRAM
                 ;     646     
                 ;     647     LED_STATUS = 0;  
00089f 98c4      	CBI  0x18,4
                 ;     648     delay_ms(50);
0008a0 e3e2      	LDI  R30,LOW(50)
0008a1 e0f0      	LDI  R31,HIGH(50)
0008a2 93fa      	ST   -Y,R31
0008a3 93ea      	ST   -Y,R30
0008a4 d42e      	RCALL _delay_ms
                 ;     649     LED_STATUS = 1;
0008a5 9ac4      	SBI  0x18,4
                 ;     650     delay_ms(50);
0008a6 e3e2      	LDI  R30,LOW(50)
0008a7 e0f0      	LDI  R31,HIGH(50)
0008a8 93fa      	ST   -Y,R31
0008a9 93ea      	ST   -Y,R30
0008aa d428      	RCALL _delay_ms
                 ;     651     LED_STATUS = 0;
0008ab 98c4      	CBI  0x18,4
                 ;     652     delay_ms(500);    
0008ac efe4      	LDI  R30,LOW(500)
0008ad e0f1      	LDI  R31,HIGH(500)
0008ae 93fa      	ST   -Y,R31
0008af 93ea      	ST   -Y,R30
0008b0 d422      	RCALL _delay_ms
                 ;     653     LED_STATUS = 1;
0008b1 9ac4      	SBI  0x18,4
                 ;     654                 
                 ;     655     frame_index= 0;
0008b2 e0e0      	LDI  R30,LOW(0)
0008b3 93e0 00fc 	STS  _frame_index_G1,R30
                 ;     656     LoadFrame(frame_index);
0008b5 93ea      	ST   -Y,R30
0008b6 def5      	RCALL _LoadFrame
                 ;     657         
                 ;     658 #ifdef _INIT_EEPROM_ 
                 ;     659 {
                 ;     660     BYTE i =0;
                 ;     661     for (i =0; i< MAX_FRAME; i++){   
                 ;     662         SaveConfig(10,0,i);
                 ;     663         text_length = 160;
                 ;     664         SaveTextLength(i);            
                 ;     665     }
                 ;     666 }
                 ;     667 #endif  
                 ;     668     printf("LCMS v3.05 Designed by CuongQuay\r\n");  
0008b7 e5ed
0008b8 e0f0      	__POINTW1FN _0,33
0008b9 93fa      	ST   -Y,R31
0008ba 93ea      	ST   -Y,R30
0008bb e080      	LDI  R24,0
0008bc d394      	RCALL _printf
0008bd 9622      	ADIW R28,2
                 ;     669     printf("cuong3ihut@yahoo.com - 0915651001\r\n");
0008be e8e0
0008bf e0f0      	__POINTW1FN _0,68
0008c0 93fa      	ST   -Y,R31
0008c1 93ea      	ST   -Y,R30
0008c2 e080      	LDI  R24,0
0008c3 d38d      	RCALL _printf
0008c4 9622      	ADIW R28,2
                 ;     670     printf("Release date: 09/02/2007");     
0008c5 eae4
0008c6 e0f0      	__POINTW1FN _0,104
0008c7 93fa      	ST   -Y,R31
0008c8 93ea      	ST   -Y,R30
0008c9 e080      	LDI  R24,0
0008ca d386      	RCALL _printf
0008cb 9622      	ADIW R28,2
                 ;     671     RESET_WATCHDOG();
0008cc 95a8      	WDR
                 ;     672 }
0008cd 9508      	RET
                 ;     673 
                 ;     674 void ProcessCommand()
                 ;     675 {
                 _ProcessCommand:
                 ;     676    	#asm("cli"); 
0008ce 94f8      	cli
                 ;     677     RESET_WATCHDOG();
0008cf 95a8      	WDR
                 ;     678 
                 ;     679     // serial message processing     
                 ;     680     switch (rx_message)
0008d0 2de6      	MOV  R30,R6
                 ;     681     {                  
                 ;     682     case LOAD_TEXT_MSG:
0008d1 30e2      	CPI  R30,LOW(0x2)
0008d2 f599      	BRNE _0x93
                 ;     683         {                
                 ;     684             text_length = rx_wparam;            
0008d3 9270 00fe
0008d5 9280 00ff 	__PUTWMRN _text_length_G1,0,7,8
                 ;     685             frame_index = rx_lparam&0x0F;   
0008d7 2de9
0008d8 2dfa      	__GETW1R 9,10
0008d9 70ef      	ANDI R30,LOW(0xF)
0008da 70f0      	ANDI R31,HIGH(0xF)
0008db 93e0 00fc 	STS  _frame_index_G1,R30
                 ;     686             BlankRAM((PBYTE)START_RAM,(PBYTE)END_RAM);
0008dd e0e0      	LDI  R30,LOW(1280)
0008de e0f5      	LDI  R31,HIGH(1280)
0008df 93fa      	ST   -Y,R31
0008e0 93ea      	ST   -Y,R30
0008e1 e0e0      	LDI  R30,LOW(32768)
0008e2 e8f0      	LDI  R31,HIGH(32768)
0008e3 93fa      	ST   -Y,R31
0008e4 93ea      	ST   -Y,R30
0008e5 df68      	RCALL _BlankRAM
                 ;     687             SerialToRAM((PBYTE)START_RAM_TEXT+4*(SCREEN_WIDTH),text_length);                
0008e6 e0e0      	LDI  R30,LOW(2560)
0008e7 e0fa      	LDI  R31,HIGH(2560)
0008e8 93fa      	ST   -Y,R31
0008e9 93ea      	ST   -Y,R30
0008ea 91e0 00fe 	LDS  R30,_text_length_G1
0008ec 91f0 00ff 	LDS  R31,_text_length_G1+1
0008ee 93fa      	ST   -Y,R31
0008ef 93ea      	ST   -Y,R30
0008f0 df36      	RCALL _SerialToRAM
                 ;     688 			start_mem = (PBYTE)START_RAM_TEXT+4*(SCREEN_WIDTH);				
0008f1 e0e0      	LDI  R30,LOW(2560)
0008f2 e0fa      	LDI  R31,HIGH(2560)
0008f3 93e0 00e0 	STS  _start_mem_G1,R30
0008f5 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     689 			SaveToEEPROM((PBYTE)START_RAM_TEXT,text_length,rx_lparam);
0008f7 e8e0      	LDI  R30,LOW(1920)
0008f8 e0f7      	LDI  R31,HIGH(1920)
0008f9 93fa      	ST   -Y,R31
0008fa 93ea      	ST   -Y,R30
0008fb 91e0 00fe 	LDS  R30,_text_length_G1
0008fd 91f0 00ff 	LDS  R31,_text_length_G1+1
0008ff 93fa      	ST   -Y,R31
000900 93ea      	ST   -Y,R30
000901 929a      	ST   -Y,R9
000902 de11      	RCALL _SaveToEEPROM
                 ;     690 			SaveTextLength(rx_lparam);							  
000903 929a      	ST   -Y,R9
000904 ddca      	RCALL _SaveTextLength
                 ;     691         }				
                 ;     692         break;           
000905 c03e      	RJMP _0x92
                 ;     693     case LOAD_BKGND_MSG:
                 _0x93:
000906 30e3      	CPI  R30,LOW(0x3)
000907 f1e1      	BREQ _0x92
                 ;     694         {
                 ;     695         }
                 ;     696         break;   
                 ;     697     case SET_CFG_MSG: 
000908 30ed      	CPI  R30,LOW(0xD)
000909 f451      	BRNE _0x95
                 ;     698         {               
                 ;     699             SaveConfig(rx_wparam&0x0FF,rx_wparam>>8,rx_lparam); 
00090a 2de7
00090b 2df8      	__GETW1R 7,8
00090c 70f0      	ANDI R31,HIGH(0xFF)
00090d 93ea      	ST   -Y,R30
00090e 2de8      	MOV  R30,R8
00090f 70f0      	ANDI R31,HIGH(0x0)
000910 93ea      	ST   -Y,R30
000911 929a      	ST   -Y,R9
000912 dddc      	RCALL _SaveConfig
                 ;     700         }
                 ;     701         break;    
000913 c030      	RJMP _0x92
                 ;     702     case EEPROM_SAVE_TEXT_MSG:     
                 _0x95:
000914 30e7      	CPI  R30,LOW(0x7)
000915 f011      	BREQ _0x97
                 ;     703     case EEPROM_SAVE_ALL_MSG:  
000916 30eb      	CPI  R30,LOW(0xB)
000917 f479      	BRNE _0x98
                 _0x97:
                 ;     704         {                                                          
                 ;     705             SaveTextLength(rx_lparam);              
000918 929a      	ST   -Y,R9
000919 ddb5      	RCALL _SaveTextLength
                 ;     706             SaveToEEPROM((PBYTE)START_RAM_TEXT,text_length,rx_lparam);
00091a e8e0      	LDI  R30,LOW(1920)
00091b e0f7      	LDI  R31,HIGH(1920)
00091c 93fa      	ST   -Y,R31
00091d 93ea      	ST   -Y,R30
00091e 91e0 00fe 	LDS  R30,_text_length_G1
000920 91f0 00ff 	LDS  R31,_text_length_G1+1
000922 93fa      	ST   -Y,R31
000923 93ea      	ST   -Y,R30
000924 929a      	ST   -Y,R9
000925 ddee      	RCALL _SaveToEEPROM
                 ;     707         }
                 ;     708         break;         
000926 c01d      	RJMP _0x92
                 ;     709     case EEPROM_LOAD_TEXT_MSG:    
                 _0x98:
000927 30e6      	CPI  R30,LOW(0x6)
000928 f011      	BREQ _0x9A
                 ;     710     case EEPROM_LOAD_ALL_MSG:
000929 30ea      	CPI  R30,LOW(0xA)
00092a f4a9      	BRNE _0x9B
                 _0x9A:
                 ;     711         {
                 ;     712             LoadConfig(rx_lparam);                               
00092b 929a      	ST   -Y,R9
00092c dd3a      	RCALL _LoadConfig
                 ;     713             LoadToRAM((PBYTE)START_RAM_TEXT,text_length,rx_lparam); 
00092d e8e0      	LDI  R30,LOW(1920)
00092e e0f7      	LDI  R31,HIGH(1920)
00092f 93fa      	ST   -Y,R31
000930 93ea      	ST   -Y,R30
000931 91e0 00fe 	LDS  R30,_text_length_G1
000933 91f0 00ff 	LDS  R31,_text_length_G1+1
000935 93fa      	ST   -Y,R31
000936 93ea      	ST   -Y,R30
000937 929a      	ST   -Y,R9
000938 de26      	RCALL _LoadToRAM
                 ;     714             start_mem = (PBYTE)START_RAM_TEXT+4*(SCREEN_WIDTH);
000939 e0e0      	LDI  R30,LOW(2560)
00093a e0fa      	LDI  R31,HIGH(2560)
00093b 93e0 00e0 	STS  _start_mem_G1,R30
00093d 93f0 00e1 	STS  _start_mem_G1+1,R31
                 ;     715         }
                 ;     716         break;  
00093f c004      	RJMP _0x92
                 ;     717     case POWER_CTRL_MSG:
                 _0x9B:
000940 31e0      	CPI  R30,LOW(0x10)
000941 f411      	BRNE _0x9D
                 ;     718         power_off = rx_wparam&0x01;
000942 fa70      	BST  R7,0
000943 f820      	BLD  R2,0
                 ;     719         break;     
                 ;     720     default:
                 _0x9D:
                 ;     721         break;
                 ;     722     }        
                 _0x92:
                 ;     723     PORTD=0xFF;         
000944 efef      	LDI  R30,LOW(255)
000945 bbe2      	OUT  0x12,R30
                 ;     724     DDRD=0x38;       
000946 e3e8      	LDI  R30,LOW(56)
000947 bbe1      	OUT  0x11,R30
                 ;     725     send_echo_msg();            
000948 d09f      	RCALL _send_echo_msg
                 ;     726     rx_message = UNKNOWN_MSG;
000949 2466      	CLR  R6
                 ;     727     #asm("sei");        
00094a 9478      	sei
                 ;     728 }           
00094b 9508      	RET
                 ;     729 ////////////////////////////////////////////////////////////////////////////////
                 ;     730 // MAIN PROGRAM
                 ;     731 ////////////////////////////////////////////////////////////////////////////////
                 ;     732 void main(void)
                 ;     733 {         
                 _main:
                 ;     734     if (MCUCSR & 8){
00094c b7e4      	IN   R30,0x34
00094d ffe3      	SBRS R30,3
00094e c005      	RJMP _0x9E
                 ;     735         // Watchdog Reset
                 ;     736         MCUCSR&=0xE0;  
00094f b7e4      	IN   R30,0x34
000950 7ee0      	ANDI R30,LOW(0xE0)
000951 bfe4      	OUT  0x34,R30
                 ;     737         reset_serial(); 
000952 d0b3      	RCALL _reset_serial
                 ;     738     }
                 ;     739     else {      
000953 c003      	RJMP _0x9F
                 _0x9E:
                 ;     740         MCUCSR&=0xE0;
000954 b7e4      	IN   R30,0x34
000955 7ee0      	ANDI R30,LOW(0xE0)
000956 bfe4      	OUT  0x34,R30
                 ;     741     }                                     
                 _0x9F:
                 ;     742      
                 ;     743     PowerReset();                        
000957 df36      	RCALL _PowerReset
                 ;     744     #asm("sei");     
000958 9478      	sei
                 ;     745 
                 ;     746     while (1){         
                 _0xA0:
                 ;     747 #ifdef KEY_PRESS       
                 ;     748         if (KEY_PRESS==0){
000959 9928      	SBIC 0x5,0
00095a c016      	RJMP _0xA3
                 ;     749             if (key_pressed==0){
00095b fc22      	SBRC R2,2
00095c c013      	RJMP _0xA4
                 ;     750                 delay_ms(100);
00095d e6e4      	LDI  R30,LOW(100)
00095e e0f0      	LDI  R31,HIGH(100)
00095f 93fa      	ST   -Y,R31
000960 93ea      	ST   -Y,R30
000961 d371      	RCALL _delay_ms
                 ;     751                 if (KEY_PRESS==0){                           
000962 9928      	SBIC 0x5,0
000963 c00c      	RJMP _0xA5
                 ;     752                     printf("KEY PRESSED\r\n");                
000964 ebed
000965 e0f0      	__POINTW1FN _0,129
000966 93fa      	ST   -Y,R31
000967 93ea      	ST   -Y,R30
000968 e080      	LDI  R24,0
000969 d2e7      	RCALL _printf
00096a 9622      	ADIW R28,2
                 ;     753                     key_pressed =1; 
00096b 9468      	SET
00096c f822      	BLD  R2,2
                 ;     754                     LoadFrame(0);                             
00096d e0e0      	LDI  R30,LOW(0)
00096e 93ea      	ST   -Y,R30
00096f de3c      	RCALL _LoadFrame
                 ;     755                 }                                                       
                 ;     756             }
                 _0xA5:
                 ;     757         }
                 _0xA4:
                 ;     758         else{   
000970 c00f      	RJMP _0xA6
                 _0xA3:
                 ;     759             if (key_pressed==1){                   
000971 fe22      	SBRS R2,2
000972 c00d      	RJMP _0xA7
                 ;     760                 delay_ms(100);
000973 e6e4      	LDI  R30,LOW(100)
000974 e0f0      	LDI  R31,HIGH(100)
000975 93fa      	ST   -Y,R31
000976 93ea      	ST   -Y,R30
000977 d35b      	RCALL _delay_ms
                 ;     761                 if (KEY_PRESS==1){                
000978 9b28      	SBIS 0x5,0
000979 c006      	RJMP _0xA8
                 ;     762                     key_pressed =0; 
00097a 94e8      	CLT
00097b f822      	BLD  R2,2
                 ;     763                     LoadFrame(frame_index);       
00097c 91e0 00fc 	LDS  R30,_frame_index_G1
00097e 93ea      	ST   -Y,R30
00097f de2c      	RCALL _LoadFrame
                 ;     764                 }
                 ;     765             }     
                 _0xA8:
                 ;     766         }       
                 _0xA7:
                 _0xA6:
                 ;     767 #endif //KEY_PRESS                   
                 ;     768         if (rx_message != UNKNOWN_MSG){   
000980 2066      	TST  R6
000981 f011      	BREQ _0xA9
                 ;     769             ProcessCommand();   
000982 df4b      	RCALL _ProcessCommand
                 ;     770         }
                 ;     771         else{                      
000983 c003      	RJMP _0xAA
                 _0xA9:
                 ;     772             if (!is_stopping){
000984 fe21      	SBRS R2,1
                 ;     773                 _displayFrame();
000985 da3a      	RCALL __displayFrame_G1
                 ;     774             }
                 ;     775             _doScroll();                         
000986 da4f      	RCALL __doScroll_G1
                 ;     776         }
                 _0xAA:
                 ;     777         RESET_WATCHDOG();
000987 95a8      	WDR
                 ;     778     };
000988 cfd0      	RJMP _0xA0
                 ;     779 
                 ;     780 }
                 _0xAC:
000989 0000      	NOP
00098a cffe      	RJMP _0xAC
                 ;     781                          
                 ;     782 #include "define.h"
                 ;     783 
                 ;     784 ///////////////////////////////////////////////////////////////
                 ;     785 // serial interrupt handle - processing serial message ...
                 ;     786 ///////////////////////////////////////////////////////////////
                 ;     787 // [0x55][0x55][0x55][rx_message][rx_wparam][rx_lparam]
                 ;     788 ///////////////////////////////////////////////////////////////
                 ;     789 BYTE rx_buffer[RX_BUFFER_SIZE];
                 
                 	.DSEG
                 _rx_buffer:
000103           	.BYTE 0x8
                 ;     790 extern BYTE  rx_message;
                 ;     791 extern WORD  rx_wparam;
                 ;     792 extern WORD  rx_lparam;
                 ;     793 
                 ;     794 #if RX_BUFFER_SIZE<256
                 ;     795 unsigned char rx_wr_index,rx_counter;
                 ;     796 #else
                 ;     797 unsigned int rx_wr_index,rx_counter;
                 ;     798 #endif
                 ;     799 
                 ;     800 void send_echo_msg();
                 ;     801 
                 ;     802 // USART Receiver interrupt service routine
                 ;     803 #ifdef _MEGA162_INCLUDED_                    
                 ;     804 interrupt [USART0_RXC] void usart_rx_isr(void)
                 ;     805 #else
                 ;     806 interrupt [USART_RXC] void usart_rx_isr(void)
                 ;     807 #endif
                 ;     808 {
                 
                 	.CSEG
                 _usart_rx_isr:
00098b 93aa      	ST   -Y,R26
00098c 93ba      	ST   -Y,R27
00098d 93ea      	ST   -Y,R30
00098e 93fa      	ST   -Y,R31
00098f b7ef      	IN   R30,SREG
000990 93ea      	ST   -Y,R30
                 ;     809 char status,data;
                 ;     810 #ifdef _MEGA162_INCLUDED_  
                 ;     811 status=UCSR0A;
                 ;     812 data=UDR0;
                 ;     813 #else     
                 ;     814 status=UCSRA;
000991 d3c3      	RCALL __SAVELOCR2
                 ;	status -> R16
                 ;	data -> R17
000992 b10b      	IN   R16,11
                 ;     815 data=UDR;
000993 b11c      	IN   R17,12
                 ;     816 #endif          
                 ;     817     if ((status & (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0)
000994 2fe0      	MOV  R30,R16
000995 71ec      	ANDI R30,LOW(0x1C)
000996 f009      	BREQ PC+2
000997 c048      	RJMP _0xAD
                 ;     818     {
                 ;     819         rx_buffer[rx_wr_index]=data; 
000998 2dab      	MOV  R26,R11
000999 e0b0      	LDI  R27,0
00099a 5fad      	SUBI R26,LOW(-_rx_buffer)
00099b 4fbe      	SBCI R27,HIGH(-_rx_buffer)
00099c 931c      	ST   X,R17
                 ;     820         if (++rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0;
00099d 94b3      	INC  R11
00099e e0e8      	LDI  R30,LOW(8)
00099f 15eb      	CP   R30,R11
0009a0 f409      	BRNE _0xAE
0009a1 24bb      	CLR  R11
                 ;     821         if (++rx_counter == RX_BUFFER_SIZE)
                 _0xAE:
0009a2 94c3      	INC  R12
0009a3 e0e8      	LDI  R30,LOW(8)
0009a4 15ec      	CP   R30,R12
0009a5 f5d1      	BRNE _0xAF
                 ;     822         {
                 ;     823             rx_counter=0;
0009a6 24cc      	CLR  R12
                 ;     824             if (
                 ;     825                 rx_buffer[0]==WAKEUP_CHAR && rx_buffer[1]==WAKEUP_CHAR &&        
                 ;     826                 rx_buffer[2]==WAKEUP_CHAR 
                 ;     827                 )
0009a7 91a0 0103 	LDS  R26,_rx_buffer
0009a9 35a5      	CPI  R26,LOW(0x55)
0009aa f441      	BRNE _0xB1
0009ab 91e0 0104 	__GETB1MN _rx_buffer,1
0009ad 35e5      	CPI  R30,LOW(0x55)
0009ae f421      	BRNE _0xB1
0009af 91e0 0105 	__GETB1MN _rx_buffer,2
0009b1 35e5      	CPI  R30,LOW(0x55)
0009b2 f009      	BREQ _0xB2
                 _0xB1:
0009b3 c01d      	RJMP _0xB0
                 _0xB2:
                 ;     828             {
                 ;     829                 rx_message  = rx_buffer[3];    // message value 
0009b4 9060 0106 	__GETBRMN 6,_rx_buffer,3
                 ;     830                 rx_wparam   = rx_buffer[4];    // wparam value
0009b6 9070 0107 	__GETBRMN 7,_rx_buffer,4
0009b8 2488      	CLR  R8
                 ;     831                 rx_wparam   = (rx_wparam<<8)|rx_buffer[5]; 
0009b9 2df7      	MOV  R31,R7
0009ba e0e0      	LDI  R30,LOW(0)
0009bb 01df      	MOVW R26,R30
0009bc 91e0 0108 	__GETB1MN _rx_buffer,5
0009be e0f0      	LDI  R31,0
0009bf 2bea      	OR   R30,R26
0009c0 2bfb      	OR   R31,R27
0009c1 2e7e
0009c2 2e8f      	__PUTW1R 7,8
                 ;     832                 rx_lparam   = rx_buffer[6];    // lparam value
0009c3 9090 0109 	__GETBRMN 9,_rx_buffer,6
0009c5 24aa      	CLR  R10
                 ;     833                 rx_lparam   = (rx_lparam<<8)|rx_buffer[7];                           
0009c6 2df9      	MOV  R31,R9
0009c7 e0e0      	LDI  R30,LOW(0)
0009c8 01df      	MOVW R26,R30
0009c9 91e0 010a 	__GETB1MN _rx_buffer,7
0009cb e0f0      	LDI  R31,0
0009cc 2bea      	OR   R30,R26
0009cd 2bfb      	OR   R31,R27
0009ce 2e9e
0009cf 2eaf      	__PUTW1R 9,10
                 ;     834             }
                 ;     835             else if(
0009d0 c00f      	RJMP _0xB3
                 _0xB0:
                 ;     836                 rx_buffer[0]==ESCAPE_CHAR && rx_buffer[1]==ESCAPE_CHAR &&        
                 ;     837                 rx_buffer[2]==ESCAPE_CHAR 
                 ;     838                 )
0009d1 91a0 0103 	LDS  R26,_rx_buffer
0009d3 3faf      	CPI  R26,LOW(0xFF)
0009d4 f441      	BRNE _0xB5
0009d5 91e0 0104 	__GETB1MN _rx_buffer,1
0009d7 3fef      	CPI  R30,LOW(0xFF)
0009d8 f421      	BRNE _0xB5
0009d9 91e0 0105 	__GETB1MN _rx_buffer,2
0009db 3fef      	CPI  R30,LOW(0xFF)
0009dc f009      	BREQ _0xB6
                 _0xB5:
0009dd c002      	RJMP _0xB4
                 _0xB6:
                 ;     839             {
                 ;     840                 rx_wr_index=0;
0009de 24bb      	CLR  R11
                 ;     841                 rx_counter =0;
0009df 24cc      	CLR  R12
                 ;     842             }      
                 ;     843         };
                 _0xB4:
                 _0xB3:
                 _0xAF:
                 ;     844     };
                 _0xAD:
                 ;     845 }
0009e0 d37e      	RCALL __LOADLOCR2P
0009e1 91e9      	LD   R30,Y+
0009e2 bfef      	OUT  SREG,R30
0009e3 91f9      	LD   R31,Y+
0009e4 91e9      	LD   R30,Y+
0009e5 91b9      	LD   R27,Y+
0009e6 91a9      	LD   R26,Y+
0009e7 9518      	RETI
                 ;     846 
                 ;     847 void send_echo_msg()
                 ;     848 {
                 _send_echo_msg:
                 ;     849     putchar(WAKEUP_CHAR);
0009e8 e5e5      	LDI  R30,LOW(85)
0009e9 93ea      	ST   -Y,R30
0009ea d0f2      	RCALL _putchar
                 ;     850     putchar(WAKEUP_CHAR);
0009eb e5e5      	LDI  R30,LOW(85)
0009ec 93ea      	ST   -Y,R30
0009ed d0ef      	RCALL _putchar
                 ;     851     putchar(WAKEUP_CHAR);                
0009ee e5e5      	LDI  R30,LOW(85)
0009ef 93ea      	ST   -Y,R30
0009f0 d0ec      	RCALL _putchar
                 ;     852     putchar(rx_message);
0009f1 926a      	ST   -Y,R6
0009f2 d0ea      	RCALL _putchar
                 ;     853     putchar(rx_wparam>>8);
0009f3 2de8      	MOV  R30,R8
0009f4 70f0      	ANDI R31,HIGH(0x0)
0009f5 93ea      	ST   -Y,R30
0009f6 d0e6      	RCALL _putchar
                 ;     854     putchar(rx_wparam&0x00FF);
0009f7 2de7
0009f8 2df8      	__GETW1R 7,8
0009f9 70f0      	ANDI R31,HIGH(0xFF)
0009fa 93ea      	ST   -Y,R30
0009fb d0e1      	RCALL _putchar
                 ;     855     putchar(rx_lparam>>8);        
0009fc 2dea      	MOV  R30,R10
0009fd 70f0      	ANDI R31,HIGH(0x0)
0009fe 93ea      	ST   -Y,R30
0009ff d0dd      	RCALL _putchar
                 ;     856     putchar(rx_lparam&0x00FF);
000a00 2de9
000a01 2dfa      	__GETW1R 9,10
000a02 70f0      	ANDI R31,HIGH(0xFF)
000a03 93ea      	ST   -Y,R30
000a04 d0d8      	RCALL _putchar
                 ;     857 }  
000a05 9508      	RET
                 ;     858 
                 ;     859 void reset_serial()
                 ;     860 {
                 _reset_serial:
                 ;     861     rx_wr_index=0;
000a06 24bb      	CLR  R11
                 ;     862     rx_counter =0;
000a07 24cc      	CLR  R12
                 ;     863     rx_message = UNKNOWN_MSG;
000a08 2466      	CLR  R6
                 ;     864 }
000a09 9508      	RET
                 ;     865 
                 ;     866 ///////////////////////////////////////////////////////////////
                 ;     867 // END serial interrupt handle
                 ;     868 /////////////////////////////////////////////////////////////// 
                 ;     869 /*****************************************************
                 ;     870 This program was produced by the
                 ;     871 CodeWizardAVR V1.24.4a Standard
                 ;     872 Automatic Program Generator
                 ;     873 © Copyright 1998-2004 Pavel Haiduc, HP InfoTech s.r.l.
                 ;     874 http://www.hpinfotech.com
                 ;     875 e-mail:office@hpinfotech.com
                 ;     876 
                 ;     877 Project : 
                 ;     878 Version : 
                 ;     879 Date    : 19/5/2005
                 ;     880 Author  : 3iGROUP                
                 ;     881 Company : http://www.3ihut.net   
                 ;     882 Comments: 
                 ;     883 
                 ;     884 
                 ;     885 Chip type           : ATmega8515
                 ;     886 Program type        : Application
                 ;     887 Clock frequency     : 8.000000 MHz
                 ;     888 Memory model        : Small
                 ;     889 External SRAM size  : 32768
                 ;     890 Ext. SRAM wait state: 0
                 ;     891 Data Stack size     : 128
                 ;     892 *****************************************************/
                 ;     893 
                 ;     894 #include "define.h"                                           
                 ;     895 
                 ;     896 #define     ACK                 1
                 ;     897 #define     NO_ACK              0
                 ;     898 
                 ;     899 // I2C Bus functions
                 ;     900 #asm
                 ;     901    .equ __i2c_port=0x12 ;PORTD
                    .equ __i2c_port=0x12 ;PORTD
                 ;     902    .equ __sda_bit=3
                    .equ __sda_bit=3
                 ;     903    .equ __scl_bit=2
                    .equ __scl_bit=2
                 ;     904 #endasm                   
                 ;     905 
                 ;     906 #ifdef __EEPROM_WRITE_BYTE
                 ;     907 BYTE eeprom_read(BYTE deviceID, WORD address) 
                 ;     908 {
                 _eeprom_read:
                 ;     909     BYTE data;
                 ;     910     i2c_start();
000a0a 930a      	ST   -Y,R16
                 ;	deviceID -> Y+3
                 ;	address -> Y+1
                 ;	data -> R16
000a0b d265      	RCALL _i2c_start
                 ;     911     i2c_write(deviceID);        // issued R/W = 0
000a0c 81eb      	LDD  R30,Y+3
000a0d 93ea      	ST   -Y,R30
000a0e d296      	RCALL _i2c_write
                 ;     912     i2c_write(address>>8);      // high word address
000a0f 81ea      	LDD  R30,Y+2
000a10 70f0      	ANDI R31,HIGH(0x0)
000a11 93ea      	ST   -Y,R30
000a12 d292      	RCALL _i2c_write
                 ;     913     i2c_write(address&0x0FF);   // low word address
000a13 81e9      	LDD  R30,Y+1
000a14 81fa      	LDD  R31,Y+1+1
000a15 70f0      	ANDI R31,HIGH(0xFF)
000a16 93ea      	ST   -Y,R30
000a17 d28d      	RCALL _i2c_write
                 ;     914     
                 ;     915     i2c_start();
000a18 d258      	RCALL _i2c_start
                 ;     916     i2c_write(deviceID | 1);    // issued R/W = 1
000a19 81eb      	LDD  R30,Y+3
000a1a 60e1      	ORI  R30,1
000a1b 93ea      	ST   -Y,R30
000a1c d288      	RCALL _i2c_write
                 ;     917     data=i2c_read(NO_ACK);      // read at current
000a1d e0e0      	LDI  R30,LOW(0)
000a1e 93ea      	ST   -Y,R30
000a1f d26a      	RCALL _i2c_read
000a20 2f0e      	MOV  R16,R30
                 ;     918     i2c_stop();
000a21 d25e      	RCALL _i2c_stop
                 ;     919     return data;
000a22 2fe0      	MOV  R30,R16
000a23 8108      	LDD  R16,Y+0
000a24 c016      	RJMP _0x11E
                 ;     920 }
                 ;     921 
                 ;     922 void eeprom_write(BYTE deviceID, WORD address, BYTE data) 
                 ;     923 {
                 _eeprom_write:
                 ;     924     i2c_start();
                 ;	deviceID -> Y+3
                 ;	address -> Y+1
                 ;	data -> Y+0
000a25 d24b      	RCALL _i2c_start
                 ;     925     i2c_write(deviceID);        // device address
000a26 81eb      	LDD  R30,Y+3
000a27 93ea      	ST   -Y,R30
000a28 d27c      	RCALL _i2c_write
                 ;     926     i2c_write(address>>8);      // high word address
000a29 81ea      	LDD  R30,Y+2
000a2a 70f0      	ANDI R31,HIGH(0x0)
000a2b 93ea      	ST   -Y,R30
000a2c d278      	RCALL _i2c_write
                 ;     927     i2c_write(address&0x0FF);   // low word address
000a2d 81e9      	LDD  R30,Y+1
000a2e 81fa      	LDD  R31,Y+1+1
000a2f 70f0      	ANDI R31,HIGH(0xFF)
000a30 93ea      	ST   -Y,R30
000a31 d273      	RCALL _i2c_write
                 ;     928     i2c_write(data);
000a32 81e8      	LD   R30,Y
000a33 93ea      	ST   -Y,R30
000a34 d270      	RCALL _i2c_write
                 ;     929     i2c_stop();
000a35 d24a      	RCALL _i2c_stop
                 ;     930 
                 ;     931     /* 10ms delay to complete the write operation */
                 ;     932     delay_ms(10);               // 2 ticks : 5x2 = 10 ms        
000a36 e0ea      	LDI  R30,LOW(10)
000a37 e0f0      	LDI  R31,HIGH(10)
000a38 93fa      	ST   -Y,R31
000a39 93ea      	ST   -Y,R30
000a3a d298      	RCALL _delay_ms
                 ;     933 }                                 
                 _0x11E:
000a3b 9624      	ADIW R28,4
000a3c 9508      	RET
                 ;     934 
                 ;     935 WORD eeprom_read_w(BYTE deviceID, WORD address)
                 ;     936 {
                 _eeprom_read_w:
                 ;     937     WORD result = 0;
                 ;     938     result = eeprom_read(deviceID,address);
000a3d d317      	RCALL __SAVELOCR2
                 ;	deviceID -> Y+4
                 ;	address -> Y+2
                 ;	result -> R16,R17
000a3e e000      	LDI  R16,0
000a3f e010      	LDI  R17,0
000a40 81ec      	LDD  R30,Y+4
000a41 93ea      	ST   -Y,R30
000a42 81eb      	LDD  R30,Y+3
000a43 81fc      	LDD  R31,Y+3+1
000a44 93fa      	ST   -Y,R31
000a45 93ea      	ST   -Y,R30
000a46 dfc3      	RCALL _eeprom_read
000a47 2f0e      	MOV  R16,R30
000a48 2711      	CLR  R17
                 ;     939     result = (result<<8) | eeprom_read(deviceID,address+1);
000a49 2ff0      	MOV  R31,R16
000a4a e0e0      	LDI  R30,LOW(0)
000a4b 93ff      	PUSH R31
000a4c 93ef      	PUSH R30
000a4d 81ec      	LDD  R30,Y+4
000a4e 93ea      	ST   -Y,R30
000a4f 81eb      	LDD  R30,Y+3
000a50 81fc      	LDD  R31,Y+3+1
000a51 9631      	ADIW R30,1
000a52 93fa      	ST   -Y,R31
000a53 93ea      	ST   -Y,R30
000a54 dfb5      	RCALL _eeprom_read
000a55 91af      	POP  R26
000a56 91bf      	POP  R27
000a57 e0f0      	LDI  R31,0
000a58 2bea      	OR   R30,R26
000a59 2bfb      	OR   R31,R27
000a5a 018f      	MOVW R16,R30
                 ;     940     return result;
000a5b 01f8      	MOVW R30,R16
000a5c d2ff      	RCALL __LOADLOCR2
000a5d c016      	RJMP _0x11D
                 ;     941 }
                 ;     942 void eeprom_write_w(BYTE deviceID, WORD address, WORD data)
                 ;     943 {
                 _eeprom_write_w:
                 ;     944     eeprom_write(deviceID,address,data>>8);
                 ;	deviceID -> Y+4
                 ;	address -> Y+2
                 ;	data -> Y+0
000a5e 81ec      	LDD  R30,Y+4
000a5f 93ea      	ST   -Y,R30
000a60 81eb      	LDD  R30,Y+3
000a61 81fc      	LDD  R31,Y+3+1
000a62 93fa      	ST   -Y,R31
000a63 93ea      	ST   -Y,R30
000a64 81ec      	LDD  R30,Y+4
000a65 70f0      	ANDI R31,HIGH(0x0)
000a66 93ea      	ST   -Y,R30
000a67 dfbd      	RCALL _eeprom_write
                 ;     945     eeprom_write(deviceID,address+1,data&0x0FF);    
000a68 81ec      	LDD  R30,Y+4
000a69 93ea      	ST   -Y,R30
000a6a 81eb      	LDD  R30,Y+3
000a6b 81fc      	LDD  R31,Y+3+1
000a6c 9631      	ADIW R30,1
000a6d 93fa      	ST   -Y,R31
000a6e 93ea      	ST   -Y,R30
000a6f 81eb      	LDD  R30,Y+3
000a70 81fc      	LDD  R31,Y+3+1
000a71 70f0      	ANDI R31,HIGH(0xFF)
000a72 93ea      	ST   -Y,R30
000a73 dfb1      	RCALL _eeprom_write
                 ;     946 }
                 _0x11D:
000a74 9625      	ADIW R28,5
000a75 9508      	RET
                 ;     947 
                 ;     948 #endif // __EEPROM_WRITE_BYTE
                 ;     949 void eeprom_read_page(BYTE deviceID, WORD address, PBYTE buffer, BYTE page_size)
                 ;     950 {
                 _eeprom_read_page:
                 ;     951     BYTE i = 0;
                 ;     952     i2c_start();
000a76 930a      	ST   -Y,R16
                 ;	deviceID -> Y+6
                 ;	address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
000a77 e000      	LDI  R16,0
000a78 d1f8      	RCALL _i2c_start
                 ;     953     i2c_write(deviceID);            // issued R/W = 0
000a79 81ee      	LDD  R30,Y+6
000a7a 93ea      	ST   -Y,R30
000a7b d229      	RCALL _i2c_write
                 ;     954     i2c_write(address>>8);          // high word address
000a7c 81ed      	LDD  R30,Y+5
000a7d 70f0      	ANDI R31,HIGH(0x0)
000a7e 93ea      	ST   -Y,R30
000a7f d225      	RCALL _i2c_write
                 ;     955     i2c_write(address&0xFF);        // low word address
000a80 81ec      	LDD  R30,Y+4
000a81 81fd      	LDD  R31,Y+4+1
000a82 70f0      	ANDI R31,HIGH(0xFF)
000a83 93ea      	ST   -Y,R30
000a84 d220      	RCALL _i2c_write
                 ;     956     
                 ;     957     i2c_start();
000a85 d1eb      	RCALL _i2c_start
                 ;     958     i2c_write(deviceID | 1);        // issued R/W = 1
000a86 81ee      	LDD  R30,Y+6
000a87 60e1      	ORI  R30,1
000a88 93ea      	ST   -Y,R30
000a89 d21b      	RCALL _i2c_write
                 ;     959                                     
                 ;     960     while ( i < page_size-1 )
                 _0xB7:
000a8a 81e9      	LDD  R30,Y+1
000a8b 50e1      	SUBI R30,LOW(1)
000a8c 170e      	CP   R16,R30
000a8d f480      	BRSH _0xB9
                 ;     961     {
                 ;     962         buffer[i++] = i2c_read(ACK);   // read at current
000a8e 2fe0      	MOV  R30,R16
000a8f 5f0f      	SUBI R16,-1
000a90 81aa      	LDD  R26,Y+2
000a91 81bb      	LDD  R27,Y+2+1
000a92 e0f0      	LDI  R31,0
000a93 0fea      	ADD  R30,R26
000a94 1ffb      	ADC  R31,R27
000a95 93ff      	PUSH R31
000a96 93ef      	PUSH R30
000a97 e0e1      	LDI  R30,LOW(1)
000a98 93ea      	ST   -Y,R30
000a99 d1f0      	RCALL _i2c_read
000a9a 91af      	POP  R26
000a9b 91bf      	POP  R27
000a9c 93ec      	ST   X,R30
                 ;     963     }
000a9d cfec      	RJMP _0xB7
                 _0xB9:
                 ;     964     buffer[page_size-1] = i2c_read(NO_ACK); // read last byte
000a9e 81e9      	LDD  R30,Y+1
000a9f 50e1      	SUBI R30,LOW(1)
000aa0 81aa      	LDD  R26,Y+2
000aa1 81bb      	LDD  R27,Y+2+1
000aa2 e0f0      	LDI  R31,0
000aa3 0fea      	ADD  R30,R26
000aa4 1ffb      	ADC  R31,R27
000aa5 93ff      	PUSH R31
000aa6 93ef      	PUSH R30
000aa7 e0e0      	LDI  R30,LOW(0)
000aa8 93ea      	ST   -Y,R30
000aa9 d1e0      	RCALL _i2c_read
000aaa 91af      	POP  R26
000aab 91bf      	POP  R27
000aac 93ec      	ST   X,R30
                 ;     965          
                 ;     966     i2c_stop();
000aad d1d2      	RCALL _i2c_stop
                 ;     967 }
000aae 8108      	LDD  R16,Y+0
000aaf 9627      	ADIW R28,7
000ab0 9508      	RET
                 ;     968 
                 ;     969 void eeprom_write_page(BYTE deviceID, WORD address, PBYTE buffer, BYTE page_size)
                 ;     970 {
                 _eeprom_write_page:
                 ;     971     BYTE i = 0;
                 ;     972     i2c_start();
000ab1 930a      	ST   -Y,R16
                 ;	deviceID -> Y+6
                 ;	address -> Y+4
                 ;	*buffer -> Y+2
                 ;	page_size -> Y+1
                 ;	i -> R16
000ab2 e000      	LDI  R16,0
000ab3 d1bd      	RCALL _i2c_start
                 ;     973     i2c_write(deviceID);            // issued R/W = 0
000ab4 81ee      	LDD  R30,Y+6
000ab5 93ea      	ST   -Y,R30
000ab6 d1ee      	RCALL _i2c_write
                 ;     974     i2c_write(address>>8);          // high word address
000ab7 81ed      	LDD  R30,Y+5
000ab8 70f0      	ANDI R31,HIGH(0x0)
000ab9 93ea      	ST   -Y,R30
000aba d1ea      	RCALL _i2c_write
                 ;     975     i2c_write(address&0xFF);        // low word address
000abb 81ec      	LDD  R30,Y+4
000abc 81fd      	LDD  R31,Y+4+1
000abd 70f0      	ANDI R31,HIGH(0xFF)
000abe 93ea      	ST   -Y,R30
000abf d1e5      	RCALL _i2c_write
                 ;     976                                         
                 ;     977     while ( i < page_size )
                 _0xBA:
000ac0 81e9      	LDD  R30,Y+1
000ac1 170e      	CP   R16,R30
000ac2 f468      	BRSH _0xBC
                 ;     978     {
                 ;     979         i2c_write(buffer[i++]);
000ac3 2fe0      	MOV  R30,R16
000ac4 5f0f      	SUBI R16,-1
000ac5 81aa      	LDD  R26,Y+2
000ac6 81bb      	LDD  R27,Y+2+1
000ac7 e0f0      	LDI  R31,0
000ac8 0fae      	ADD  R26,R30
000ac9 1fbf      	ADC  R27,R31
000aca 91ec      	LD   R30,X
000acb 93ea      	ST   -Y,R30
000acc d1d8      	RCALL _i2c_write
                 ;     980         #asm("nop");#asm("nop");
000acd 0000      	nop
000ace 0000      	nop
                 ;     981     }          
000acf cff0      	RJMP _0xBA
                 _0xBC:
                 ;     982     i2c_stop(); 
000ad0 d1af      	RCALL _i2c_stop
                 ;     983     delay_ms(10);
000ad1 e0ea      	LDI  R30,LOW(10)
000ad2 e0f0      	LDI  R31,HIGH(10)
000ad3 93fa      	ST   -Y,R31
000ad4 93ea      	ST   -Y,R30
000ad5 d1fd      	RCALL _delay_ms
                 ;     984 }
000ad6 8108      	LDD  R16,Y+0
000ad7 9627      	ADIW R28,7
000ad8 9508      	RET
                 ;     985                                               
                 
                 _getchar:
000ad9 9b5f           sbis usr,rxc
000ada cffe           rjmp _getchar
000adb b1ec           in   r30,udr
000adc 9508      	RET
                 _putchar:
000add 9b5d           sbis usr,udre
000ade cffe           rjmp _putchar
000adf 81e8           ld   r30,y
000ae0 b9ec           out  udr,r30
000ae1 9621      	ADIW R28,1
000ae2 9508      	RET
                 __put_G4:
000ae3 81a8      	LD   R26,Y
000ae4 81b9      	LDD  R27,Y+1
000ae5 d25e      	RCALL __GETW1P
000ae6 9730      	SBIW R30,0
000ae7 f049      	BREQ _0xBD
000ae8 91ed      	LD   R30,X+
000ae9 91fd      	LD   R31,X+
000aea 9631      	ADIW R30,1
000aeb 93fe      	ST   -X,R31
000aec 93ee      	ST   -X,R30
000aed 9731      	SBIW R30,1
000aee 81aa      	LDD  R26,Y+2
000aef 83a0      	STD  Z+0,R26
000af0 c003      	RJMP _0xBE
                 _0xBD:
000af1 81ea      	LDD  R30,Y+2
000af2 93ea      	ST   -Y,R30
000af3 dfe9      	RCALL _putchar
                 _0xBE:
000af4 9623      	ADIW R28,3
000af5 9508      	RET
                 __print_G4:
000af6 9726      	SBIW R28,6
000af7 d259      	RCALL __SAVELOCR6
000af8 e000      	LDI  R16,0
                 _0xBF:
000af9 89e8      	LDD  R30,Y+16
000afa 89f9      	LDD  R31,Y+16+1
000afb 9631      	ADIW R30,1
000afc 8be8      	STD  Y+16,R30
000afd 8bf9      	STD  Y+16+1,R31
000afe 9731      	SBIW R30,1
000aff 91e4      	LPM  R30,Z
000b00 2f3e      	MOV  R19,R30
000b01 30e0      	CPI  R30,0
000b02 f409      	BRNE PC+2
000b03 c14a      	RJMP _0xC1
000b04 2fe0      	MOV  R30,R16
000b05 30e0      	CPI  R30,0
000b06 f459      	BRNE _0xC5
000b07 3235      	CPI  R19,37
000b08 f411      	BRNE _0xC6
000b09 e001      	LDI  R16,LOW(1)
000b0a c006      	RJMP _0xC7
                 _0xC6:
000b0b 933a      	ST   -Y,R19
000b0c 85ed      	LDD  R30,Y+13
000b0d 85fe      	LDD  R31,Y+13+1
000b0e 93fa      	ST   -Y,R31
000b0f 93ea      	ST   -Y,R30
000b10 dfd2      	RCALL __put_G4
                 _0xC7:
000b11 c13b      	RJMP _0xC4
                 _0xC5:
000b12 30e1      	CPI  R30,LOW(0x1)
000b13 f4c9      	BRNE _0xC8
000b14 3235      	CPI  R19,37
000b15 f439      	BRNE _0xC9
000b16 933a      	ST   -Y,R19
000b17 85ed      	LDD  R30,Y+13
000b18 85fe      	LDD  R31,Y+13+1
000b19 93fa      	ST   -Y,R31
000b1a 93ea      	ST   -Y,R30
000b1b dfc7      	RCALL __put_G4
000b1c c12f      	RJMP _0x125
                 _0xC9:
000b1d e002      	LDI  R16,LOW(2)
000b1e e050      	LDI  R21,LOW(0)
000b1f e010      	LDI  R17,LOW(0)
000b20 323d      	CPI  R19,45
000b21 f411      	BRNE _0xCA
000b22 e011      	LDI  R17,LOW(1)
000b23 c129      	RJMP _0xC4
                 _0xCA:
000b24 323b      	CPI  R19,43
000b25 f411      	BRNE _0xCB
000b26 e25b      	LDI  R21,LOW(43)
000b27 c125      	RJMP _0xC4
                 _0xCB:
000b28 3230      	CPI  R19,32
000b29 f411      	BRNE _0xCC
000b2a e250      	LDI  R21,LOW(32)
000b2b c121      	RJMP _0xC4
                 _0xCC:
000b2c c002      	RJMP _0xCD
                 _0xC8:
000b2d 30e2      	CPI  R30,LOW(0x2)
000b2e f439      	BRNE _0xCE
                 _0xCD:
000b2f e040      	LDI  R20,LOW(0)
000b30 e003      	LDI  R16,LOW(3)
000b31 3330      	CPI  R19,48
000b32 f411      	BRNE _0xCF
000b33 6810      	ORI  R17,LOW(128)
000b34 c118      	RJMP _0xC4
                 _0xCF:
000b35 c003      	RJMP _0xD0
                 _0xCE:
000b36 30e3      	CPI  R30,LOW(0x3)
000b37 f009      	BREQ PC+2
000b38 c114      	RJMP _0xC4
                 _0xD0:
000b39 3330      	CPI  R19,48
000b3a f010      	BRLO _0xD3
000b3b 333a      	CPI  R19,58
000b3c f008      	BRLO _0xD4
                 _0xD3:
000b3d c009      	RJMP _0xD2
                 _0xD4:
000b3e 2fa4      	MOV  R26,R20
000b3f e0ea      	LDI  R30,LOW(10)
000b40 9fea      	MUL  R30,R26
000b41 01f0      	MOVW R30,R0
000b42 2f4e      	MOV  R20,R30
000b43 2fe3      	MOV  R30,R19
000b44 53e0      	SUBI R30,LOW(48)
000b45 0f4e      	ADD  R20,R30
000b46 c106      	RJMP _0xC4
                 _0xD2:
000b47 2fe3      	MOV  R30,R19
000b48 36e3      	CPI  R30,LOW(0x63)
000b49 f471      	BRNE _0xD8
000b4a 85ae      	LDD  R26,Y+14
000b4b 85bf      	LDD  R27,Y+14+1
000b4c 9714      	SBIW R26,4
000b4d 87ae      	STD  Y+14,R26
000b4e 87bf      	STD  Y+14+1,R27
000b4f 9614      	ADIW R26,4
000b50 91ec      	LD   R30,X
000b51 93ea      	ST   -Y,R30
000b52 85ed      	LDD  R30,Y+13
000b53 85fe      	LDD  R31,Y+13+1
000b54 93fa      	ST   -Y,R31
000b55 93ea      	ST   -Y,R30
000b56 df8c      	RCALL __put_G4
000b57 c0f4      	RJMP _0xD9
                 _0xD8:
000b58 37e3      	CPI  R30,LOW(0x73)
000b59 f471      	BRNE _0xDB
000b5a 85ae      	LDD  R26,Y+14
000b5b 85bf      	LDD  R27,Y+14+1
000b5c 9714      	SBIW R26,4
000b5d 87ae      	STD  Y+14,R26
000b5e 87bf      	STD  Y+14+1,R27
000b5f 9614      	ADIW R26,4
000b60 d1e3      	RCALL __GETW1P
000b61 83ee      	STD  Y+6,R30
000b62 83ff      	STD  Y+6+1,R31
000b63 93fa      	ST   -Y,R31
000b64 93ea      	ST   -Y,R30
000b65 d158      	RCALL _strlen
000b66 2f0e      	MOV  R16,R30
000b67 c010      	RJMP _0xDC
                 _0xDB:
000b68 37e0      	CPI  R30,LOW(0x70)
000b69 f491      	BRNE _0xDE
000b6a 85ae      	LDD  R26,Y+14
000b6b 85bf      	LDD  R27,Y+14+1
000b6c 9714      	SBIW R26,4
000b6d 87ae      	STD  Y+14,R26
000b6e 87bf      	STD  Y+14+1,R27
000b6f 9614      	ADIW R26,4
000b70 d1d3      	RCALL __GETW1P
000b71 83ee      	STD  Y+6,R30
000b72 83ff      	STD  Y+6+1,R31
000b73 93fa      	ST   -Y,R31
000b74 93ea      	ST   -Y,R30
000b75 d152      	RCALL _strlenf
000b76 2f0e      	MOV  R16,R30
000b77 6018      	ORI  R17,LOW(8)
                 _0xDC:
000b78 6012      	ORI  R17,LOW(2)
000b79 771f      	ANDI R17,LOW(127)
000b7a e020      	LDI  R18,LOW(0)
000b7b c03c      	RJMP _0xDF
                 _0xDE:
000b7c 36e4      	CPI  R30,LOW(0x64)
000b7d f011      	BREQ _0xE2
000b7e 36e9      	CPI  R30,LOW(0x69)
000b7f f411      	BRNE _0xE3
                 _0xE2:
000b80 6014      	ORI  R17,LOW(4)
000b81 c002      	RJMP _0xE4
                 _0xE3:
000b82 37e5      	CPI  R30,LOW(0x75)
000b83 f431      	BRNE _0xE5
                 _0xE4:
000b84 e2ea      	LDI  R30,LOW(_tbl10_G4*2)
000b85 e0f0      	LDI  R31,HIGH(_tbl10_G4*2)
000b86 83ee      	STD  Y+6,R30
000b87 83ff      	STD  Y+6+1,R31
000b88 e005      	LDI  R16,LOW(5)
000b89 c00c      	RJMP _0xE6
                 _0xE5:
000b8a 35e8      	CPI  R30,LOW(0x58)
000b8b f411      	BRNE _0xE8
000b8c 6018      	ORI  R17,LOW(8)
000b8d c003      	RJMP _0xE9
                 _0xE8:
000b8e 37e8      	CPI  R30,LOW(0x78)
000b8f f009      	BREQ PC+2
000b90 c0bb      	RJMP _0x11A
                 _0xE9:
000b91 e3e4      	LDI  R30,LOW(_tbl16_G4*2)
000b92 e0f0      	LDI  R31,HIGH(_tbl16_G4*2)
000b93 83ee      	STD  Y+6,R30
000b94 83ff      	STD  Y+6+1,R31
000b95 e004      	LDI  R16,LOW(4)
                 _0xE6:
000b96 ff12      	SBRS R17,2
000b97 c017      	RJMP _0xEB
000b98 85ae      	LDD  R26,Y+14
000b99 85bf      	LDD  R27,Y+14+1
000b9a 9714      	SBIW R26,4
000b9b 87ae      	STD  Y+14,R26
000b9c 87bf      	STD  Y+14+1,R27
000b9d 9614      	ADIW R26,4
000b9e d1a5      	RCALL __GETW1P
000b9f 87ea      	STD  Y+10,R30
000ba0 87fb      	STD  Y+10+1,R31
000ba1 85aa      	LDD  R26,Y+10
000ba2 85bb      	LDD  R27,Y+10+1
000ba3 9710      	SBIW R26,0
000ba4 f424      	BRGE _0xEC
000ba5 d157      	RCALL __ANEGW1
000ba6 87ea      	STD  Y+10,R30
000ba7 87fb      	STD  Y+10+1,R31
000ba8 e25d      	LDI  R21,LOW(45)
                 _0xEC:
000ba9 3050      	CPI  R21,0
000baa f011      	BREQ _0xED
000bab 5f0f      	SUBI R16,-LOW(1)
000bac c001      	RJMP _0xEE
                 _0xED:
000bad 7f1b      	ANDI R17,LOW(251)
                 _0xEE:
000bae c009      	RJMP _0xEF
                 _0xEB:
000baf 85ae      	LDD  R26,Y+14
000bb0 85bf      	LDD  R27,Y+14+1
000bb1 9714      	SBIW R26,4
000bb2 87ae      	STD  Y+14,R26
000bb3 87bf      	STD  Y+14+1,R27
000bb4 9614      	ADIW R26,4
000bb5 d18e      	RCALL __GETW1P
000bb6 87ea      	STD  Y+10,R30
000bb7 87fb      	STD  Y+10+1,R31
                 _0xEF:
                 _0xDF:
000bb8 fd10      	SBRC R17,0
000bb9 c015      	RJMP _0xF0
                 _0xF1:
000bba 1704      	CP   R16,R20
000bbb f498      	BRSH _0xF3
000bbc ff17      	SBRS R17,7
000bbd c008      	RJMP _0xF4
000bbe ff12      	SBRS R17,2
000bbf c004      	RJMP _0xF5
000bc0 7f1b      	ANDI R17,LOW(251)
000bc1 2f35      	MOV  R19,R21
000bc2 5001      	SUBI R16,LOW(1)
000bc3 c001      	RJMP _0xF6
                 _0xF5:
000bc4 e330      	LDI  R19,LOW(48)
                 _0xF6:
000bc5 c001      	RJMP _0xF7
                 _0xF4:
000bc6 e230      	LDI  R19,LOW(32)
                 _0xF7:
000bc7 933a      	ST   -Y,R19
000bc8 85ed      	LDD  R30,Y+13
000bc9 85fe      	LDD  R31,Y+13+1
000bca 93fa      	ST   -Y,R31
000bcb 93ea      	ST   -Y,R30
000bcc df16      	RCALL __put_G4
000bcd 5041      	SUBI R20,LOW(1)
000bce cfeb      	RJMP _0xF1
                 _0xF3:
                 _0xF0:
000bcf 2f20      	MOV  R18,R16
000bd0 ff11      	SBRS R17,1
000bd1 c01d      	RJMP _0xF8
                 _0xF9:
000bd2 3020      	CPI  R18,0
000bd3 f0d1      	BREQ _0xFB
000bd4 ff13      	SBRS R17,3
000bd5 c008      	RJMP _0xFC
000bd6 81ee      	LDD  R30,Y+6
000bd7 81ff      	LDD  R31,Y+6+1
000bd8 9631      	ADIW R30,1
000bd9 83ee      	STD  Y+6,R30
000bda 83ff      	STD  Y+6+1,R31
000bdb 9731      	SBIW R30,1
000bdc 91e4      	LPM  R30,Z
000bdd c005      	RJMP _0x126
                 _0xFC:
000bde 81ae      	LDD  R26,Y+6
000bdf 81bf      	LDD  R27,Y+6+1
000be0 91ed      	LD   R30,X+
000be1 83ae      	STD  Y+6,R26
000be2 83bf      	STD  Y+6+1,R27
                 _0x126:
000be3 93ea      	ST   -Y,R30
000be4 85ed      	LDD  R30,Y+13
000be5 85fe      	LDD  R31,Y+13+1
000be6 93fa      	ST   -Y,R31
000be7 93ea      	ST   -Y,R30
000be8 defa      	RCALL __put_G4
000be9 3040      	CPI  R20,0
000bea f009      	BREQ _0xFE
000beb 5041      	SUBI R20,LOW(1)
                 _0xFE:
000bec 5021      	SUBI R18,LOW(1)
000bed cfe4      	RJMP _0xF9
                 _0xFB:
000bee c050      	RJMP _0xFF
                 _0xF8:
                 _0x101:
000bef e330      	LDI  R19,LOW(48)
000bf0 81ee      	LDD  R30,Y+6
000bf1 81ff      	LDD  R31,Y+6+1
000bf2 9632      	ADIW R30,2
000bf3 83ee      	STD  Y+6,R30
000bf4 83ff      	STD  Y+6+1,R31
000bf5 9732      	SBIW R30,2
000bf6 d151      	RCALL __GETW1PF
000bf7 87e8      	STD  Y+8,R30
000bf8 87f9      	STD  Y+8+1,R31
                 _0x103:
000bf9 85e8      	LDD  R30,Y+8
000bfa 85f9      	LDD  R31,Y+8+1
000bfb 85aa      	LDD  R26,Y+10
000bfc 85bb      	LDD  R27,Y+10+1
000bfd 17ae      	CP   R26,R30
000bfe 07bf      	CPC  R27,R31
000bff f050      	BRLO _0x105
000c00 5f3f      	SUBI R19,-LOW(1)
000c01 85a8      	LDD  R26,Y+8
000c02 85b9      	LDD  R27,Y+8+1
000c03 85ea      	LDD  R30,Y+10
000c04 85fb      	LDD  R31,Y+10+1
000c05 1bea      	SUB  R30,R26
000c06 0bfb      	SBC  R31,R27
000c07 87ea      	STD  Y+10,R30
000c08 87fb      	STD  Y+10+1,R31
000c09 cfef      	RJMP _0x103
                 _0x105:
000c0a 333a      	CPI  R19,58
000c0b f028      	BRLO _0x106
000c0c ff13      	SBRS R17,3
000c0d c002      	RJMP _0x107
000c0e 5f39      	SUBI R19,-LOW(7)
000c0f c001      	RJMP _0x108
                 _0x107:
000c10 5d39      	SUBI R19,-LOW(39)
                 _0x108:
                 _0x106:
000c11 fd14      	SBRC R17,4
000c12 c01d      	RJMP _0x10A
000c13 3331      	CPI  R19,49
000c14 f420      	BRSH _0x10C
000c15 85a8      	LDD  R26,Y+8
000c16 85b9      	LDD  R27,Y+8+1
000c17 9711      	SBIW R26,1
000c18 f409      	BRNE _0x10B
                 _0x10C:
000c19 c009      	RJMP _0x127
                 _0x10B:
000c1a 1742      	CP   R20,R18
000c1b f010      	BRLO _0x110
000c1c ff10      	SBRS R17,0
000c1d c001      	RJMP _0x111
                 _0x110:
000c1e c01a      	RJMP _0x10F
                 _0x111:
000c1f e230      	LDI  R19,LOW(32)
000c20 ff17      	SBRS R17,7
000c21 c00e      	RJMP _0x112
000c22 e330      	LDI  R19,LOW(48)
                 _0x127:
000c23 6110      	ORI  R17,LOW(16)
000c24 ff12      	SBRS R17,2
000c25 c00a      	RJMP _0x113
000c26 7f1b      	ANDI R17,LOW(251)
000c27 935a      	ST   -Y,R21
000c28 85ed      	LDD  R30,Y+13
000c29 85fe      	LDD  R31,Y+13+1
000c2a 93fa      	ST   -Y,R31
000c2b 93ea      	ST   -Y,R30
000c2c deb6      	RCALL __put_G4
000c2d 3040      	CPI  R20,0
000c2e f009      	BREQ _0x114
000c2f 5041      	SUBI R20,LOW(1)
                 _0x114:
                 _0x113:
                 _0x112:
                 _0x10A:
000c30 933a      	ST   -Y,R19
000c31 85ed      	LDD  R30,Y+13
000c32 85fe      	LDD  R31,Y+13+1
000c33 93fa      	ST   -Y,R31
000c34 93ea      	ST   -Y,R30
000c35 dead      	RCALL __put_G4
000c36 3040      	CPI  R20,0
000c37 f009      	BREQ _0x115
000c38 5041      	SUBI R20,LOW(1)
                 _0x115:
                 _0x10F:
000c39 5021      	SUBI R18,LOW(1)
000c3a 85a8      	LDD  R26,Y+8
000c3b 85b9      	LDD  R27,Y+8+1
000c3c 9712      	SBIW R26,2
000c3d f008      	BRLO _0x102
000c3e cfb0      	RJMP _0x101
                 _0x102:
                 _0xFF:
000c3f ff10      	SBRS R17,0
000c40 c00b      	RJMP _0x116
                 _0x117:
000c41 3040      	CPI  R20,0
000c42 f049      	BREQ _0x119
000c43 5041      	SUBI R20,LOW(1)
000c44 e2e0      	LDI  R30,LOW(32)
000c45 93ea      	ST   -Y,R30
000c46 85ed      	LDD  R30,Y+13
000c47 85fe      	LDD  R31,Y+13+1
000c48 93fa      	ST   -Y,R31
000c49 93ea      	ST   -Y,R30
000c4a de98      	RCALL __put_G4
000c4b cff5      	RJMP _0x117
                 _0x119:
                 _0x116:
                 _0x11A:
                 _0xD9:
                 _0x125:
000c4c e000      	LDI  R16,LOW(0)
                 _0xC4:
000c4d ceab      	RJMP _0xBF
                 _0xC1:
000c4e d109      	RCALL __LOADLOCR6
000c4f 9662      	ADIW R28,18
000c50 9508      	RET
                 _printf:
000c51 92ff      	PUSH R15
000c52 2ef8      	MOV  R15,R24
000c53 9722      	SBIW R28,2
000c54 d100      	RCALL __SAVELOCR2
000c55 01de      	MOVW R26,R28
000c56 d09d      	RCALL __ADDW2R15
000c57 018d      	MOVW R16,R26
000c58 e0e0      	LDI  R30,0
000c59 83ea      	STD  Y+2,R30
000c5a 83eb      	STD  Y+2+1,R30
000c5b 01de      	MOVW R26,R28
000c5c 9614      	ADIW R26,4
000c5d d096      	RCALL __ADDW2R15
000c5e d0e5      	RCALL __GETW1P
000c5f 93fa      	ST   -Y,R31
000c60 93ea      	ST   -Y,R30
000c61 931a      	ST   -Y,R17
000c62 930a      	ST   -Y,R16
000c63 01fe      	MOVW R30,R28
000c64 9636      	ADIW R30,6
000c65 93fa      	ST   -Y,R31
000c66 93ea      	ST   -Y,R30
000c67 de8e      	RCALL __print_G4
000c68 d0f3      	RCALL __LOADLOCR2
000c69 9624      	ADIW R28,4
000c6a 90ff      	POP  R15
000c6b 9508      	RET
                 
                 	.equ __i2c_dir=__i2c_port-1
                 	.equ __i2c_pin=__i2c_port-2
                 _i2c_init:
000c6c 9892      	cbi  __i2c_port,__scl_bit
000c6d 9893      	cbi  __i2c_port,__sda_bit
000c6e 9a8a      	sbi  __i2c_dir,__scl_bit
000c6f 988b      	cbi  __i2c_dir,__sda_bit
000c70 c015      	rjmp __i2c_delay2
                 _i2c_start:
000c71 988b      	cbi  __i2c_dir,__sda_bit
000c72 988a      	cbi  __i2c_dir,__scl_bit
000c73 27ee      	clr  r30
000c74 0000      	nop
000c75 9b83      	sbis __i2c_pin,__sda_bit
000c76 9508      	ret
000c77 9b82      	sbis __i2c_pin,__scl_bit
000c78 9508      	ret
000c79 d004      	rcall __i2c_delay1
000c7a 9a8b      	sbi  __i2c_dir,__sda_bit
000c7b d002      	rcall __i2c_delay1
000c7c 9a8a      	sbi  __i2c_dir,__scl_bit
000c7d e0e1      	ldi  r30,1
                 __i2c_delay1:
000c7e e16b      	ldi  r22,27
000c7f c007      	rjmp __i2c_delay2l
                 _i2c_stop:
000c80 9a8b      	sbi  __i2c_dir,__sda_bit
000c81 9a8a      	sbi  __i2c_dir,__scl_bit
000c82 d003      	rcall __i2c_delay2
000c83 988a      	cbi  __i2c_dir,__scl_bit
000c84 dff9      	rcall __i2c_delay1
000c85 988b      	cbi  __i2c_dir,__sda_bit
                 __i2c_delay2:
000c86 e365      	ldi  r22,53
                 __i2c_delay2l:
000c87 956a      	dec  r22
000c88 f7f1      	brne __i2c_delay2l
000c89 9508      	ret
                 _i2c_read:
000c8a e078      	ldi  r23,8
                 __i2c_read0:
000c8b 988a      	cbi  __i2c_dir,__scl_bit
000c8c dff1      	rcall __i2c_delay1
                 __i2c_read3:
000c8d 9b82      	sbis __i2c_pin,__scl_bit
000c8e cffe      	rjmp __i2c_read3
000c8f dfee      	rcall __i2c_delay1
000c90 9488      	clc
000c91 9983      	sbic __i2c_pin,__sda_bit
000c92 9408      	sec
000c93 9a8a      	sbi  __i2c_dir,__scl_bit
000c94 dff1      	rcall __i2c_delay2
000c95 1fee      	rol  r30
000c96 957a      	dec  r23
000c97 f799      	brne __i2c_read0
000c98 9179      	ld   r23,y+
000c99 2377      	tst  r23
000c9a f411      	brne __i2c_read1
000c9b 988b      	cbi  __i2c_dir,__sda_bit
000c9c c001      	rjmp __i2c_read2
                 __i2c_read1:
000c9d 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_read2:
000c9e dfdf      	rcall __i2c_delay1
000c9f 988a      	cbi  __i2c_dir,__scl_bit
000ca0 dfe5      	rcall __i2c_delay2
000ca1 9a8a      	sbi  __i2c_dir,__scl_bit
000ca2 dfdb      	rcall __i2c_delay1
000ca3 988b      	cbi  __i2c_dir,__sda_bit
000ca4 cfd9      	rjmp __i2c_delay1
                 
                 _i2c_write:
000ca5 91e9      	ld   r30,y+
000ca6 e078      	ldi  r23,8
                 __i2c_write0:
000ca7 0fee      	lsl  r30
000ca8 f410      	brcc __i2c_write1
000ca9 988b      	cbi  __i2c_dir,__sda_bit
000caa c001      	rjmp __i2c_write2
                 __i2c_write1:
000cab 9a8b      	sbi  __i2c_dir,__sda_bit
                 __i2c_write2:
000cac dfd9      	rcall __i2c_delay2
000cad 988a      	cbi  __i2c_dir,__scl_bit
000cae dfcf      	rcall __i2c_delay1
                 __i2c_write3:
000caf 9b82      	sbis __i2c_pin,__scl_bit
000cb0 cffe      	rjmp __i2c_write3
000cb1 dfcc      	rcall __i2c_delay1
000cb2 9a8a      	sbi  __i2c_dir,__scl_bit
000cb3 957a      	dec  r23
000cb4 f791      	brne __i2c_write0
000cb5 988b      	cbi  __i2c_dir,__sda_bit
000cb6 dfc7      	rcall __i2c_delay1
000cb7 988a      	cbi  __i2c_dir,__scl_bit
000cb8 dfcd      	rcall __i2c_delay2
000cb9 e0e1      	ldi  r30,1
000cba 9983      	sbic __i2c_pin,__sda_bit
000cbb 27ee      	clr  r30
000cbc 9a8a      	sbi  __i2c_dir,__scl_bit
000cbd 9508      	ret
                 
                 _strlen:
000cbe 91a9      	ld   r26,y+
000cbf 91b9      	ld   r27,y+
000cc0 27ee      	clr  r30
000cc1 27ff      	clr  r31
                 __strlen0:
000cc2 916d      	ld   r22,x+
000cc3 2366      	tst  r22
000cc4 f011      	breq __strlen1
000cc5 9631      	adiw r30,1
000cc6 cffb      	rjmp __strlen0
                 __strlen1:
000cc7 9508      	ret
                 
                 _strlenf:
000cc8 27aa      	clr  r26
000cc9 27bb      	clr  r27
000cca 91e9      	ld   r30,y+
000ccb 91f9      	ld   r31,y+
                 __strlenf0:
000ccc 9005      	lpm  r0,z+
000ccd 2000      	tst  r0
000cce f011      	breq __strlenf1
000ccf 9611      	adiw r26,1
000cd0 cffb      	rjmp __strlenf0
                 __strlenf1:
000cd1 01fd      	movw r30,r26
000cd2 9508      	ret
                 
                 _delay_ms:
000cd3 91e9      	ld   r30,y+
000cd4 91f9      	ld   r31,y+
000cd5 9630      	adiw r30,0
000cd6 f039      	breq __delay_ms1
                 __delay_ms0:
000cd7 ea80
000cd8 e09f
000cd9 9701
000cda f7f1      	__DELAY_USW 0xFA0
000cdb 95a8      	wdr
000cdc 9731      	sbiw r30,1
000cdd f7c9      	brne __delay_ms0
                 __delay_ms1:
000cde 9508      	ret
                 
                 _bcd2bin:
000cdf 81e8      	ld   r30,y
000ce0 95e2      	swap r30
000ce1 70ef      	andi r30,0xf
000ce2 2fae      	mov  r26,r30
000ce3 0faa      	lsl  r26
000ce4 0faa      	lsl  r26
000ce5 0fea      	add  r30,r26
000ce6 0fee      	lsl  r30
000ce7 91a9      	ld   r26,y+
000ce8 70af      	andi r26,0xf
000ce9 0fea      	add  r30,r26
000cea 9508      	ret
                 
                 _bin2bcd:
000ceb 91a9      	ld   r26,y+
000cec 27ee      	clr  r30
                 __bin2bcd0:
000ced 50aa      	subi r26,10
000cee f012      	brmi __bin2bcd1
000cef 5fe0      	subi r30,-16
000cf0 cffc      	rjmp __bin2bcd0
                 __bin2bcd1:
000cf1 5fa6      	subi r26,-10
000cf2 0fea      	add  r30,r26
000cf3 9508      	ret
                 
                 __ADDW2R15:
000cf4 2400      	CLR  R0
000cf5 0daf      	ADD  R26,R15
000cf6 1db0      	ADC  R27,R0
000cf7 9508      	RET
                 
                 __ORD12:
000cf8 2bea      	OR   R30,R26
000cf9 2bfb      	OR   R31,R27
000cfa 2b68      	OR   R22,R24
000cfb 2b79      	OR   R23,R25
000cfc 9508      	RET
                 
                 __ANEGW1:
000cfd 95e0      	COM  R30
000cfe 95f0      	COM  R31
000cff 9631      	ADIW R30,1
000d00 9508      	RET
                 
                 __LSLD12:
000d01 23ee      	TST  R30
000d02 2e0e      	MOV  R0,R30
000d03 01fd      	MOVW R30,R26
000d04 01bc      	MOVW R22,R24
000d05 f031      	BREQ __LSLD12R
                 __LSLD12L:
000d06 0fee      	LSL  R30
000d07 1fff      	ROL  R31
000d08 1f66      	ROL  R22
000d09 1f77      	ROL  R23
000d0a 940a      	DEC  R0
000d0b f7d1      	BRNE __LSLD12L
                 __LSLD12R:
000d0c 9508      	RET
                 
                 __LSRD12:
000d0d 23ee      	TST  R30
000d0e 2e0e      	MOV  R0,R30
000d0f 01fd      	MOVW R30,R26
000d10 01bc      	MOVW R22,R24
000d11 f031      	BREQ __LSRD12R
                 __LSRD12L:
000d12 9576      	LSR  R23
000d13 9567      	ROR  R22
000d14 95f7      	ROR  R31
000d15 95e7      	ROR  R30
000d16 940a      	DEC  R0
000d17 f7d1      	BRNE __LSRD12L
                 __LSRD12R:
000d18 9508      	RET
                 
                 __LSLW4:
000d19 0fee      	LSL  R30
000d1a 1fff      	ROL  R31
                 __LSLW3:
000d1b 0fee      	LSL  R30
000d1c 1fff      	ROL  R31
                 __LSLW2:
000d1d 0fee      	LSL  R30
000d1e 1fff      	ROL  R31
000d1f 0fee      	LSL  R30
000d20 1fff      	ROL  R31
000d21 9508      	RET
                 
                 __LSRD16:
000d22 2fe6      	MOV  R30,R22
000d23 2ff7      	MOV  R31,R23
000d24 e060      	LDI  R22,0
000d25 e070      	LDI  R23,0
000d26 9508      	RET
                 
                 __LSLD16:
000d27 2f6e      	MOV  R22,R30
000d28 2f7f      	MOV  R23,R31
000d29 e0e0      	LDI  R30,0
000d2a e0f0      	LDI  R31,0
000d2b 9508      	RET
                 
                 __COMD1:
000d2c 95e0      	COM  R30
000d2d 95f0      	COM  R31
000d2e 9560      	COM  R22
000d2f 9570      	COM  R23
000d30 9508      	RET
                 
                 __DIVW21U:
000d31 2400      	CLR  R0
000d32 2411      	CLR  R1
000d33 e190      	LDI  R25,16
                 __DIVW21U1:
000d34 0faa      	LSL  R26
000d35 1fbb      	ROL  R27
000d36 1c00      	ROL  R0
000d37 1c11      	ROL  R1
000d38 1a0e      	SUB  R0,R30
000d39 0a1f      	SBC  R1,R31
000d3a f418      	BRCC __DIVW21U2
000d3b 0e0e      	ADD  R0,R30
000d3c 1e1f      	ADC  R1,R31
000d3d c001      	RJMP __DIVW21U3
                 __DIVW21U2:
000d3e 60a1      	SBR  R26,1
                 __DIVW21U3:
000d3f 959a      	DEC  R25
000d40 f799      	BRNE __DIVW21U1
000d41 01fd      	MOVW R30,R26
000d42 01d0      	MOVW R26,R0
000d43 9508      	RET
                 
                 __GETW1P:
000d44 91ed      	LD   R30,X+
000d45 91fc      	LD   R31,X
000d46 9711      	SBIW R26,1
000d47 9508      	RET
                 
                 __GETW1PF:
000d48 9005      	LPM  R0,Z+
000d49 91f4      	LPM  R31,Z
000d4a 2de0      	MOV  R30,R0
000d4b 9508      	RET
                 
                 __PUTPARD1:
000d4c 937a      	ST   -Y,R23
000d4d 936a      	ST   -Y,R22
000d4e 93fa      	ST   -Y,R31
000d4f 93ea      	ST   -Y,R30
000d50 9508      	RET
                 
                 __SAVELOCR6:
000d51 935a      	ST   -Y,R21
                 __SAVELOCR5:
000d52 934a      	ST   -Y,R20
                 __SAVELOCR4:
000d53 933a      	ST   -Y,R19
                 __SAVELOCR3:
000d54 932a      	ST   -Y,R18
                 __SAVELOCR2:
000d55 931a      	ST   -Y,R17
000d56 930a      	ST   -Y,R16
000d57 9508      	RET
                 
                 __LOADLOCR6:
000d58 815d      	LDD  R21,Y+5
                 __LOADLOCR5:
000d59 814c      	LDD  R20,Y+4
                 __LOADLOCR4:
000d5a 813b      	LDD  R19,Y+3
                 __LOADLOCR3:
000d5b 812a      	LDD  R18,Y+2
                 __LOADLOCR2:
000d5c 8119      	LDD  R17,Y+1
000d5d 8108      	LD   R16,Y
000d5e 9508      	RET
                 
                 __LOADLOCR2P:
000d5f 9109      	LD   R16,Y+
000d60 9119      	LD   R17,Y+
000d61 9508      	RET
                 
                 __INITLOCB:
                 __INITLOCW:
000d62 0fac      	ADD R26,R28
000d63 1fbd      	ADC R27,R29
                 __INITLOC0:
000d64 9005      	LPM  R0,Z+
000d65 920d      	ST   X+,R0
000d66 958a      	DEC  R24
000d67 f7e1      	BRNE __INITLOC0
000d68 9508      	RET
                 
                 ;END OF CODE MARKER
                 __END_OF_CODE:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

ATmega8515 register use summary:
r0 :  22 r1 :   5 r2 :  21 r3 :   0 r4 :  39 r5 :  12 r6 :   6 r7 :   7 
r8 :   7 r9 :  12 r10:   5 r11:   6 r12:   5 r13:   0 r14:   0 r15:   4 
r16:  80 r17:  63 r18:  30 r19:  38 r20:  23 r21:   9 r22:  87 r23:  81 
r24:  41 r25:  24 r26: 276 r27: 155 r28:  30 r29:   2 r30: 930 r31: 388 
x  :  34 y  : 435 z  :  14 
Registers used: 32 out of 35 (91.4%)

ATmega8515 instruction use summary:
adc   :  25 add   :  34 adiw  :  81 and   :   0 andi  :  92 asr   :   0 
bclr  :   0 bld   :  13 brbc  :   0 brbs  :   0 brcc  :   2 brcs  :   0 
break :   0 breq  :  39 brge  :   1 brhc  :   0 brhs  :   0 brid  :   0 
brie  :   0 brlo  :  35 brlt  :   0 brmi  :   1 brne  :  71 brpl  :   0 
brsh  :  15 brtc  :   0 brts  :   0 brvc  :   0 brvs  :   0 bset  :   0 
bst   :   1 cbi   :  38 cbr   :   0 clc   :   1 clh   :   0 cli   :   2 
cln   :   0 clr   :  94 cls   :   0 clt   :   6 clv   :   0 clz   :   0 
com   :   7 cp    :  24 cpc   :  30 cpi   : 104 cpse  :   0 dec   :   8 
eor   :   0 fmul  :   0 fmuls :   0 fmulsu:   0 icall :   0 ijmp  :   0 
in    :   8 inc   :   2 ld    :  50 ldd   : 151 ldi   : 269 lds   : 266 
lpm   :  13 lsl   :  15 lsr   :   1 mov   :  58 movw  :  56 mul   :   1 
muls  :   0 mulsu :   0 neg   :   0 nop   :   4 or    :  10 ori   :   8 
out   :  46 pop   :  31 push  :  31 rcall : 225 ret   :  53 reti  :   2 
rjmp  : 157 rol   :  11 ror   :   3 sbc   :   2 sbci  :  24 sbi   :  33 
sbic  :   4 sbis  :   7 sbiw  :  33 sbr   :   1 sbrc  :   3 sbrs  :  18 
sec   :   1 seh   :   0 sei   :   2 sen   :   0 ser   :   0 ses   :   0 
set   :   6 sev   :   0 sez   :   0 sleep :   0 spm   :   0 st    : 222 
std   :  47 sts   : 190 sub   :   2 subi  :  74 swap  :   1 tst   :   6 
wdr   :   7 
Instructions used: 67 out of 109 (61.5%)

ATmega8515 memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x001ad2   6668    198   6866    8192  83.8%
[.dseg] 0x000060 0x00010b      0     43     43     512   8.4%
[.eseg] 0x000000 0x000000      0      0      0     512   0.0%

Assembly complete, 0 errors, 11 warnings
